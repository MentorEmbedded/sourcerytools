<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> new 'check' command
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20new%20%27check%27%20command&In-Reply-To=%3C3F6903F8.1050304%40sympatico.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000512.html">
   <LINK REL="Next"  HREF="000522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>new 'check' command</H1>
    <B>Stefan Seefeld</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20new%20%27check%27%20command&In-Reply-To=%3C3F6903F8.1050304%40sympatico.ca%3E"
       TITLE="new 'check' command">seefeld at sympatico.ca
       </A><BR>
    <I>Thu Sep 18 01:01:44 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000512.html">[qmtest] and here comes...
</A></li>
        <LI>Next message: <A HREF="000522.html">[qmtest] new 'check' command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#513">[ date ]</a>
              <a href="thread.html#513">[ thread ]</a>
              <a href="subject.html#513">[ subject ]</a>
              <a href="author.html#513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi there,

this patch allows to run the self-tests (as priviously done
with 'make check'). It operates with the executable and modules
inside the source tree. To be able to do this I had to make two
(temporary, I hope) changes:

* define QM_BUILD (this is detected by the presence of the qm.config
   module, which, when found, means QM_BUILD = 0

* as the qmtest.py executable is right now in an unusual place,
   I can't use the same procedure to deduce QM_HOME from it.
   As a temporary workaround (until the source tree layout is
   cleaned up) I set QM_HOME from within the qm/__init__.py
   file only if it is not already defined. This means that in
   order to run the 'check' command right now you have to define
   QM_HOME manually.

Please see 'python setup.py check --help' for the options, all
test classes can be selected individually, 'all' is the default.

Please let me know what features are missing from the new build
system before you are ready for the file layout rearrangement.
Once things are made more isomorphic to an installed tree (such
as all data moved out of the 'qm' subtree into 'share/qm/', the
'qmtest.py' executable to 'bin/qmtest', etc.) I can do some cleanup,
such as remove the code using QM_BUILD and QM_HOME.

Regards,
		Stefan

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: check.py
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/qmtest/attachments/20030917/c8191c13/attachment.ksh">http://sourcerytools.com/pipermail/qmtest/attachments/20030917/c8191c13/attachment.ksh</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/qmtest/attachments/20030917/c8191c13/attachment-0001.ksh">http://sourcerytools.com/pipermail/qmtest/attachments/20030917/c8191c13/attachment-0001.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000512.html">[qmtest] and here comes...
</A></li>
	<LI>Next message: <A HREF="000522.html">[qmtest] new 'check' command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#513">[ date ]</a>
              <a href="thread.html#513">[ thread ]</a>
              <a href="subject.html#513">[ subject ]</a>
              <a href="author.html#513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
