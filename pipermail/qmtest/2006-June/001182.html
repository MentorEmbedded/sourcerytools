<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] patch: Various enhancements and fixes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20patch%3A%20Various%20enhancements%20and%20fixes&In-Reply-To=%3C4480B810.8010100%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001181.html">
   <LINK REL="Next"  HREF="001183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] patch: Various enhancements and fixes</H1>
    <B>Stefan Seefeld</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20patch%3A%20Various%20enhancements%20and%20fixes&In-Reply-To=%3C4480B810.8010100%40codesourcery.com%3E"
       TITLE="[qmtest] patch: Various enhancements and fixes">stefan at codesourcery.com
       </A><BR>
    <I>Fri Jun  2 22:13:36 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001181.html">[qmtest] patch: Various enhancements and fixes
</A></li>
        <LI>Next message: <A HREF="001183.html">[qmtest] patch: Various enhancements and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1182">[ date ]</a>
              <a href="thread.html#1182">[ thread ]</a>
              <a href="subject.html#1182">[ subject ]</a>
              <a href="author.html#1182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark Mitchell wrote:
&gt;<i> Stefan Seefeld wrote:
</I>
&gt;&gt;<i> Index: qm/extension.py
</I>&gt;&gt;<i> ===================================================================
</I>&gt;&gt;<i> RCS file: /home/qm/Repository/qm/qm/extension.py,v
</I>&gt;&gt;<i> retrieving revision 1.20
</I>&gt;&gt;<i> diff -u -r1.20 extension.py
</I>&gt;&gt;<i> --- qm/extension.py	1 Dec 2005 08:27:12 -0000	1.20
</I>&gt;&gt;<i> +++ qm/extension.py	2 Jun 2006 12:54:48 -0000
</I>&gt;&gt;<i> @@ -151,7 +151,8 @@
</I>&gt;&gt;<i>          if __debug__:
</I>&gt;&gt;<i>              dictionary = get_class_arguments_as_dictionary(self.__class__)
</I>&gt;&gt;<i>              for a, v in arguments.items():
</I>&gt;&gt;<i> -                assert dictionary.has_key(a)
</I>&gt;&gt;<i> +                if not dictionary.has_key(a):
</I>&gt;&gt;<i> +                    raise AttributeError, a
</I>&gt;<i> 
</I>&gt;<i> What is the logic for this change?  We're in __debug__ so we know assert
</I>&gt;<i> will work.  I'm fine with the change; I'm just curious as to the reason.
</I>
I was running some extension class that I passed a wrong attribute in its
constructor, and all I got was an assertion error, i.e. no information
about what the wrong attribute was. The above change was the only way
for me to see what I did wrong.

&gt;&gt;<i> +    def GetStringList(self, key, default = None):
</I>&gt;&gt;<i> +        &quot;&quot;&quot;Return the list of strings associated with 'key'.
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +        'key' -- A string.
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +        'default' -- A default list.
</I>&gt;&gt;<i> +
</I>&gt;&gt;<i> +        If there is no value associated with 'key' and default is not
</I>&gt;&gt;<i> +        'None', then the boolean value associated with default is
</I>&gt;&gt;<i> +        used.  
</I>&gt;<i> 
</I>&gt;<i> What do you mean &quot;boolean value&quot;?  It looks like you just return
</I>&gt;<i> default.  It also seems like &quot;[]&quot; would be a better default.
</I>
Sorry, I was mindlessly c&amp;p'ing (from 'GetBoolean()').
In fact, whenever 'default' is not None, it is returned if there
is no variable associated with 'key'. Thus, users who want to
provide an empty list as default value should call the function
as 'GetStringList(key, [])'.

Thanks,
		Stefan

-- 
Stefan Seefeld
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">stefan at codesourcery.com</A>
(650) 331-3385 x718

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001181.html">[qmtest] patch: Various enhancements and fixes
</A></li>
	<LI>Next message: <A HREF="001183.html">[qmtest] patch: Various enhancements and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1182">[ date ]</a>
              <a href="thread.html#1182">[ thread ]</a>
              <a href="subject.html#1182">[ subject ]</a>
              <a href="author.html#1182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
