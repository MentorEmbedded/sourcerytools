<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] Proposal: modules reload
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Proposal%3A%20modules%20reload&In-Reply-To=%3C1051024950.8303.192.camel%40doubledemon.codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000313.html">
   <LINK REL="Next"  HREF="000316.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] Proposal: modules reload</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Proposal%3A%20modules%20reload&In-Reply-To=%3C1051024950.8303.192.camel%40doubledemon.codesourcery.com%3E"
       TITLE="[qmtest] Proposal: modules reload">mark at codesourcery.com
       </A><BR>
    <I>Tue Apr 22 15:22:29 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000313.html">[qmtest] Proposal: modules reload
</A></li>
        <LI>Next message: <A HREF="000316.html">[qmtest] Proposal: modules reload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#314">[ date ]</a>
              <a href="thread.html#314">[ thread ]</a>
              <a href="subject.html#314">[ subject ]</a>
              <a href="author.html#314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; I've thought about this in the past and never came to a definite
</I>&gt;<i> &gt; conclusion.  On the one hand, reloading the modules *should* work, but
</I>&gt;<i> &gt; I'm never sure it will always leave things in a consistent state.  (What
</I>&gt;<i> &gt; if there is global data in those modules, or data elsewhere that has
</I>&gt;<i> &gt; class types where the classes are defined in those modules?)
</I>&gt;<i> 
</I>&gt;<i> Is that really possible? I though that tests/resources are short-lived 
</I>&gt;<i> entities: i.e. they are loaded, run and leave only annotations behind.
</I>&gt;<i> Are test/resources instances stored anywhere?
</I>
No, test/resources are never stored, presently, and that is by design:
they might be big expensive objects.  However, it's possible that a
database implementation might cache them, and sometime we'd like QMTest
to be able to serve multiple test runs concurrently, so it might happen
someday.  

It would probably be OK to do what you suggest; we could always do some
kind of synchronization later, if required.

&gt;<i> &gt; Maybe a good place to start would be a &quot;Restart&quot; command on the QMTest
</I>&gt;<i> &gt; file menu that would just shut down QMTest, and restart it, on the same
</I>&gt;<i> &gt; port?
</I>&gt;<i> 
</I>&gt;<i> That would be good for use cases you mention, but I have no idea how to 
</I>&gt;<i> imlement this. Do you mean that a QMTestServer instance is restarted,
</I>&gt;<i> or entire qmtest script, or...
</I>
The easiest thing is probably to restart the whole script; do a re-exec
of the main Python script, which will flush all the modules and such.
 
-- 
Mark Mitchell
CodeSourcery, LLC
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">mark at codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000313.html">[qmtest] Proposal: modules reload
</A></li>
	<LI>Next message: <A HREF="000316.html">[qmtest] Proposal: modules reload
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#314">[ date ]</a>
              <a href="thread.html#314">[ thread ]</a>
              <a href="subject.html#314">[ subject ]</a>
              <a href="author.html#314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
