<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] os.system0 use in resource SetUp methods
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20os.system0%20use%20in%20resource%20SetUp%20methods&In-Reply-To=%3CBB93B528-1E96-11D8-A233-000A957CD5B0%40egenera.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000614.html">
   <LINK REL="Next"  HREF="000623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] os.system0 use in resource SetUp methods</H1>
    <B>Steve Byan</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20os.system0%20use%20in%20resource%20SetUp%20methods&In-Reply-To=%3CBB93B528-1E96-11D8-A233-000A957CD5B0%40egenera.com%3E"
       TITLE="[qmtest] os.system0 use in resource SetUp methods">smb at egenera.com
       </A><BR>
    <I>Mon Nov 24 15:56:14 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000614.html">[qmtest] os.system0 use in resource SetUp methods
</A></li>
        <LI>Next message: <A HREF="000623.html">[qmtest] os.system0 use in resource SetUp methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 21, 2003, at 8:39 PM, Mark Mitchell wrote:

&gt;<i> On Fri, 2003-11-21 at 13:54, Steve Byan wrote:
</I>&gt;&gt;<i> I've written a couple of test extension classes modeled on
</I>&gt;&gt;<i> ShellCommandTest and ShellScriptTest which use a remote shell to
</I>&gt;&gt;<i> execute the tests on a remote host specified by a &quot;node&quot; resource
</I>&gt;&gt;<i> extension class, which selects one host from those provided in the
</I>&gt;&gt;<i> context by a target extension class.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to check the state of the selected host in the resource SetUp
</I>&gt;&gt;<i> method. I've tried using code like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>          # test that pServer is up and running
</I>&gt;&gt;<i>          if os.system(&quot;ping -c 3 &quot; + remote_host + &quot; &gt;/dev/null&quot;) != 
</I>&gt;&gt;<i> 0:
</I>&gt;&gt;<i>              cause = &quot;Can't ping &quot; + blade + &quot; at hostname &quot; +
</I>&gt;&gt;<i> remote_host
</I>&gt;&gt;<i>              result.Fail(cause=cause)
</I>&gt;&gt;<i>              return
</I>&gt;<i>
</I>&gt;<i> Does this problem happen with the CVS version of QMTest or only with
</I>&gt;<i> QMTest 2.0.3?  In 2.0.3, there were some bugs involving test/resource
</I>&gt;<i> dependencies that might have caused problems here.
</I>
I've only tried 2.0.3; I haven't set up access to the QMTest CVS 
repository. I'll retest when 2.1 is out.

&gt;<i> I can't think of any reason that the GUI should present particular
</I>&gt;<i> problems here; we'll have to have more information to figure out what's
</I>&gt;<i> going wrong.
</I>
I suspect the problem is somewhere in the platform thread support. The 
problem turns out to be platform-specific, or at least python-version 
specific. The GUI hangs on MacOS X, 10.3.1  which comes with python 
2.3, but not on RedHat 9.0, which comes with python 2.2.2. In previous 
versions of Mac OS X, the POSIX thread support was reputed to be weak. 
(Of course, so is Linux's :-)

For now, I'll use the &quot;run it on Linux&quot; work-around.

Regards,
-Steve
--------
Steve Byan &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">smb at egenera.com</A>&gt;
Software Architect
Egenera, Inc.
165 Forest Street
Marlboro, MA 01752
(508) 858-3125


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000614.html">[qmtest] os.system0 use in resource SetUp methods
</A></li>
	<LI>Next message: <A HREF="000623.html">[qmtest] os.system0 use in resource SetUp methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#622">[ date ]</a>
              <a href="thread.html#622">[ thread ]</a>
              <a href="subject.html#622">[ subject ]</a>
              <a href="author.html#622">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
