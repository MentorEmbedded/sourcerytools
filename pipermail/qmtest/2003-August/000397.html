<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] [PATCH] Revamp QMTest version number handling.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20%5BPATCH%5D%20Revamp%20QMTest%20version%20number%20handling.&In-Reply-To=%3C1060548656.3353.7.camel%40minax.codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000396.html">
   <LINK REL="Next"  HREF="000398.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] [PATCH] Revamp QMTest version number handling.</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20%5BPATCH%5D%20Revamp%20QMTest%20version%20number%20handling.&In-Reply-To=%3C1060548656.3353.7.camel%40minax.codesourcery.com%3E"
       TITLE="[qmtest] [PATCH] Revamp QMTest version number handling.">mark at codesourcery.com
       </A><BR>
    <I>Sun Aug 10 20:50:56 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000396.html">[PATCH] Revamp QMTest version number handling.
</A></li>
        <LI>Next message: <A HREF="000398.html">[qmtest] [PATCH] Revamp QMTest version number handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#397">[ date ]</a>
              <a href="thread.html#397">[ thread ]</a>
              <a href="subject.html#397">[ subject ]</a>
              <a href="author.html#397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2003-08-10 at 02:04, Nathaniel Smith wrote:
&gt;<i> Attached patch contains no user-visible change in functionality, but
</I>&gt;<i> does clean up the handling of the overall QMTest version number.
</I>&gt;<i> 
</I>&gt;<i> This can be considered part n of my long-term quest to kill
</I>&gt;<i> setup_path.py.in.  In some sense with this patch I've succeeded, since
</I>&gt;<i> setup_path.py.in no longer needs to undergo @@ substitution, and is
</I>&gt;<i> renamed to setup_path.py...
</I>&gt;<i> 
</I>&gt;<i> The general idea is to provide variables qm.version and
</I>&gt;<i> qm.version_info exactly analogous to the standard python variables
</I>&gt;<i> sys.version and sys.version_info.  The current code has a very strange
</I>&gt;<i> idea of version numbers; it stores them in a single QMTest object and
</I>&gt;<i> provides a method to read them.  This is strange because firstly, the
</I>&gt;<i> version numbers are necessarily immutable over the life of an
</I>&gt;<i> interpreter, so having a function to fetch them is odd.  Secondly, and
</I>&gt;<i> more importantly, the version number is a property of the qm package
</I>&gt;<i> as a whole, not any particular QMTest object; it makes perfect sense
</I>&gt;<i> to want to know the version of the qm package without first
</I>&gt;<i> instantiating a QMTest object.  Especially since prior to this patch,
</I>&gt;<i> on can't instantiate a QMTest object without knowing the version
</I>&gt;<i> number :-).
</I>&gt;<i> 
</I>&gt;<i> This patch leaves 'QMTest.GetVersion' working, but if Jeffrey is the
</I>&gt;<i> only one using it, then I'd suggest removing it altogether.  Its new
</I>&gt;<i> implementation is just &quot;return qm.version_info&quot;.
</I>&gt;<i> 
</I>&gt;<i> Comments?
</I>
I think the patch is fine.  I don't think there's any harm in leaving
GetVersion there, but then again there's not really any harm in taking
it out either.  You can make that decision, but make sure to let me
know; we'll have to tweak the ABI testsuite again if you take that out.

Thanks,

-- 
Mark Mitchell &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">mark at codesourcery.com</A>&gt;
CodeSourcery, LLC


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000396.html">[PATCH] Revamp QMTest version number handling.
</A></li>
	<LI>Next message: <A HREF="000398.html">[qmtest] [PATCH] Revamp QMTest version number handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#397">[ date ]</a>
              <a href="thread.html#397">[ thread ]</a>
              <a href="subject.html#397">[ subject ]</a>
              <a href="author.html#397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
