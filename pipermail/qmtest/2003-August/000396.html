<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] Revamp QMTest version number handling.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5BPATCH%5D%20Revamp%20QMTest%20version%20number%20handling.&In-Reply-To=%3C20030810090413.GA7464%40njs.dhis.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000395.html">
   <LINK REL="Next"  HREF="000397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] Revamp QMTest version number handling.</H1>
    <B>Nathaniel Smith</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5BPATCH%5D%20Revamp%20QMTest%20version%20number%20handling.&In-Reply-To=%3C20030810090413.GA7464%40njs.dhis.org%3E"
       TITLE="[PATCH] Revamp QMTest version number handling.">njs at pobox.com
       </A><BR>
    <I>Sun Aug 10 09:04:13 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000395.html">[qmtest] Problem loading expectation
</A></li>
        <LI>Next message: <A HREF="000397.html">[qmtest] [PATCH] Revamp QMTest version number handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#396">[ date ]</a>
              <a href="thread.html#396">[ thread ]</a>
              <a href="subject.html#396">[ subject ]</a>
              <a href="author.html#396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached patch contains no user-visible change in functionality, but
does clean up the handling of the overall QMTest version number.

This can be considered part n of my long-term quest to kill
setup_path.py.in.  In some sense with this patch I've succeeded, since
setup_path.py.in no longer needs to undergo @@ substitution, and is
renamed to setup_path.py...

The general idea is to provide variables qm.version and
qm.version_info exactly analogous to the standard python variables
sys.version and sys.version_info.  The current code has a very strange
idea of version numbers; it stores them in a single QMTest object and
provides a method to read them.  This is strange because firstly, the
version numbers are necessarily immutable over the life of an
interpreter, so having a function to fetch them is odd.  Secondly, and
more importantly, the version number is a property of the qm package
as a whole, not any particular QMTest object; it makes perfect sense
to want to know the version of the qm package without first
instantiating a QMTest object.  Especially since prior to this patch,
on can't instantiate a QMTest object without knowing the version
number :-).

This patch leaves 'QMTest.GetVersion' working, but if Jeffrey is the
only one using it, then I'd suggest removing it altogether.  Its new
implementation is just &quot;return qm.version_info&quot;.

Comments?

-- Nathaniel

-- 
In mathematics, it's not enough to read the words
you have to hear the music
-------------- next part --------------
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/ChangeLog qm-version-handling/ChangeLog
--- qm-clean/ChangeLog	2003-08-09 00:09:58.000000000 -0700
+++ qm-version-handling/ChangeLog	2003-08-10 01:41:53.000000000 -0700
@@ -1,3 +1,24 @@
+2003-08-10  Nathaniel Smith  &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">njs at codesourcery.com</A>&gt;
+
+	* qm/version.py.in: New file.
+	* qm/setup_path.py.in: Remove version handling, and rename to...
+	* qm/setup_path.py: ...this.
+	* qm/.cvsignore: Add version.py, remove setup_path.py.
+	* configure.in (AC_OUTPUT): Munge qm/version.py.in instead of
+	qm/setup_path.py.in.
+	* configure: Regenerate.
+	* GNUmakefile.in (all): Remove qm/setup_path.py.
+	(distclean): Delete qm/version.py, don't delete
+	qm/setup_path.py.
+	* qm/__init__.py: Import version, version_info from qm.version.
+	* qm/test/qmtest.py (main): Don't pass version to QMTest
+	initializer.
+	* qm/test/cmdline.py (QMTest.__init__): Don't accept or record
+	version information.
+	(QMTest.GetVersion): Use new qm.version_info variable.
+	(QMTest.Execute): Don't call QMTest._GetVersionString.
+	(QMTest._GetVersionString): Remove.
+	
 2003-08-08  Nathaniel Smith  &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">njs at codesourcery.com</A>&gt;
 
 	* qm/test/context.py (ContextException.__safe_for_unpickling__):
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/GNUmakefile.in qm-version-handling/GNUmakefile.in
--- qm-clean/GNUmakefile.in	2003-08-07 11:10:43.000000000 -0700
+++ qm-version-handling/GNUmakefile.in	2003-08-10 01:38:35.000000000 -0700
@@ -141,7 +141,6 @@
 	$(PYTHON_PACKAGES) \
 	$(SCRIPTS) \
 	$(DTD_CATALOG) \
-	qm/setup_path.py \
 	doc
 
 # Regenerate files that are generated by configure.
@@ -208,7 +207,7 @@
 
 distclean: clean
 	rm -f GNUmakefile config.cache config.status config.log
-	rm -f qm/setup_path.py 
+	rm -f qm/version.py 
 	rm -f qm.spec
 
 # Run tests.
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/configure qm-version-handling/configure
--- qm-clean/configure	2003-06-21 00:57:48.000000000 -0700
+++ qm-version-handling/configure	2003-08-10 01:21:40.000000000 -0700
@@ -1,287 +1,32 @@
 #! /bin/sh
+
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.57.
+# Generated automatically using autoconf version 2.13 
+# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
 #
-# Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
-# Free Software Foundation, Inc.
 # This configure script is free software; the Free Software Foundation
 # gives unlimited permission to copy, distribute and modify it.
-## --------------------- ##
-## M4sh Initialization.  ##
-## --------------------- ##
-
-# Be Bourne compatible
-if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
-  emulate sh
-  NULLCMD=:
-  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
-  # is contrary to our usage.  Disable this feature.
-  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
-elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
-  set -o posix
-fi
-
-# Support unset when possible.
-if (FOO=FOO; unset FOO) &gt;/dev/null 2&gt;&amp;1; then
-  as_unset=unset
-else
-  as_unset=false
-fi
-
-
-# Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
-PS1='$ '
-PS2='&gt; '
-PS4='+ '
-
-# NLS nuisances.
-for as_var in \
-  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
-  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
-  LC_TELEPHONE LC_TIME
-do
-  if (set +x; test -n &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
-    eval $as_var=C; export $as_var
-  else
-    $as_unset $as_var
-  fi
-done
-
-# Required to use basename.
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
-  as_expr=expr
-else
-  as_expr=false
-fi
-
-if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
-  as_basename=basename
-else
-  as_basename=false
-fi
 
-
-# Name of the executable.
-as_me=`$as_basename &quot;$0&quot; ||
-$as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
-	 X&quot;$0&quot; : 'X\(//\)$' \| \
-	 X&quot;$0&quot; : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X/&quot;$0&quot; |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-
-
-# PATH needs CR, and LINENO needs CR and PATH.
-# Avoid depending upon Character Ranges.
-as_cr_letters='abcdefghijklmnopqrstuvwxyz'
-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
-as_cr_Letters=$as_cr_letters$as_cr_LETTERS
-as_cr_digits='0123456789'
-as_cr_alnum=$as_cr_Letters$as_cr_digits
-
-# The user is always right.
-if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
-  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
-  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
-  chmod +x conf$$.sh
-  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
-    PATH_SEPARATOR=';'
-  else
-    PATH_SEPARATOR=:
-  fi
-  rm -f conf$$.sh
-fi
-
-
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
-  case $0 in
-    *[\\/]* ) as_myself=$0 ;;
-    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
-done
-
-       ;;
-  esac
-  # We did not find ourselves, most probably we were run as `sh COMMAND'
-  # in which case we are not to be found in the path.
-  if test &quot;x$as_myself&quot; = x; then
-    as_myself=$0
-  fi
-  if test ! -f &quot;$as_myself&quot;; then
-    { echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-  fi
-  case $CONFIG_SHELL in
-  '')
-    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for as_base in sh bash ksh sh5; do
-	 case $as_dir in
-	 /*)
-	   if (&quot;$as_dir/$as_base&quot; -c '
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
-	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
-	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
-	     CONFIG_SHELL=$as_dir/$as_base
-	     export CONFIG_SHELL
-	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
-	   fi;;
-	 esac
-       done
-done
-;;
-  esac
-
-  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
-  # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
-  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' &lt;$as_myself |
-    sed '
-      N
-      s,$,-,
-      : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
-      t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
-    ' &gt;$as_me.lineno &amp;&amp;
-  chmod +x $as_me.lineno ||
-    { echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-
-  # Don't try to exec as it changes $[0], causing all sort of problems
-  # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
-  # Exit status is that of the last command.
-  exit
-}
-
-
-case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
-esac
-
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
-  as_expr=expr
-else
-  as_expr=false
-fi
-
-rm -f conf$$ conf$$.exe conf$$.file
-echo &gt;conf$$.file
-if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
-    as_ln_s='cp -p'
-  else
-    as_ln_s='ln -s'
-  fi
-elif ln conf$$.file conf$$ 2&gt;/dev/null; then
-  as_ln_s=ln
-else
-  as_ln_s='cp -p'
-fi
-rm -f conf$$ conf$$.exe conf$$.file
-
-if mkdir -p . 2&gt;/dev/null; then
-  as_mkdir_p=:
-else
-  as_mkdir_p=false
-fi
-
-as_executable_p=&quot;test -f&quot;
-
-# Sed expression to map a string onto a valid CPP name.
-as_tr_cpp=&quot;sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g&quot;
-
-# Sed expression to map a string onto a valid variable name.
-as_tr_sh=&quot;sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g&quot;
-
-
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=&quot; 	$as_nl&quot;
-
-# CDPATH.
-$as_unset CDPATH
-
-
-# Name of the host.
-# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
-# so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2&gt;/dev/null | sed 1q`
-
-exec 6&gt;&amp;1
-
-#
-# Initializations.
-#
+# Defaults:
+ac_help=
 ac_default_prefix=/usr/local
-ac_config_libobj_dir=.
-cross_compiling=no
-subdirs=
-MFLAGS=
-MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
-
-# Maximum number of lines to put in a shell here document.
-# This variable seems obsolete.  It should probably be removed, and
-# only ac_max_sed_lines should be used.
-: ${ac_max_here_lines=38}
-
-# Identity of this package.
-PACKAGE_NAME=
-PACKAGE_TARNAME=
-PACKAGE_VERSION=
-PACKAGE_STRING=
-PACKAGE_BUGREPORT=
-
-ac_unique_file=&quot;configure.in&quot;
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS MAINTAINER_MODE QM_MAJOR_VER QM_MINOR_VER QM_RELEASE_VER QM_VERSION PYTHON PYTHON_PLATFORM HAPPYDOC JADE TIDY XML_DCL DOCBOOK_STYLESHEETS DOCBOOK_DTD DOCUMENTATION INSTALL_DOCUMENTATION LIBOBJS LTLIBOBJS'
-ac_subst_files=''
+# Any additions from configure.in:
+ac_help=&quot;$ac_help
+  --enable-maintainer-mode configure for development&quot;
+ac_help=&quot;$ac_help
+  --with-python=PATH      specify the Python interpreter&quot;
+ac_help=&quot;$ac_help
+  --with-docbook-dtd=PATH directory containing the docbook DTD.&quot;
 
 # Initialize some variables set by options.
-ac_init_help=
-ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+build=NONE
+cache_file=./config.cache
 exec_prefix=NONE
+host=NONE
 no_create=
+nonopt=NONE
 no_recursion=
 prefix=NONE
 program_prefix=NONE
@@ -290,15 +35,10 @@
 silent=
 site=
 srcdir=
+target=NONE
 verbose=
 x_includes=NONE
 x_libraries=NONE
-
-# Installation directory options.
-# These are left unexpanded so users can &quot;make install exec_prefix=/foo&quot;
-# and all the variables that are supposed to be based on exec_prefix
-# by default will actually change.
-# Use braces instead of parens because sh, perl, etc. also accept them.
 bindir='${exec_prefix}/bin'
 sbindir='${exec_prefix}/sbin'
 libexecdir='${exec_prefix}/libexec'
@@ -312,9 +52,17 @@
 infodir='${prefix}/info'
 mandir='${prefix}/man'
 
+# Initialize some other variables.
+subdirs=
+MFLAGS= MAKEFLAGS=
+SHELL=${CONFIG_SHELL-/bin/sh}
+# Maximum number of lines to put in a shell here document.
+ac_max_here_lines=12
+
 ac_prev=
 for ac_option
 do
+
   # If the previous option needs an argument, assign it.
   if test -n &quot;$ac_prev&quot;; then
     eval &quot;$ac_prev=\$ac_option&quot;
@@ -322,59 +70,59 @@
     continue
   fi
 
-  ac_optarg=`expr &quot;x$ac_option&quot; : 'x[^=]*=\(.*\)'`
+  case &quot;$ac_option&quot; in
+  -*=*) ac_optarg=`echo &quot;$ac_option&quot; | sed 's/[-_a-zA-Z0-9]*=//'` ;;
+  *) ac_optarg= ;;
+  esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
 
-  case $ac_option in
+  case &quot;$ac_option&quot; in
 
   -bindir | --bindir | --bindi | --bind | --bin | --bi)
     ac_prev=bindir ;;
   -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
-    bindir=$ac_optarg ;;
+    bindir=&quot;$ac_optarg&quot; ;;
 
   -build | --build | --buil | --bui | --bu)
-    ac_prev=build_alias ;;
+    ac_prev=build ;;
   -build=* | --build=* | --buil=* | --bui=* | --bu=*)
-    build_alias=$ac_optarg ;;
+    build=&quot;$ac_optarg&quot; ;;
 
   -cache-file | --cache-file | --cache-fil | --cache-fi \
   | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
     ac_prev=cache_file ;;
   -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
   | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
-    cache_file=$ac_optarg ;;
-
-  --config-cache | -C)
-    cache_file=config.cache ;;
+    cache_file=&quot;$ac_optarg&quot; ;;
 
   -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
     ac_prev=datadir ;;
   -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
   | --da=*)
-    datadir=$ac_optarg ;;
+    datadir=&quot;$ac_optarg&quot; ;;
 
   -disable-* | --disable-*)
-    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*disable-\(.*\)'`
+    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    eval &quot;enable_$ac_feature=no&quot; ;;
+    if test -n &quot;`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`&quot;; then
+      { echo &quot;configure: error: $ac_feature: invalid feature name&quot; 1&gt;&amp;2; exit 1; }
+    fi
+    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+    eval &quot;enable_${ac_feature}=no&quot; ;;
 
   -enable-* | --enable-*)
-    ac_feature=`expr &quot;x$ac_option&quot; : 'x-*enable-\([^=]*\)'`
+    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_feature&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid feature name: $ac_feature&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
+    if test -n &quot;`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`&quot;; then
+      { echo &quot;configure: error: $ac_feature: invalid feature name&quot; 1&gt;&amp;2; exit 1; }
+    fi
+    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
+    case &quot;$ac_option&quot; in
+      *=*) ;;
       *) ac_optarg=yes ;;
     esac
-    eval &quot;enable_$ac_feature='$ac_optarg'&quot; ;;
+    eval &quot;enable_${ac_feature}='$ac_optarg'&quot; ;;
 
   -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
   | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
@@ -383,47 +131,95 @@
   -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
   | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
   | --exec=* | --exe=* | --ex=*)
-    exec_prefix=$ac_optarg ;;
+    exec_prefix=&quot;$ac_optarg&quot; ;;
 
   -gas | --gas | --ga | --g)
     # Obsolete; use --with-gas.
     with_gas=yes ;;
 
-  -help | --help | --hel | --he | -h)
-    ac_init_help=long ;;
-  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
-    ac_init_help=recursive ;;
-  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
-    ac_init_help=short ;;
+  -help | --help | --hel | --he)
+    # Omit some internal or obsolete options to make the list less imposing.
+    # This message is too long to be a string in the A/UX 3.1 sh.
+    cat &lt;&lt; EOF
+Usage: configure [options] [host]
+Options: [defaults in brackets after descriptions]
+Configuration:
+  --cache-file=FILE       cache test results in FILE
+  --help                  print this message
+  --no-create             do not create output files
+  --quiet, --silent       do not print \`checking...' messages
+  --version               print the version of autoconf that created configure
+Directory and file names:
+  --prefix=PREFIX         install architecture-independent files in PREFIX
+                          [$ac_default_prefix]
+  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+                          [same as prefix]
+  --bindir=DIR            user executables in DIR [EPREFIX/bin]
+  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
+  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
+  --datadir=DIR           read-only architecture-independent data in DIR
+                          [PREFIX/share]
+  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
+  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
+                          [PREFIX/com]
+  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
+  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
+  --includedir=DIR        C header files in DIR [PREFIX/include]
+  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
+  --infodir=DIR           info documentation in DIR [PREFIX/info]
+  --mandir=DIR            man documentation in DIR [PREFIX/man]
+  --srcdir=DIR            find the sources in DIR [configure dir or ..]
+  --program-prefix=PREFIX prepend PREFIX to installed program names
+  --program-suffix=SUFFIX append SUFFIX to installed program names
+  --program-transform-name=PROGRAM
+                          run sed PROGRAM on installed program names
+EOF
+    cat &lt;&lt; EOF
+Host type:
+  --build=BUILD           configure for building on BUILD [BUILD=HOST]
+  --host=HOST             configure for HOST [guessed]
+  --target=TARGET         configure for TARGET [TARGET=HOST]
+Features and packages:
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
+  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+  --x-includes=DIR        X include files are in DIR
+  --x-libraries=DIR       X library files are in DIR
+EOF
+    if test -n &quot;$ac_help&quot;; then
+      echo &quot;--enable and --with options recognized:$ac_help&quot;
+    fi
+    exit 0 ;;
 
   -host | --host | --hos | --ho)
-    ac_prev=host_alias ;;
+    ac_prev=host ;;
   -host=* | --host=* | --hos=* | --ho=*)
-    host_alias=$ac_optarg ;;
+    host=&quot;$ac_optarg&quot; ;;
 
   -includedir | --includedir | --includedi | --included | --include \
   | --includ | --inclu | --incl | --inc)
     ac_prev=includedir ;;
   -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
   | --includ=* | --inclu=* | --incl=* | --inc=*)
-    includedir=$ac_optarg ;;
+    includedir=&quot;$ac_optarg&quot; ;;
 
   -infodir | --infodir | --infodi | --infod | --info | --inf)
     ac_prev=infodir ;;
   -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
-    infodir=$ac_optarg ;;
+    infodir=&quot;$ac_optarg&quot; ;;
 
   -libdir | --libdir | --libdi | --libd)
     ac_prev=libdir ;;
   -libdir=* | --libdir=* | --libdi=* | --libd=*)
-    libdir=$ac_optarg ;;
+    libdir=&quot;$ac_optarg&quot; ;;
 
   -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
   | --libexe | --libex | --libe)
     ac_prev=libexecdir ;;
   -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
   | --libexe=* | --libex=* | --libe=*)
-    libexecdir=$ac_optarg ;;
+    libexecdir=&quot;$ac_optarg&quot; ;;
 
   -localstatedir | --localstatedir | --localstatedi | --localstated \
   | --localstate | --localstat | --localsta | --localst \
@@ -432,19 +228,19 @@
   -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
   | --localstate=* | --localstat=* | --localsta=* | --localst=* \
   | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
-    localstatedir=$ac_optarg ;;
+    localstatedir=&quot;$ac_optarg&quot; ;;
 
   -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
     ac_prev=mandir ;;
   -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
-    mandir=$ac_optarg ;;
+    mandir=&quot;$ac_optarg&quot; ;;
 
   -nfp | --nfp | --nf)
     # Obsolete; use --without-fp.
     with_fp=no ;;
 
   -no-create | --no-create | --no-creat | --no-crea | --no-cre \
-  | --no-cr | --no-c | -n)
+  | --no-cr | --no-c)
     no_create=yes ;;
 
   -no-recursion | --no-recursion | --no-recursio | --no-recursi \
@@ -458,26 +254,26 @@
   -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
   | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
   | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
-    oldincludedir=$ac_optarg ;;
+    oldincludedir=&quot;$ac_optarg&quot; ;;
 
   -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
     ac_prev=prefix ;;
   -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
-    prefix=$ac_optarg ;;
+    prefix=&quot;$ac_optarg&quot; ;;
 
   -program-prefix | --program-prefix | --program-prefi | --program-pref \
   | --program-pre | --program-pr | --program-p)
     ac_prev=program_prefix ;;
   -program-prefix=* | --program-prefix=* | --program-prefi=* \
   | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
-    program_prefix=$ac_optarg ;;
+    program_prefix=&quot;$ac_optarg&quot; ;;
 
   -program-suffix | --program-suffix | --program-suffi | --program-suff \
   | --program-suf | --program-su | --program-s)
     ac_prev=program_suffix ;;
   -program-suffix=* | --program-suffix=* | --program-suffi=* \
   | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
-    program_suffix=$ac_optarg ;;
+    program_suffix=&quot;$ac_optarg&quot; ;;
 
   -program-transform-name | --program-transform-name \
   | --program-transform-nam | --program-transform-na \
@@ -494,7 +290,7 @@
   | --program-transfo=* | --program-transf=* \
   | --program-trans=* | --program-tran=* \
   | --progr-tra=* | --program-tr=* | --program-t=*)
-    program_transform_name=$ac_optarg ;;
+    program_transform_name=&quot;$ac_optarg&quot; ;;
 
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
   | -silent | --silent | --silen | --sile | --sil)
@@ -504,7 +300,7 @@
     ac_prev=sbindir ;;
   -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
   | --sbi=* | --sb=*)
-    sbindir=$ac_optarg ;;
+    sbindir=&quot;$ac_optarg&quot; ;;
 
   -sharedstatedir | --sharedstatedir | --sharedstatedi \
   | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
@@ -515,57 +311,58 @@
   | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
   | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
   | --sha=* | --sh=*)
-    sharedstatedir=$ac_optarg ;;
+    sharedstatedir=&quot;$ac_optarg&quot; ;;
 
   -site | --site | --sit)
     ac_prev=site ;;
   -site=* | --site=* | --sit=*)
-    site=$ac_optarg ;;
+    site=&quot;$ac_optarg&quot; ;;
 
   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
     ac_prev=srcdir ;;
   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
-    srcdir=$ac_optarg ;;
+    srcdir=&quot;$ac_optarg&quot; ;;
 
   -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
   | --syscon | --sysco | --sysc | --sys | --sy)
     ac_prev=sysconfdir ;;
   -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
   | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
-    sysconfdir=$ac_optarg ;;
+    sysconfdir=&quot;$ac_optarg&quot; ;;
 
   -target | --target | --targe | --targ | --tar | --ta | --t)
-    ac_prev=target_alias ;;
+    ac_prev=target ;;
   -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
-    target_alias=$ac_optarg ;;
+    target=&quot;$ac_optarg&quot; ;;
 
   -v | -verbose | --verbose | --verbos | --verbo | --verb)
     verbose=yes ;;
 
-  -version | --version | --versio | --versi | --vers | -V)
-    ac_init_version=: ;;
+  -version | --version | --versio | --versi | --vers)
+    echo &quot;configure generated by autoconf version 2.13&quot;
+    exit 0 ;;
 
   -with-* | --with-*)
-    ac_package=`expr &quot;x$ac_option&quot; : 'x-*with-\([^=]*\)'`
+    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
+    if test -n &quot;`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`&quot;; then
+      { echo &quot;configure: error: $ac_package: invalid package name&quot; 1&gt;&amp;2; exit 1; }
+    fi
     ac_package=`echo $ac_package| sed 's/-/_/g'`
-    case $ac_option in
-      *=*) ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`;;
+    case &quot;$ac_option&quot; in
+      *=*) ;;
       *) ac_optarg=yes ;;
     esac
-    eval &quot;with_$ac_package='$ac_optarg'&quot; ;;
+    eval &quot;with_${ac_package}='$ac_optarg'&quot; ;;
 
   -without-* | --without-*)
-    ac_package=`expr &quot;x$ac_option&quot; : 'x-*without-\(.*\)'`
+    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
     # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_package&quot; : &quot;.*[^-_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid package name: $ac_package&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-    ac_package=`echo $ac_package | sed 's/-/_/g'`
-    eval &quot;with_$ac_package=no&quot; ;;
+    if test -n &quot;`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`&quot;; then
+      { echo &quot;configure: error: $ac_package: invalid package name&quot; 1&gt;&amp;2; exit 1; }
+    fi
+    ac_package=`echo $ac_package| sed 's/-/_/g'`
+    eval &quot;with_${ac_package}=no&quot; ;;
 
   --x)
     # Obsolete; use --with-x.
@@ -576,110 +373,99 @@
     ac_prev=x_includes ;;
   -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
   | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
-    x_includes=$ac_optarg ;;
+    x_includes=&quot;$ac_optarg&quot; ;;
 
   -x-libraries | --x-libraries | --x-librarie | --x-librari \
   | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
     ac_prev=x_libraries ;;
   -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
-    x_libraries=$ac_optarg ;;
+    x_libraries=&quot;$ac_optarg&quot; ;;
 
-  -*) { echo &quot;$as_me: error: unrecognized option: $ac_option
-Try \`$0 --help' for more information.&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
+  -*) { echo &quot;configure: error: $ac_option: invalid option; use --help to show usage&quot; 1&gt;&amp;2; exit 1; }
     ;;
 
-  *=*)
-    ac_envvar=`expr &quot;x$ac_option&quot; : 'x\([^=]*\)='`
-    # Reject names that are not valid shell variable names.
-    expr &quot;x$ac_envvar&quot; : &quot;.*[^_$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      { echo &quot;$as_me: error: invalid variable name: $ac_envvar&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-    ac_optarg=`echo &quot;$ac_optarg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;`
-    eval &quot;$ac_envvar='$ac_optarg'&quot;
-    export $ac_envvar ;;
-
   *)
-    # FIXME: should be removed in autoconf 3.0.
-    echo &quot;$as_me: WARNING: you should use --build, --host, --target&quot; &gt;&amp;2
-    expr &quot;x$ac_option&quot; : &quot;.*[^-._$as_cr_alnum]&quot; &gt;/dev/null &amp;&amp;
-      echo &quot;$as_me: WARNING: invalid host type: $ac_option&quot; &gt;&amp;2
-    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
+    if test -n &quot;`echo $ac_option| sed 's/[-a-z0-9.]//g'`&quot;; then
+      echo &quot;configure: warning: $ac_option: invalid host type&quot; 1&gt;&amp;2
+    fi
+    if test &quot;x$nonopt&quot; != xNONE; then
+      { echo &quot;configure: error: can only configure for one host and one target at a time&quot; 1&gt;&amp;2; exit 1; }
+    fi
+    nonopt=&quot;$ac_option&quot;
     ;;
 
   esac
 done
 
 if test -n &quot;$ac_prev&quot;; then
-  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
-  { echo &quot;$as_me: error: missing argument to $ac_option&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
+  { echo &quot;configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`&quot; 1&gt;&amp;2; exit 1; }
 fi
 
-# Be sure to have absolute paths.
-for ac_var in exec_prefix prefix
-do
-  eval ac_val=$`echo $ac_var`
-  case $ac_val in
-    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
-    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; };;
-  esac
-done
+trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+
+# File descriptor usage:
+# 0 standard input
+# 1 file creation
+# 2 errors and warnings
+# 3 some systems may open it to /dev/tty
+# 4 used on the Kubota Titan
+# 6 checking for... messages and results
+# 5 compiler messages saved in config.log
+if test &quot;$silent&quot; = yes; then
+  exec 6&gt;/dev/null
+else
+  exec 6&gt;&amp;1
+fi
+exec 5&gt;./config.log
 
-# Be sure to have absolute paths.
-for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
-              localstatedir libdir includedir oldincludedir infodir mandir
+echo &quot;\
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+&quot; 1&gt;&amp;5
+
+# Strip out --no-create and --no-recursion so they do not pile up.
+# Also quote any args containing shell metacharacters.
+ac_configure_args=
+for ac_arg
 do
-  eval ac_val=$`echo $ac_var`
-  case $ac_val in
-    [\\/$]* | ?:[\\/]* ) ;;
-    *)  { echo &quot;$as_me: error: expected an absolute directory name for --$ac_var: $ac_val&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; };;
+  case &quot;$ac_arg&quot; in
+  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+  | --no-cr | --no-c) ;;
+  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
+  *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?]*)
+  ac_configure_args=&quot;$ac_configure_args '$ac_arg'&quot; ;;
+  *) ac_configure_args=&quot;$ac_configure_args $ac_arg&quot; ;;
   esac
 done
 
-# There might be people who depend on the old broken behavior: `$host'
-# used to hold the argument of --host etc.
-# FIXME: To remove some day.
-build=$build_alias
-host=$host_alias
-target=$target_alias
-
-# FIXME: To remove some day.
-if test &quot;x$host_alias&quot; != x; then
-  if test &quot;x$build_alias&quot; = x; then
-    cross_compiling=maybe
-    echo &quot;$as_me: WARNING: If you wanted to set the --build type, don't use --host.
-    If a cross compiler is detected then cross compile mode will be used.&quot; &gt;&amp;2
-  elif test &quot;x$build_alias&quot; != &quot;x$host_alias&quot;; then
-    cross_compiling=yes
-  fi
-fi
-
-ac_tool_prefix=
-test -n &quot;$host_alias&quot; &amp;&amp; ac_tool_prefix=$host_alias-
+# NLS nuisances.
+# Only set these to C if already set.  These must not be set unconditionally
+# because not all systems understand e.g. LANG=C (notably SCO).
+# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
+# Non-C LC_CTYPE values break the ctype check.
+if test &quot;${LANG+set}&quot;   = set; then LANG=C;   export LANG;   fi
+if test &quot;${LC_ALL+set}&quot; = set; then LC_ALL=C; export LC_ALL; fi
+if test &quot;${LC_MESSAGES+set}&quot; = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
+if test &quot;${LC_CTYPE+set}&quot;    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
 
-test &quot;$silent&quot; = yes &amp;&amp; exec 6&gt;/dev/null
+# confdefs.h avoids OS command line length limits that DEFS can exceed.
+rm -rf conftest* confdefs.h
+# AIX cpp loses on an empty file, so make sure it contains at least a newline.
+echo &gt; confdefs.h
 
+# A filename unique to this package, relative to the directory that
+# configure is in, which we can look for to find out if srcdir is correct.
+ac_unique_file=configure.in
 
 # Find the source files, if location was not specified.
 if test -z &quot;$srcdir&quot;; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname &quot;$0&quot;) 2&gt;/dev/null ||
-$as_expr X&quot;$0&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X&quot;$0&quot; : 'X\(//\)[^/]' \| \
-         X&quot;$0&quot; : 'X\(//\)$' \| \
-         X&quot;$0&quot; : 'X\(/\)' \| \
-         .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$0&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
+  ac_prog=$0
+  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
+  test &quot;x$ac_confdir&quot; = &quot;x$ac_prog&quot; &amp;&amp; ac_confdir=.
   srcdir=$ac_confdir
   if test ! -r $srcdir/$ac_unique_file; then
     srcdir=..
@@ -689,401 +475,13 @@
 fi
 if test ! -r $srcdir/$ac_unique_file; then
   if test &quot;$ac_srcdir_defaulted&quot; = yes; then
-    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $ac_confdir or ..&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
+    { echo &quot;configure: error: can not find sources in $ac_confdir or ..&quot; 1&gt;&amp;2; exit 1; }
   else
-    { echo &quot;$as_me: error: cannot find sources ($ac_unique_file) in $srcdir&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
+    { echo &quot;configure: error: can not find sources in $srcdir&quot; 1&gt;&amp;2; exit 1; }
   fi
 fi
-(cd $srcdir &amp;&amp; test -r ./$ac_unique_file) 2&gt;/dev/null ||
-  { echo &quot;$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work&quot; &gt;&amp;2
-   { (exit 1); exit 1; }; }
-srcdir=`echo &quot;$srcdir&quot; | sed 's%\([^\\/]\)[\\/]*$%\1%'`
-ac_env_build_alias_set=${build_alias+set}
-ac_env_build_alias_value=$build_alias
-ac_cv_env_build_alias_set=${build_alias+set}
-ac_cv_env_build_alias_value=$build_alias
-ac_env_host_alias_set=${host_alias+set}
-ac_env_host_alias_value=$host_alias
-ac_cv_env_host_alias_set=${host_alias+set}
-ac_cv_env_host_alias_value=$host_alias
-ac_env_target_alias_set=${target_alias+set}
-ac_env_target_alias_value=$target_alias
-ac_cv_env_target_alias_set=${target_alias+set}
-ac_cv_env_target_alias_value=$target_alias
-
-#
-# Report the --help message.
-#
-if test &quot;$ac_init_help&quot; = &quot;long&quot;; then
-  # Omit some internal or obsolete options to make the list less imposing.
-  # This message is too long to be a string in the A/UX 3.1 sh.
-  cat &lt;&lt;_ACEOF
-\`configure' configures this package to adapt to many kinds of systems.
-
-Usage: $0 [OPTION]... [VAR=VALUE]...
-
-To assign environment variables (e.g., CC, CFLAGS...), specify them as
-VAR=VALUE.  See below for descriptions of some of the useful variables.
-
-Defaults for the options are specified in brackets.
-
-Configuration:
-  -h, --help              display this help and exit
-      --help=short        display options specific to this package
-      --help=recursive    display the short help of all the included packages
-  -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print \`checking...' messages
-      --cache-file=FILE   cache test results in FILE [disabled]
-  -C, --config-cache      alias for \`--cache-file=config.cache'
-  -n, --no-create         do not create output files
-      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
-
-_ACEOF
-
-  cat &lt;&lt;_ACEOF
-Installation directories:
-  --prefix=PREFIX         install architecture-independent files in PREFIX
-                          [$ac_default_prefix]
-  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
-                          [PREFIX]
-
-By default, \`make install' will install all the files in
-\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
-an installation prefix other than \`$ac_default_prefix' using \`--prefix',
-for instance \`--prefix=\$HOME'.
-
-For better control, use the options below.
-
-Fine tuning of the installation directories:
-  --bindir=DIR           user executables [EPREFIX/bin]
-  --sbindir=DIR          system admin executables [EPREFIX/sbin]
-  --libexecdir=DIR       program executables [EPREFIX/libexec]
-  --datadir=DIR          read-only architecture-independent data [PREFIX/share]
-  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
-  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
-  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
-  --libdir=DIR           object code libraries [EPREFIX/lib]
-  --includedir=DIR       C header files [PREFIX/include]
-  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
-  --infodir=DIR          info documentation [PREFIX/info]
-  --mandir=DIR           man documentation [PREFIX/man]
-_ACEOF
-
-  cat &lt;&lt;\_ACEOF
-_ACEOF
-fi
-
-if test -n &quot;$ac_init_help&quot;; then
+srcdir=`echo &quot;${srcdir}&quot; | sed 's%\([^/]\)/*$%\1%'`
 
-  cat &lt;&lt;\_ACEOF
-
-Optional Features:
-  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
-  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
-  --enable-maintainer-mode configure for development
-
-Optional Packages:
-  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
-  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
-  --with-python=PATH      specify the Python interpreter
-  --with-docbook-dtd=PATH directory containing the docbook DTD.
-
-_ACEOF
-fi
-
-if test &quot;$ac_init_help&quot; = &quot;recursive&quot;; then
-  # If there are subdirs, report their specific --help.
-  ac_popdir=`pwd`
-  for ac_dir in : $ac_subdirs_all; do test &quot;x$ac_dir&quot; = x: &amp;&amp; continue
-    test -d $ac_dir || continue
-    ac_builddir=.
-
-if test &quot;$ac_dir&quot; != .; then
-  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
-  # A &quot;../&quot; for each directory in $ac_dir_suffix.
-  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
-
-case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
-    ac_srcdir=.
-    if test -z &quot;$ac_top_builddir&quot;; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
-    ac_srcdir=$srcdir$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
-  *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
-esac
-# Don't blindly perform a `cd &quot;$ac_dir&quot;/$ac_foo &amp;&amp; pwd` since $ac_foo can be
-# absolute.
-ac_abs_builddir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_builddir &amp;&amp; pwd`
-ac_abs_top_builddir=`cd &quot;$ac_dir&quot; &amp;&amp; cd ${ac_top_builddir}. &amp;&amp; pwd`
-ac_abs_srcdir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_srcdir &amp;&amp; pwd`
-ac_abs_top_srcdir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_top_srcdir &amp;&amp; pwd`
-
-    cd $ac_dir
-    # Check for guested configure; otherwise get Cygnus style configure.
-    if test -f $ac_srcdir/configure.gnu; then
-      echo
-      $SHELL $ac_srcdir/configure.gnu  --help=recursive
-    elif test -f $ac_srcdir/configure; then
-      echo
-      $SHELL $ac_srcdir/configure  --help=recursive
-    elif test -f $ac_srcdir/configure.ac ||
-           test -f $ac_srcdir/configure.in; then
-      echo
-      $ac_configure --help
-    else
-      echo &quot;$as_me: WARNING: no configuration information is in $ac_dir&quot; &gt;&amp;2
-    fi
-    cd $ac_popdir
-  done
-fi
-
-test -n &quot;$ac_init_help&quot; &amp;&amp; exit 0
-if $ac_init_version; then
-  cat &lt;&lt;\_ACEOF
-
-Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
-Free Software Foundation, Inc.
-This configure script is free software; the Free Software Foundation
-gives unlimited permission to copy, distribute and modify it.
-_ACEOF
-  exit 0
-fi
-exec 5&gt;config.log
-cat &gt;&amp;5 &lt;&lt;_ACEOF
-This file contains any messages produced by compilers while
-running configure, to aid debugging if configure makes a mistake.
-
-It was created by $as_me, which was
-generated by GNU Autoconf 2.57.  Invocation command line was
-
-  $ $0 $@
-
-_ACEOF
-{
-cat &lt;&lt;_ASUNAME
-## --------- ##
-## Platform. ##
-## --------- ##
-
-hostname = `(hostname || uname -n) 2&gt;/dev/null | sed 1q`
-uname -m = `(uname -m) 2&gt;/dev/null || echo unknown`
-uname -r = `(uname -r) 2&gt;/dev/null || echo unknown`
-uname -s = `(uname -s) 2&gt;/dev/null || echo unknown`
-uname -v = `(uname -v) 2&gt;/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2&gt;/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2&gt;/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2&gt;/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2&gt;/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2&gt;/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2&gt;/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2&gt;/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2&gt;/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2&gt;/dev/null          || echo unknown`
-
-_ASUNAME
-
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  echo &quot;PATH: $as_dir&quot;
-done
-
-} &gt;&amp;5
-
-cat &gt;&amp;5 &lt;&lt;_ACEOF
-
-
-## ----------- ##
-## Core tests. ##
-## ----------- ##
-
-_ACEOF
-
-
-# Keep a trace of the command line.
-# Strip out --no-create and --no-recursion so they do not pile up.
-# Strip out --silent because we don't want to record it for future runs.
-# Also quote any args containing shell meta-characters.
-# Make two passes to allow for proper duplicate-argument suppression.
-ac_configure_args=
-ac_configure_args0=
-ac_configure_args1=
-ac_sep=
-ac_must_keep_next=false
-for ac_pass in 1 2
-do
-  for ac_arg
-  do
-    case $ac_arg in
-    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
-    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
-    | -silent | --silent | --silen | --sile | --sil)
-      continue ;;
-    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
-      ac_arg=`echo &quot;$ac_arg&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
-    esac
-    case $ac_pass in
-    1) ac_configure_args0=&quot;$ac_configure_args0 '$ac_arg'&quot; ;;
-    2)
-      ac_configure_args1=&quot;$ac_configure_args1 '$ac_arg'&quot;
-      if test $ac_must_keep_next = true; then
-        ac_must_keep_next=false # Got value, back to normal.
-      else
-        case $ac_arg in
-          *=* | --config-cache | -C | -disable-* | --disable-* \
-          | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
-          | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
-          | -with-* | --with-* | -without-* | --without-* | --x)
-            case &quot;$ac_configure_args0 &quot; in
-              &quot;$ac_configure_args1&quot;*&quot; '$ac_arg' &quot;* ) continue ;;
-            esac
-            ;;
-          -* ) ac_must_keep_next=true ;;
-        esac
-      fi
-      ac_configure_args=&quot;$ac_configure_args$ac_sep'$ac_arg'&quot;
-      # Get rid of the leading space.
-      ac_sep=&quot; &quot;
-      ;;
-    esac
-  done
-done
-$as_unset ac_configure_args0 || test &quot;${ac_configure_args0+set}&quot; != set || { ac_configure_args0=; export ac_configure_args0; }
-$as_unset ac_configure_args1 || test &quot;${ac_configure_args1+set}&quot; != set || { ac_configure_args1=; export ac_configure_args1; }
-
-# When interrupted or exit'd, cleanup temporary files, and complete
-# config.log.  We remove comments because anyway the quotes in there
-# would cause problems or look ugly.
-# WARNING: Be sure not to use single quotes in there, as some shells,
-# such as our DU 5.0 friend, will then `close' the trap.
-trap 'exit_status=$?
-  # Save into config.log some information that might help in debugging.
-  {
-    echo
-
-    cat &lt;&lt;\_ASBOX
-## ---------------- ##
-## Cache variables. ##
-## ---------------- ##
-_ASBOX
-    echo
-    # The following way of writing the cache mishandles newlines in values,
-{
-  (set) 2&gt;&amp;1 |
-    case `(ac_space='&quot;'&quot;' '&quot;'&quot;'; set | grep ac_space) 2&gt;&amp;1` in
-    *ac_space=\ *)
-      sed -n \
-        &quot;s/'&quot;'&quot;'/'&quot;'&quot;'\\\\'&quot;'&quot;''&quot;'&quot;'/g;
-    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='&quot;'&quot;'\\2'&quot;'&quot;'/p&quot;
-      ;;
-    *)
-      sed -n \
-        &quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
-      ;;
-    esac;
-}
-    echo
-
-    cat &lt;&lt;\_ASBOX
-## ----------------- ##
-## Output variables. ##
-## ----------------- ##
-_ASBOX
-    echo
-    for ac_var in $ac_subst_vars
-    do
-      eval ac_val=$`echo $ac_var`
-      echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
-    done | sort
-    echo
-
-    if test -n &quot;$ac_subst_files&quot;; then
-      cat &lt;&lt;\_ASBOX
-## ------------- ##
-## Output files. ##
-## ------------- ##
-_ASBOX
-      echo
-      for ac_var in $ac_subst_files
-      do
-	eval ac_val=$`echo $ac_var`
-        echo &quot;$ac_var='&quot;'&quot;'$ac_val'&quot;'&quot;'&quot;
-      done | sort
-      echo
-    fi
-
-    if test -s confdefs.h; then
-      cat &lt;&lt;\_ASBOX
-## ----------- ##
-## confdefs.h. ##
-## ----------- ##
-_ASBOX
-      echo
-      sed &quot;/^$/d&quot; confdefs.h | sort
-      echo
-    fi
-    test &quot;$ac_signal&quot; != 0 &amp;&amp;
-      echo &quot;$as_me: caught signal $ac_signal&quot;
-    echo &quot;$as_me: exit $exit_status&quot;
-  } &gt;&amp;5
-  rm -f core core.* *.core &amp;&amp;
-  rm -rf conftest* confdefs* conf$$* $ac_clean_files &amp;&amp;
-    exit $exit_status
-     ' 0
-for ac_signal in 1 2 13 15; do
-  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
-done
-ac_signal=0
-
-# confdefs.h avoids OS command line length limits that DEFS can exceed.
-rm -rf conftest* confdefs.h
-# AIX cpp loses on an empty file, so make sure it contains at least a newline.
-echo &gt;confdefs.h
-
-# Predefined preprocessor variables.
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_NAME &quot;$PACKAGE_NAME&quot;
-_ACEOF
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_TARNAME &quot;$PACKAGE_TARNAME&quot;
-_ACEOF
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_VERSION &quot;$PACKAGE_VERSION&quot;
-_ACEOF
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_STRING &quot;$PACKAGE_STRING&quot;
-_ACEOF
-
-
-cat &gt;&gt;confdefs.h &lt;&lt;_ACEOF
-#define PACKAGE_BUGREPORT &quot;$PACKAGE_BUGREPORT&quot;
-_ACEOF
-
-
-# Let the site file select an alternate cache file if it wants to.
 # Prefer explicitly selected file to automatically selected ones.
 if test -z &quot;$CONFIG_SITE&quot;; then
   if test &quot;x$prefix&quot; != xNONE; then
@@ -1094,103 +492,39 @@
 fi
 for ac_site_file in $CONFIG_SITE; do
   if test -r &quot;$ac_site_file&quot;; then
-    { echo &quot;$as_me:$LINENO: loading site script $ac_site_file&quot; &gt;&amp;5
-echo &quot;$as_me: loading site script $ac_site_file&quot; &gt;&amp;6;}
-    sed 's/^/| /' &quot;$ac_site_file&quot; &gt;&amp;5
+    echo &quot;loading site script $ac_site_file&quot;
     . &quot;$ac_site_file&quot;
   fi
 done
 
 if test -r &quot;$cache_file&quot;; then
-  # Some versions of bash will fail to source /dev/null (special
-  # files actually), so we avoid doing that.
-  if test -f &quot;$cache_file&quot;; then
-    { echo &quot;$as_me:$LINENO: loading cache $cache_file&quot; &gt;&amp;5
-echo &quot;$as_me: loading cache $cache_file&quot; &gt;&amp;6;}
-    case $cache_file in
-      [\\/]* | ?:[\\/]* ) . $cache_file;;
-      *)                      . ./$cache_file;;
-    esac
-  fi
+  echo &quot;loading cache $cache_file&quot;
+  . $cache_file
 else
-  { echo &quot;$as_me:$LINENO: creating cache $cache_file&quot; &gt;&amp;5
-echo &quot;$as_me: creating cache $cache_file&quot; &gt;&amp;6;}
-  &gt;$cache_file
-fi
-
-# Check that the precious variables saved in the cache have kept the same
-# value.
-ac_cache_corrupted=false
-for ac_var in `(set) 2&gt;&amp;1 |
-               sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
-  eval ac_old_set=\$ac_cv_env_${ac_var}_set
-  eval ac_new_set=\$ac_env_${ac_var}_set
-  eval ac_old_val=&quot;\$ac_cv_env_${ac_var}_value&quot;
-  eval ac_new_val=&quot;\$ac_env_${ac_var}_value&quot;
-  case $ac_old_set,$ac_new_set in
-    set,)
-      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run&quot; &gt;&amp;2;}
-      ac_cache_corrupted=: ;;
-    ,set)
-      { echo &quot;$as_me:$LINENO: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' was not set in the previous run&quot; &gt;&amp;2;}
-      ac_cache_corrupted=: ;;
-    ,);;
-    *)
-      if test &quot;x$ac_old_val&quot; != &quot;x$ac_new_val&quot;; then
-        { echo &quot;$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;5
-echo &quot;$as_me: error: \`$ac_var' has changed since the previous run:&quot; &gt;&amp;2;}
-        { echo &quot;$as_me:$LINENO:   former value:  $ac_old_val&quot; &gt;&amp;5
-echo &quot;$as_me:   former value:  $ac_old_val&quot; &gt;&amp;2;}
-        { echo &quot;$as_me:$LINENO:   current value: $ac_new_val&quot; &gt;&amp;5
-echo &quot;$as_me:   current value: $ac_new_val&quot; &gt;&amp;2;}
-        ac_cache_corrupted=:
-      fi;;
-  esac
-  # Pass precious variables to config.status.
-  if test &quot;$ac_new_set&quot; = set; then
-    case $ac_new_val in
-    *&quot; &quot;*|*&quot;	&quot;*|*[\[\]\~\#\$\^\&amp;\*\(\)\{\}\\\|\;\&lt;\&gt;\?\&quot;\']*)
-      ac_arg=$ac_var=`echo &quot;$ac_new_val&quot; | sed &quot;s/'/'\\\\\\\\''/g&quot;` ;;
-    *) ac_arg=$ac_var=$ac_new_val ;;
-    esac
-    case &quot; $ac_configure_args &quot; in
-      *&quot; '$ac_arg' &quot;*) ;; # Avoid dups.  Use of quotes ensures accuracy.
-      *) ac_configure_args=&quot;$ac_configure_args '$ac_arg'&quot; ;;
-    esac
-  fi
-done
-if $ac_cache_corrupted; then
-  { echo &quot;$as_me:$LINENO: error: changes in the environment can compromise the build&quot; &gt;&amp;5
-echo &quot;$as_me: error: changes in the environment can compromise the build&quot; &gt;&amp;2;}
-  { { echo &quot;$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;5
-echo &quot;$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+  echo &quot;creating cache $cache_file&quot;
+  &gt; $cache_file
 fi
 
 ac_ext=c
+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
 ac_cpp='$CPP $CPPFLAGS'
-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext &gt;&amp;5'
-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS &gt;&amp;5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
-
+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1&gt;&amp;5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1&gt;&amp;5'
+cross_compiling=$ac_cv_prog_cc_cross
+
+ac_exeext=
+ac_objext=o
+if (echo &quot;testing\c&quot;; echo 1,2,3) | grep c &gt;/dev/null; then
+  # Stardent Vistra SVR4 grep lacks -e, says <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">ghazi at caip.rutgers.edu.</A>
+  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn &gt;/dev/null; then
+    ac_n= ac_c='
+' ac_t='	'
+  else
+    ac_n=-n ac_c= ac_t=
+  fi
+else
+  ac_n= ac_c='\c' ac_t=
+fi
 
 
 
@@ -1205,9 +539,10 @@
               fi
 else
   MAINTAINER_MODE=0
-fi;
+fi
 
 
+	     
 
 . ${srcdir}/version
 
@@ -1217,7 +552,6 @@
 
 
 
-
 # Check whether --with-python or --without-python was given.
 if test &quot;${with_python+set}&quot; = set; then
   withval=&quot;$with_python&quot;
@@ -1225,73 +559,293 @@
 else
   PYTHON=&quot;&quot;
 
-fi;
+fi
+
 
 if test -n &quot;$PYTHON&quot; -a &quot;$PYTHON&quot; != yes; then
-  as_ac_File=`echo &quot;ac_cv_file_$PYTHON&quot; | $as_tr_sh`
-echo &quot;$as_me:$LINENO: checking for $PYTHON&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $PYTHON... $ECHO_C&quot; &gt;&amp;6
-if eval &quot;test \&quot;\${$as_ac_File+set}\&quot; = set&quot;; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
-else
-  test &quot;$cross_compiling&quot; = yes &amp;&amp;
-  { { echo &quot;$as_me:$LINENO: error: cannot check for file existence when cross compiling&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot check for file existence when cross compiling&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-if test -r &quot;$PYTHON&quot;; then
-  eval &quot;$as_ac_File=yes&quot;
-else
-  eval &quot;$as_ac_File=no&quot;
-fi
-fi
-echo &quot;$as_me:$LINENO: result: `eval echo '${'$as_ac_File'}'`&quot; &gt;&amp;5
-echo &quot;${ECHO_T}`eval echo '${'$as_ac_File'}'`&quot; &gt;&amp;6
-if test `eval echo '${'$as_ac_File'}'` = yes; then
-  :
+  # Extract the first word of &quot;gcc&quot;, so it can be a program name with args.
+set dummy gcc; ac_word=$2
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:570: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_prog_CC'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_prog_CC=&quot;gcc&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+fi
+fi
+CC=&quot;$ac_cv_prog_CC&quot;
+if test -n &quot;$CC&quot;; then
+  echo &quot;$ac_t&quot;&quot;$CC&quot; 1&gt;&amp;6
+else
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
+fi
+
+if test -z &quot;$CC&quot;; then
+  # Extract the first word of &quot;cc&quot;, so it can be a program name with args.
+set dummy cc; ac_word=$2
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:600: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_prog_CC'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_prog_rejected=no
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      if test &quot;$ac_dir/$ac_word&quot; = &quot;/usr/ucb/cc&quot;; then
+        ac_prog_rejected=yes
+	continue
+      fi
+      ac_cv_prog_CC=&quot;cc&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# -gt 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    set dummy &quot;$ac_dir/$ac_word&quot; &quot;$@&quot;
+    shift
+    ac_cv_prog_CC=&quot;$@&quot;
+  fi
+fi
+fi
+fi
+CC=&quot;$ac_cv_prog_CC&quot;
+if test -n &quot;$CC&quot;; then
+  echo &quot;$ac_t&quot;&quot;$CC&quot; 1&gt;&amp;6
+else
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
+fi
+
+  if test -z &quot;$CC&quot;; then
+    case &quot;`uname -s`&quot; in
+    *win32* | *WIN32*)
+      # Extract the first word of &quot;cl&quot;, so it can be a program name with args.
+set dummy cl; ac_word=$2
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:651: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_prog_CC'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  if test -n &quot;$CC&quot;; then
+  ac_cv_prog_CC=&quot;$CC&quot; # Let the user override the test.
+else
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_prog_CC=&quot;cl&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
+fi
+fi
+CC=&quot;$ac_cv_prog_CC&quot;
+if test -n &quot;$CC&quot;; then
+  echo &quot;$ac_t&quot;&quot;$CC&quot; 1&gt;&amp;6
 else
-  echo &quot;Cannot find Python interpreter $PYTHON.&quot;; exit 1
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
+fi
+ ;;
+    esac
+  fi
+  test -z &quot;$CC&quot; &amp;&amp; { echo &quot;configure: error: no acceptable cc found in \$PATH&quot; 1&gt;&amp;2; exit 1; }
+fi
+
+echo $ac_n &quot;checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:683: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works&quot; &gt;&amp;5
+
+ac_ext=c
+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1&gt;&amp;5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1&gt;&amp;5'
+cross_compiling=$ac_cv_prog_cc_cross
+
+cat &gt; conftest.$ac_ext &lt;&lt; EOF
+
+#line 694 &quot;configure&quot;
+#include &quot;confdefs.h&quot;
+
+main(){return(0);}
+EOF
+if { (eval echo configure:699: \&quot;$ac_link\&quot;) 1&gt;&amp;5; (eval $ac_link) 2&gt;&amp;5; } &amp;&amp; test -s conftest${ac_exeext}; then
+  ac_cv_prog_cc_works=yes
+  # If we can't run a trivial program, we are probably using a cross compiler.
+  if (./conftest; exit) 2&gt;/dev/null; then
+    ac_cv_prog_cc_cross=no
+  else
+    ac_cv_prog_cc_cross=yes
+  fi
+else
+  echo &quot;configure: failed program was:&quot; &gt;&amp;5
+  cat conftest.$ac_ext &gt;&amp;5
+  ac_cv_prog_cc_works=no
+fi
+rm -fr conftest*
+ac_ext=c
+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1&gt;&amp;5'
+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1&gt;&amp;5'
+cross_compiling=$ac_cv_prog_cc_cross
+
+echo &quot;$ac_t&quot;&quot;$ac_cv_prog_cc_works&quot; 1&gt;&amp;6
+if test $ac_cv_prog_cc_works = no; then
+  { echo &quot;configure: error: installation or configuration problem: C compiler cannot create executables.&quot; 1&gt;&amp;2; exit 1; }
+fi
+echo $ac_n &quot;checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:725: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler&quot; &gt;&amp;5
+echo &quot;$ac_t&quot;&quot;$ac_cv_prog_cc_cross&quot; 1&gt;&amp;6
+cross_compiling=$ac_cv_prog_cc_cross
+
+echo $ac_n &quot;checking whether we are using GNU C&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:730: checking whether we are using GNU C&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_prog_gcc'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  cat &gt; conftest.c &lt;&lt;EOF
+#ifdef __GNUC__
+  yes;
+#endif
+EOF
+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:739: \&quot;$ac_try\&quot;) 1&gt;&amp;5; (eval $ac_try) 2&gt;&amp;5; }; } | egrep yes &gt;/dev/null 2&gt;&amp;1; then
+  ac_cv_prog_gcc=yes
+else
+  ac_cv_prog_gcc=no
+fi
+fi
+
+echo &quot;$ac_t&quot;&quot;$ac_cv_prog_gcc&quot; 1&gt;&amp;6
+
+if test $ac_cv_prog_gcc = yes; then
+  GCC=yes
+else
+  GCC=
+fi
+
+ac_test_CFLAGS=&quot;${CFLAGS+set}&quot;
+ac_save_CFLAGS=&quot;$CFLAGS&quot;
+CFLAGS=
+echo $ac_n &quot;checking whether ${CC-cc} accepts -g&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:758: checking whether ${CC-cc} accepts -g&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_prog_cc_g'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  echo 'void f(){}' &gt; conftest.c
+if test -z &quot;`${CC-cc} -g -c conftest.c 2&gt;&amp;1`&quot;; then
+  ac_cv_prog_cc_g=yes
+else
+  ac_cv_prog_cc_g=no
+fi
+rm -f conftest*
+
+fi
+
+echo &quot;$ac_t&quot;&quot;$ac_cv_prog_cc_g&quot; 1&gt;&amp;6
+if test &quot;$ac_test_CFLAGS&quot; = set; then
+  CFLAGS=&quot;$ac_save_CFLAGS&quot;
+elif test $ac_cv_prog_cc_g = yes; then
+  if test &quot;$GCC&quot; = yes; then
+    CFLAGS=&quot;-g -O2&quot;
+  else
+    CFLAGS=&quot;-g&quot;
+  fi
+else
+  if test &quot;$GCC&quot; = yes; then
+    CFLAGS=&quot;-O2&quot;
+  else
+    CFLAGS=
+  fi
+fi
 
+
+ac_safe=`echo &quot;$PYTHON&quot; | sed 'y%./+-%__p_%'`
+echo $ac_n &quot;checking for $PYTHON&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:792: checking for $PYTHON&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_file_$ac_safe'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
+else
+  if test &quot;$cross_compiling&quot; = yes; then
+    { echo &quot;configure: error: Cannot check for file existence when cross compiling&quot; 1&gt;&amp;2; exit 1; }
+else
+  if test -r $PYTHON; then
+    eval &quot;ac_cv_file_$ac_safe=yes&quot;
+  else
+    eval &quot;ac_cv_file_$ac_safe=no&quot;
+  fi
+fi
+fi
+if eval &quot;test \&quot;`echo '$ac_cv_file_'$ac_safe`\&quot; = yes&quot;; then
+  echo &quot;$ac_t&quot;&quot;yes&quot; 1&gt;&amp;6
+  :
+else
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
+echo &quot;Cannot find Python interpreter $PYTHON.&quot;; exit 1
+  
 fi
 
 else
   # Extract the first word of &quot;python2 python&quot;, so it can be a program name with args.
 set dummy python2 python; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_path_PYTHON+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:819: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_path_PYTHON'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
 else
-  case $PYTHON in
-  [\\/]* | ?:[\\/]*)
+  case &quot;$PYTHON&quot; in
+  /*)
   ac_cv_path_PYTHON=&quot;$PYTHON&quot; # Let the user override the test with a path.
   ;;
+  ?:/*)			 
+  ac_cv_path_PYTHON=&quot;$PYTHON&quot; # Let the user override the test with a dos path.
+  ;;
   *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
-    ac_cv_path_PYTHON=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do 
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_path_PYTHON=&quot;$ac_dir/$ac_word&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
   test -z &quot;$ac_cv_path_PYTHON&quot; &amp;&amp; ac_cv_path_PYTHON=&quot;python&quot;
   ;;
 esac
 fi
-PYTHON=$ac_cv_path_PYTHON
-
+PYTHON=&quot;$ac_cv_path_PYTHON&quot;
 if test -n &quot;$PYTHON&quot;; then
-  echo &quot;$as_me:$LINENO: result: $PYTHON&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$PYTHON&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;$PYTHON&quot; 1&gt;&amp;6
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
 fi
 
 fi
@@ -1300,8 +854,8 @@
 # The code used to check the version only reports the version accurately
 # with Python 2.0 or greater -- but the minimum acceptable version of
 # Python is already higher than that.
-echo &quot;$as_me:$LINENO: checking Python version&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking Python version... $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking Python version&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:859: checking Python version&quot; &gt;&amp;5
 cat &gt; python-ver.py &lt;&lt;EOF
 try:
   import sys
@@ -1320,159 +874,140 @@
 PYTHON_MINOR=`$PYTHON python-ver.py`
 rm python-ver.py
 PYTHON_VERSION=&quot;${PYTHON_MAJOR}.${PYTHON_MINOR}&quot;
-echo &quot;$as_me:$LINENO: result: $PYTHON_VERSION&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$PYTHON_VERSION&quot; &gt;&amp;6
+echo &quot;$ac_t&quot;&quot;$PYTHON_VERSION&quot; 1&gt;&amp;6
 
 # Some Python versions before 2.1 have serious bugs if threads and
 # fork are used together.  Therefore, Python 2.1 or higher is required.
 if test &quot;$PYTHON_MAJOR&quot; -lt 2 || \
    (test &quot;$PYTHON_MAJOR&quot; -eq 2 &amp;&amp; test &quot;$PYTHON_MINOR&quot; -lt 1); then
-  { { echo &quot;$as_me:$LINENO: error: QM requires Python version 2.1 or greater&quot; &gt;&amp;5
-echo &quot;$as_me: error: QM requires Python version 2.1 or greater&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+  { echo &quot;configure: error: QM requires Python version 2.1 or greater&quot; 1&gt;&amp;2; exit 1; }
 fi
 
-echo &quot;$as_me:$LINENO: checking Python platform&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking Python platform... $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking Python platform&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:888: checking Python platform&quot; &gt;&amp;5
 PYTHON_PLATFORM=`$PYTHON -c &quot;import distutils.util; print distutils.util.get_platform()&quot; 2&gt;/dev/null`
 if test $? -ne 0; then
-  echo &quot;$as_me:$LINENO: result: could not be determined&quot; &gt;&amp;5
-echo &quot;${ECHO_T}could not be determined&quot; &gt;&amp;6
-  { { echo &quot;$as_me:$LINENO: error: Python distutils module is not installed&quot; &gt;&amp;5
-echo &quot;$as_me: error: Python distutils module is not installed&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+  echo &quot;$ac_t&quot;&quot;could not be determined&quot; 1&gt;&amp;6
+  { echo &quot;configure: error: Python distutils module is not installed&quot; 1&gt;&amp;2; exit 1; }
 fi
-echo &quot;$as_me:$LINENO: result: $PYTHON_PLATFORM&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$PYTHON_PLATFORM&quot; &gt;&amp;6
+echo &quot;$ac_t&quot;&quot;$PYTHON_PLATFORM&quot; 1&gt;&amp;6
 
 
 
 # Extract the first word of &quot;happydoc&quot;, so it can be a program name with args.
 set dummy happydoc; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_path_HAPPYDOC+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:901: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_path_HAPPYDOC'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
 else
-  case $HAPPYDOC in
-  [\\/]* | ?:[\\/]*)
+  case &quot;$HAPPYDOC&quot; in
+  /*)
   ac_cv_path_HAPPYDOC=&quot;$HAPPYDOC&quot; # Let the user override the test with a path.
   ;;
+  ?:/*)			 
+  ac_cv_path_HAPPYDOC=&quot;$HAPPYDOC&quot; # Let the user override the test with a dos path.
+  ;;
   *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
-    ac_cv_path_HAPPYDOC=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do 
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_path_HAPPYDOC=&quot;$ac_dir/$ac_word&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
   ;;
 esac
 fi
-HAPPYDOC=$ac_cv_path_HAPPYDOC
-
+HAPPYDOC=&quot;$ac_cv_path_HAPPYDOC&quot;
 if test -n &quot;$HAPPYDOC&quot;; then
-  echo &quot;$as_me:$LINENO: result: $HAPPYDOC&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$HAPPYDOC&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;$HAPPYDOC&quot; 1&gt;&amp;6
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
 fi
 
 
 
 # Extract the first word of &quot;jade&quot;, so it can be a program name with args.
 set dummy jade; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_path_JADE+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:938: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_path_JADE'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
 else
-  case $JADE in
-  [\\/]* | ?:[\\/]*)
+  case &quot;$JADE&quot; in
+  /*)
   ac_cv_path_JADE=&quot;$JADE&quot; # Let the user override the test with a path.
   ;;
+  ?:/*)			 
+  ac_cv_path_JADE=&quot;$JADE&quot; # Let the user override the test with a dos path.
+  ;;
   *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
-    ac_cv_path_JADE=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do 
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_path_JADE=&quot;$ac_dir/$ac_word&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
   test -z &quot;$ac_cv_path_JADE&quot; &amp;&amp; ac_cv_path_JADE=&quot;no&quot;
   ;;
 esac
 fi
-JADE=$ac_cv_path_JADE
-
+JADE=&quot;$ac_cv_path_JADE&quot;
 if test -n &quot;$JADE&quot;; then
-  echo &quot;$as_me:$LINENO: result: $JADE&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$JADE&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;$JADE&quot; 1&gt;&amp;6
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
 fi
 
 # Extract the first word of &quot;tidy&quot;, so it can be a program name with args.
 set dummy tidy; ac_word=$2
-echo &quot;$as_me:$LINENO: checking for $ac_word&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for $ac_word... $ECHO_C&quot; &gt;&amp;6
-if test &quot;${ac_cv_path_TIDY+set}&quot; = set; then
-  echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking for $ac_word&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:974: checking for $ac_word&quot; &gt;&amp;5
+if eval &quot;test \&quot;`echo '$''{'ac_cv_path_TIDY'+set}'`\&quot; = set&quot;; then
+  echo $ac_n &quot;(cached) $ac_c&quot; 1&gt;&amp;6
 else
-  case $TIDY in
-  [\\/]* | ?:[\\/]*)
+  case &quot;$TIDY&quot; in
+  /*)
   ac_cv_path_TIDY=&quot;$TIDY&quot; # Let the user override the test with a path.
   ;;
+  ?:/*)			 
+  ac_cv_path_TIDY=&quot;$TIDY&quot; # Let the user override the test with a dos path.
+  ;;
   *)
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for ac_exec_ext in '' $ac_executable_extensions; do
-  if $as_executable_p &quot;$as_dir/$ac_word$ac_exec_ext&quot;; then
-    ac_cv_path_TIDY=&quot;$as_dir/$ac_word$ac_exec_ext&quot;
-    echo &quot;$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext&quot; &gt;&amp;5
-    break 2
-  fi
-done
-done
-
+  IFS=&quot;${IFS= 	}&quot;; ac_save_ifs=&quot;$IFS&quot;; IFS=&quot;:&quot;
+  ac_dummy=&quot;$PATH&quot;
+  for ac_dir in $ac_dummy; do 
+    test -z &quot;$ac_dir&quot; &amp;&amp; ac_dir=.
+    if test -f $ac_dir/$ac_word; then
+      ac_cv_path_TIDY=&quot;$ac_dir/$ac_word&quot;
+      break
+    fi
+  done
+  IFS=&quot;$ac_save_ifs&quot;
   test -z &quot;$ac_cv_path_TIDY&quot; &amp;&amp; ac_cv_path_TIDY=&quot;no&quot;
   ;;
 esac
 fi
-TIDY=$ac_cv_path_TIDY
-
+TIDY=&quot;$ac_cv_path_TIDY&quot;
 if test -n &quot;$TIDY&quot;; then
-  echo &quot;$as_me:$LINENO: result: $TIDY&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$TIDY&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;$TIDY&quot; 1&gt;&amp;6
 else
-  echo &quot;$as_me:$LINENO: result: no&quot; &gt;&amp;5
-echo &quot;${ECHO_T}no&quot; &gt;&amp;6
+  echo &quot;$ac_t&quot;&quot;no&quot; 1&gt;&amp;6
 fi
 
 
 
 if test &quot;$JADE&quot; != no; then
-  echo &quot;$as_me:$LINENO: checking xml.dcl&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking xml.dcl... $ECHO_C&quot; &gt;&amp;6
+  echo $ac_n &quot;checking xml.dcl&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:1011: checking xml.dcl&quot; &gt;&amp;5
   XML_DCL=no
   for file in \
     /usr/share/doc/jade*/pubtext/xml.dcl \
@@ -1485,14 +1020,13 @@
       break
     fi
   done
-  echo &quot;$as_me:$LINENO: result: $XML_DCL&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$XML_DCL&quot; &gt;&amp;6
-
+  echo &quot;$ac_t&quot;&quot;$XML_DCL&quot; 1&gt;&amp;6
+  
 fi
 
 
-echo &quot;$as_me:$LINENO: checking DocBook stylesheets&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking DocBook stylesheets... $ECHO_C&quot; &gt;&amp;6
+echo $ac_n &quot;checking DocBook stylesheets&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:1030: checking DocBook stylesheets&quot; &gt;&amp;5
 DOCBOOK_STYLESHEETS=no
 for dir in \
   /usr/lib/sgml/stylesheets/docbook \
@@ -1503,15 +1037,13 @@
     break
   fi
 done
-echo &quot;$as_me:$LINENO: result: $DOCBOOK_STYLESHEETS&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$DOCBOOK_STYLESHEETS&quot; &gt;&amp;6
+echo &quot;$ac_t&quot;&quot;$DOCBOOK_STYLESHEETS&quot; 1&gt;&amp;6
 
 
 
 DOCBOOK_DTD=
-echo &quot;$as_me:$LINENO: checking for docbook DTD&quot; &gt;&amp;5
-echo $ECHO_N &quot;checking for docbook DTD... $ECHO_C&quot; &gt;&amp;6
-
+echo $ac_n &quot;checking for docbook DTD&quot;&quot;... $ac_c&quot; 1&gt;&amp;6
+echo &quot;configure:1047: checking for docbook DTD&quot; &gt;&amp;5
 # Check whether --with-docbook-dtd or --without-docbook-dtd was given.
 if test &quot;${with_docbook_dtd+set}&quot; = set; then
   withval=&quot;$with_docbook_dtd&quot;
@@ -1522,14 +1054,13 @@
              esac
 else
   DOCBOOK_DTD=/usr/lib/sgml
-fi;
-echo &quot;$as_me:$LINENO: result: $DOCBOOK_DTD&quot; &gt;&amp;5
-echo &quot;${ECHO_T}$DOCBOOK_DTD&quot; &gt;&amp;6
+fi
+
+echo &quot;$ac_t&quot;&quot;$DOCBOOK_DTD&quot; 1&gt;&amp;6
 
 
 if test &quot;$JADE&quot; = no -o &quot;$XML_DCL&quot; = no -o &quot;$DOCBOOK_DTD&quot; = no; then
-  { echo &quot;$as_me:$LINENO: WARNING: Documentation will not be built.&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: Documentation will not be built.&quot; &gt;&amp;2;}
+  echo &quot;configure: warning: Documentation will not be built.&quot; 1&gt;&amp;2
   DOCUMENTATION=no
 else
   DOCUMENTATION=yes
@@ -1538,17 +1069,14 @@
 # Do not try to build documentation unless --enable-maintainer-mode
 # was specified.  The documentation is pre-generated for releases.
 if test $DOCUMENTATION = yes &amp;&amp; test $MAINTAINER_MODE = 0; then
-  { echo &quot;$as_me:$LINENO: WARNING: Documentation is only built in maintainer mode.&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: Documentation is only built in maintainer mode.&quot; &gt;&amp;2;}
+  echo &quot;configure: warning: Documentation is only built in maintainer mode.&quot; 1&gt;&amp;2
   DOCUMENTATION=no
 fi
 
 # Maintainers should be building documentation.
 if test $DOCUMENTATION = no &amp;&amp; test $MAINTAINER_MODE = 1; then
-  { echo &quot;$as_me:$LINENO: WARNING: Documentation will not be built despite --enable-maintainer-mode.&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: Documentation will not be built despite --enable-maintainer-mode.&quot; &gt;&amp;2;}
-  { echo &quot;$as_me:$LINENO: WARNING: Check that Jade and Docbook have been installed.&quot; &gt;&amp;5
-echo &quot;$as_me: WARNING: Check that Jade and Docbook have been installed.&quot; &gt;&amp;2;}
+  echo &quot;configure: warning: Documentation will not be built despite --enable-maintainer-mode.&quot; 1&gt;&amp;2
+  echo &quot;configure: warning: Check that Jade and Docbook have been installed.&quot; 1&gt;&amp;2
 fi
 
 if test $DOCUMENTATION = yes \
@@ -1562,886 +1090,276 @@
 
 
 
-                              ac_config_files=&quot;$ac_config_files GNUmakefile qm.spec qm/setup_path.py&quot;
-cat &gt;confcache &lt;&lt;\_ACEOF
+trap '' 1 2 15
+cat &gt; confcache &lt;&lt;\EOF
 # This file is a shell script that caches the results of configure
 # tests run on this system so they can be shared between configure
-# scripts and configure runs, see configure's option --config-cache.
-# It is not useful on other systems.  If it contains results you don't
-# want to keep, you may remove or edit it.
+# scripts and configure runs.  It is not useful on other systems.
+# If it contains results you don't want to keep, you may remove or edit it.
 #
-# config.status only pays attention to the cache file if you give it
-# the --recheck option to rerun configure.
+# By default, configure uses ./config.cache as the cache file,
+# creating it if it does not exist already.  You can give configure
+# the --cache-file=FILE option to use a different cache file; that is
+# what configure does when it calls configure scripts in
+# subdirectories, so they share the cache.
+# Giving --cache-file=/dev/null disables caching, for debugging configure.
+# config.status only pays attention to the cache file if you give it the
+# --recheck option to rerun configure.
 #
-# `ac_cv_env_foo' variables (set or unset) will be overridden when
-# loading this file, other *unset* `ac_cv_foo' will be assigned the
-# following values.
-
-_ACEOF
-
+EOF
 # The following way of writing the cache mishandles newlines in values,
 # but we know of no workaround that is simple, portable, and efficient.
 # So, don't put newlines in cache variables' values.
 # Ultrix sh set writes to stderr and can't be redirected directly,
 # and sets the high bit in the cache file unless we assign to the vars.
-{
-  (set) 2&gt;&amp;1 |
-    case `(ac_space=' '; set | grep ac_space) 2&gt;&amp;1` in
-    *ac_space=\ *)
-      # `set' does not quote correctly, so add quotes (double-quote
-      # substitution turns \\\\ into \\, and sed turns \\ into \).
-      sed -n \
-        &quot;s/'/'\\\\''/g;
-    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p&quot;
-      ;;
-    *)
-      # `set' quotes correctly as required by POSIX, so do not add quotes.
-      sed -n \
-        &quot;s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p&quot;
-      ;;
-    esac;
-} |
-  sed '
-     t clear
-     : clear
-     s/^\([^=]*\)=\(.*[{}].*\)$/test &quot;${\1+set}&quot; = set || &amp;/
-     t end
-     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
-     : end' &gt;&gt;confcache
-if diff $cache_file confcache &gt;/dev/null 2&gt;&amp;1; then :; else
+(set) 2&gt;&amp;1 |
+  case `(ac_space=' '; set | grep ac_space) 2&gt;&amp;1` in
+  *ac_space=\ *)
+    # `set' does not quote correctly, so add quotes (double-quote substitution
+    # turns \\\\ into \\, and sed turns \\ into \).
+    sed -n \
+      -e &quot;s/'/'\\\\''/g&quot; \
+      -e &quot;s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p&quot;
+    ;;
+  *)
+    # `set' quotes correctly as required by POSIX, so do not add quotes.
+    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
+    ;;
+  esac &gt;&gt; confcache
+if cmp -s $cache_file confcache; then
+  :
+else
   if test -w $cache_file; then
-    test &quot;x$cache_file&quot; != &quot;x/dev/null&quot; &amp;&amp; echo &quot;updating cache $cache_file&quot;
-    cat confcache &gt;$cache_file
+    echo &quot;updating cache $cache_file&quot;
+    cat confcache &gt; $cache_file
   else
     echo &quot;not updating unwritable cache $cache_file&quot;
   fi
 fi
 rm -f confcache
 
+trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
+
 test &quot;x$prefix&quot; = xNONE &amp;&amp; prefix=$ac_default_prefix
 # Let make expand exec_prefix.
 test &quot;x$exec_prefix&quot; = xNONE &amp;&amp; exec_prefix='${prefix}'
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is &quot;.&quot;, strip leading and
-# trailing colons and then remove the whole line if VPATH becomes empty
-# (actually we leave an empty line to preserve line numbers).
+# Any assignment to VPATH causes Sun make to only execute
+# the first set of double-colon rules, so remove it if not needed.
+# If there is a colon in the path, we need to keep it.
 if test &quot;x$srcdir&quot; = x.; then
-  ac_vpsub='/^[ 	]*VPATH[ 	]*=/{
-s/:*\$(srcdir):*/:/;
-s/:*\${srcdir}:*/:/;
-s/:*@srcdir@:*/:/;
-s/^\([^=]*=[ 	]*\):*/\1/;
-s/:*$//;
-s/^[^=]*=[ 	]*$//;
-}'
+  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
 fi
 
+trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15
+
 # Transform confdefs.h into DEFS.
 # Protect against shell expansion while executing Makefile rules.
 # Protect against Makefile macro expansion.
-#
-# If the first sed substitution is executed (which looks for macros that
-# take arguments), then we branch to the quote section.  Otherwise,
-# look for a macro that doesn't take arguments.
-cat &gt;confdef2opt.sed &lt;&lt;\_ACEOF
-t clear
-: clear
-s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*([^)]*)\)[ 	]*\(.*\),-D\1=\2,g
-t quote
-s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\),-D\1=\2,g
-t quote
-d
-: quote
-s,[ 	`~#$^&amp;*(){}\\|;'&quot;&lt;&gt;?],\\&amp;,g
-s,\[,\\&amp;,g
-s,\],\\&amp;,g
-s,\$,$$,g
-p
-_ACEOF
-# We use echo to avoid assuming a particular line-breaking character.
-# The extra dot is to prevent the shell from consuming trailing
-# line-breaks from the sub-command output.  A line-break within
-# single-quotes doesn't work because, if this script is created in a
-# platform that uses two characters for line-breaks (e.g., DOS), tr
-# would break.
-ac_LF_and_DOT=`echo; echo .`
-DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr &quot;$ac_LF_and_DOT&quot; ' .'`
-rm -f confdef2opt.sed
-
-
-ac_libobjs=
-ac_ltlibobjs=
-for ac_i in : $LIBOBJS; do test &quot;x$ac_i&quot; = x: &amp;&amp; continue
-  # 1. Remove the extension, and $U if already installed.
-  ac_i=`echo &quot;$ac_i&quot; |
-         sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
-  # 2. Add them.
-  ac_libobjs=&quot;$ac_libobjs $ac_i\$U.$ac_objext&quot;
-  ac_ltlibobjs=&quot;$ac_ltlibobjs $ac_i&quot;'$U.lo'
-done
-LIBOBJS=$ac_libobjs
-
-LTLIBOBJS=$ac_ltlibobjs
-
+cat &gt; conftest.defs &lt;&lt;\EOF
+s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%-D\1=\2%g
+s%[ 	`~#$^&amp;*(){}\\|;'&quot;&lt;&gt;?]%\\&amp;%g
+s%\[%\\&amp;%g
+s%\]%\\&amp;%g
+s%\$%$$%g
+EOF
+DEFS=`sed -f conftest.defs confdefs.h | tr '\012' ' '`
+rm -f conftest.defs
 
 
+# Without the &quot;./&quot;, some shells look in PATH for config.status.
 : ${CONFIG_STATUS=./config.status}
-ac_clean_files_save=$ac_clean_files
-ac_clean_files=&quot;$ac_clean_files $CONFIG_STATUS&quot;
-{ echo &quot;$as_me:$LINENO: creating $CONFIG_STATUS&quot; &gt;&amp;5
-echo &quot;$as_me: creating $CONFIG_STATUS&quot; &gt;&amp;6;}
-cat &gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-#! $SHELL
-# Generated by $as_me.
+
+echo creating $CONFIG_STATUS
+rm -f $CONFIG_STATUS
+cat &gt; $CONFIG_STATUS &lt;&lt;EOF
+#! /bin/sh
+# Generated automatically by configure.
 # Run this file to recreate the current configuration.
+# This directory was configured as follows,
+# on host `(hostname || uname -n) 2&gt;/dev/null | sed 1q`:
+#
+# $0 $ac_configure_args
+#
 # Compiler output produced by configure, useful for debugging
-# configure, is in config.log if it exists.
-
-debug=false
-ac_cs_recheck=false
-ac_cs_silent=false
-SHELL=\${CONFIG_SHELL-$SHELL}
-_ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-## --------------------- ##
-## M4sh Initialization.  ##
-## --------------------- ##
-
-# Be Bourne compatible
-if test -n &quot;${ZSH_VERSION+set}&quot; &amp;&amp; (emulate sh) &gt;/dev/null 2&gt;&amp;1; then
-  emulate sh
-  NULLCMD=:
-  # Zsh 3.x and 4.x performs word splitting on ${1+&quot;$@&quot;}, which
-  # is contrary to our usage.  Disable this feature.
-  alias -g '${1+&quot;$@&quot;}'='&quot;$@&quot;'
-elif test -n &quot;${BASH_VERSION+set}&quot; &amp;&amp; (set -o posix) &gt;/dev/null 2&gt;&amp;1; then
-  set -o posix
-fi
-
-# Support unset when possible.
-if (FOO=FOO; unset FOO) &gt;/dev/null 2&gt;&amp;1; then
-  as_unset=unset
-else
-  as_unset=false
-fi
-
+# configure, is in ./config.log if it exists.
 
-# Work around bugs in pre-3.0 UWIN ksh.
-$as_unset ENV MAIL MAILPATH
-PS1='$ '
-PS2='&gt; '
-PS4='+ '
-
-# NLS nuisances.
-for as_var in \
-  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
-  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
-  LC_TELEPHONE LC_TIME
+ac_cs_usage=&quot;Usage: $CONFIG_STATUS [--recheck] [--version] [--help]&quot;
+for ac_option
 do
-  if (set +x; test -n &quot;`(eval $as_var=C; export $as_var) 2&gt;&amp;1`&quot;); then
-    eval $as_var=C; export $as_var
-  else
-    $as_unset $as_var
-  fi
+  case &quot;\$ac_option&quot; in
+  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+    echo &quot;running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion&quot;
+    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
+  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
+    echo &quot;$CONFIG_STATUS generated by autoconf version 2.13&quot;
+    exit 0 ;;
+  -help | --help | --hel | --he | --h)
+    echo &quot;\$ac_cs_usage&quot;; exit 0 ;;
+  *) echo &quot;\$ac_cs_usage&quot;; exit 1 ;;
+  esac
 done
 
-# Required to use basename.
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
-  as_expr=expr
-else
-  as_expr=false
-fi
-
-if (basename /) &gt;/dev/null 2&gt;&amp;1 &amp;&amp; test &quot;X`basename / 2&gt;&amp;1`&quot; = &quot;X/&quot;; then
-  as_basename=basename
-else
-  as_basename=false
-fi
+ac_given_srcdir=$srcdir
 
+trap 'rm -fr `echo &quot;GNUmakefile
+  qm.spec
+  qm/version.py
+&quot; | sed &quot;s/:[^ ]*//g&quot;` conftest*; exit 1' 1 2 15
+EOF
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;EOF
 
-# Name of the executable.
-as_me=`$as_basename &quot;$0&quot; ||
-$as_expr X/&quot;$0&quot; : '.*/\([^/][^/]*\)/*$' \| \
-	 X&quot;$0&quot; : 'X\(//\)$' \| \
-	 X&quot;$0&quot; : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2&gt;/dev/null ||
-echo X/&quot;$0&quot; |
-    sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
-  	  /^X\/\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\/\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-
-
-# PATH needs CR, and LINENO needs CR and PATH.
-# Avoid depending upon Character Ranges.
-as_cr_letters='abcdefghijklmnopqrstuvwxyz'
-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
-as_cr_Letters=$as_cr_letters$as_cr_LETTERS
-as_cr_digits='0123456789'
-as_cr_alnum=$as_cr_Letters$as_cr_digits
-
-# The user is always right.
-if test &quot;${PATH_SEPARATOR+set}&quot; != set; then
-  echo &quot;#! /bin/sh&quot; &gt;conf$$.sh
-  echo  &quot;exit 0&quot;   &gt;&gt;conf$$.sh
-  chmod +x conf$$.sh
-  if (PATH=&quot;/nonexistent;.&quot;; conf$$.sh) &gt;/dev/null 2&gt;&amp;1; then
-    PATH_SEPARATOR=';'
-  else
-    PATH_SEPARATOR=:
-  fi
-  rm -f conf$$.sh
-fi
+# Protect against being on the right side of a sed subst in config.status.
+sed 's/%@/@@/; s/@%/@@/; s/%g\$/@g/; /@g\$/s/[\\\\&amp;%]/\\\\&amp;/g;
+ s/@@/%@/; s/@@/@%/; s/@g\$/%g/' &gt; conftest.subs &lt;&lt;\\CEOF
+$ac_vpsub
+$extrasub
+s%@SHELL@%$SHELL%g
+s%@CFLAGS@%$CFLAGS%g
+s%@CPPFLAGS@%$CPPFLAGS%g
+s%@CXXFLAGS@%$CXXFLAGS%g
+s%@FFLAGS@%$FFLAGS%g
+s%@DEFS@%$DEFS%g
+s%@LDFLAGS@%$LDFLAGS%g
+s%@LIBS@%$LIBS%g
+s%@exec_prefix@%$exec_prefix%g
+s%@prefix@%$prefix%g
+s%@program_transform_name@%$program_transform_name%g
+s%@bindir@%$bindir%g
+s%@sbindir@%$sbindir%g
+s%@libexecdir@%$libexecdir%g
+s%@datadir@%$datadir%g
+s%@sysconfdir@%$sysconfdir%g
+s%@sharedstatedir@%$sharedstatedir%g
+s%@localstatedir@%$localstatedir%g
+s%@libdir@%$libdir%g
+s%@includedir@%$includedir%g
+s%@oldincludedir@%$oldincludedir%g
+s%@infodir@%$infodir%g
+s%@mandir@%$mandir%g
+s%@MAINTAINER_MODE@%$MAINTAINER_MODE%g
+s%@QM_MAJOR_VER@%$QM_MAJOR_VER%g
+s%@QM_MINOR_VER@%$QM_MINOR_VER%g
+s%@QM_RELEASE_VER@%$QM_RELEASE_VER%g
+s%@QM_VERSION@%$QM_VERSION%g
+s%@CC@%$CC%g
+s%@PYTHON@%$PYTHON%g
+s%@PYTHON_PLATFORM@%$PYTHON_PLATFORM%g
+s%@HAPPYDOC@%$HAPPYDOC%g
+s%@JADE@%$JADE%g
+s%@TIDY@%$TIDY%g
+s%@XML_DCL@%$XML_DCL%g
+s%@DOCBOOK_STYLESHEETS@%$DOCBOOK_STYLESHEETS%g
+s%@DOCBOOK_DTD@%$DOCBOOK_DTD%g
+s%@DOCUMENTATION@%$DOCUMENTATION%g
+s%@INSTALL_DOCUMENTATION@%$INSTALL_DOCUMENTATION%g
 
+CEOF
+EOF
 
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot;  || {
-  # Find who we are.  Look in the path if we contain no path at all
-  # relative or not.
-  case $0 in
-    *[\\/]* ) as_myself=$0 ;;
-    *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  test -r &quot;$as_dir/$0&quot; &amp;&amp; as_myself=$as_dir/$0 &amp;&amp; break
-done
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;\EOF
 
-       ;;
-  esac
-  # We did not find ourselves, most probably we were run as `sh COMMAND'
-  # in which case we are not to be found in the path.
-  if test &quot;x$as_myself&quot; = x; then
-    as_myself=$0
-  fi
-  if test ! -f &quot;$as_myself&quot;; then
-    { { echo &quot;$as_me:$LINENO: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find myself; rerun with an absolute path&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
+# Split the substitutions into bite-sized pieces for seds with
+# small command number limits, like on Digital OSF/1 and HP-UX.
+ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
+ac_file=1 # Number of current file.
+ac_beg=1 # First line for current file.
+ac_end=$ac_max_sed_cmds # Line after last line for current file.
+ac_more_lines=:
+ac_sed_cmds=&quot;&quot;
+while $ac_more_lines; do
+  if test $ac_beg -gt 1; then
+    sed &quot;1,${ac_beg}d; ${ac_end}q&quot; conftest.subs &gt; conftest.s$ac_file
+  else
+    sed &quot;${ac_end}q&quot; conftest.subs &gt; conftest.s$ac_file
   fi
-  case $CONFIG_SHELL in
-  '')
-    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
-do
-  IFS=$as_save_IFS
-  test -z &quot;$as_dir&quot; &amp;&amp; as_dir=.
-  for as_base in sh bash ksh sh5; do
-	 case $as_dir in
-	 /*)
-	   if (&quot;$as_dir/$as_base&quot; -c '
-  as_lineno_1=$LINENO
-  as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
-  test &quot;x$as_lineno_1&quot; != &quot;x$as_lineno_2&quot; &amp;&amp;
-  test &quot;x$as_lineno_3&quot;  = &quot;x$as_lineno_2&quot; ') 2&gt;/dev/null; then
-	     $as_unset BASH_ENV || test &quot;${BASH_ENV+set}&quot; != set || { BASH_ENV=; export BASH_ENV; }
-	     $as_unset ENV || test &quot;${ENV+set}&quot; != set || { ENV=; export ENV; }
-	     CONFIG_SHELL=$as_dir/$as_base
-	     export CONFIG_SHELL
-	     exec &quot;$CONFIG_SHELL&quot; &quot;$0&quot; ${1+&quot;$@&quot;}
-	   fi;;
-	 esac
-       done
-done
-;;
-  esac
-
-  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
-  # uniformly replaced by the line number.  The first 'sed' inserts a
-  # line-number line before each line; the second 'sed' does the real
-  # work.  The second script uses 'N' to pair each line-number line
-  # with the numbered line, and appends trailing '-' during
-  # substitution so that $LINENO is not a special case at line end.
-  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
-  # second 'sed' script.  Blame Lee E. McMahon for sed's syntax.  :-)
-  sed '=' &lt;$as_myself |
-    sed '
-      N
-      s,$,-,
-      : loop
-      s,^\(['$as_cr_digits']*\)\(.*\)[$]LINENO\([^'$as_cr_alnum'_]\),\1\2\1\3,
-      t loop
-      s,-$,,
-      s,^['$as_cr_digits']*\n,,
-    ' &gt;$as_me.lineno &amp;&amp;
-  chmod +x $as_me.lineno ||
-    { { echo &quot;$as_me:$LINENO: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-
-  # Don't try to exec as it changes $[0], causing all sort of problems
-  # (the dirname of $[0] is not the place where we might find the
-  # original and so on.  Autoconf is especially sensible to this).
-  . ./$as_me.lineno
-  # Exit status is that of the last command.
-  exit
-}
-
-
-case `echo &quot;testing\c&quot;; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
-  *c*,-n*) ECHO_N= ECHO_C='
-' ECHO_T='	' ;;
-  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
-  *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
-esac
-
-if expr a : '\(a\)' &gt;/dev/null 2&gt;&amp;1; then
-  as_expr=expr
-else
-  as_expr=false
-fi
-
-rm -f conf$$ conf$$.exe conf$$.file
-echo &gt;conf$$.file
-if ln -s conf$$.file conf$$ 2&gt;/dev/null; then
-  # We could just check for DJGPP; but this test a) works b) is more generic
-  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
-  if test -f conf$$.exe; then
-    # Don't use ln at all; we don't have any links
-    as_ln_s='cp -p'
+  if test ! -s conftest.s$ac_file; then
+    ac_more_lines=false
+    rm -f conftest.s$ac_file
   else
-    as_ln_s='ln -s'
+    if test -z &quot;$ac_sed_cmds&quot;; then
+      ac_sed_cmds=&quot;sed -f conftest.s$ac_file&quot;
+    else
+      ac_sed_cmds=&quot;$ac_sed_cmds | sed -f conftest.s$ac_file&quot;
+    fi
+    ac_file=`expr $ac_file + 1`
+    ac_beg=$ac_end
+    ac_end=`expr $ac_end + $ac_max_sed_cmds`
   fi
-elif ln conf$$.file conf$$ 2&gt;/dev/null; then
-  as_ln_s=ln
-else
-  as_ln_s='cp -p'
-fi
-rm -f conf$$ conf$$.exe conf$$.file
-
-if mkdir -p . 2&gt;/dev/null; then
-  as_mkdir_p=:
-else
-  as_mkdir_p=false
-fi
-
-as_executable_p=&quot;test -f&quot;
-
-# Sed expression to map a string onto a valid CPP name.
-as_tr_cpp=&quot;sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g&quot;
-
-# Sed expression to map a string onto a valid variable name.
-as_tr_sh=&quot;sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g&quot;
-
-
-# IFS
-# We need space, tab and new line, in precisely that order.
-as_nl='
-'
-IFS=&quot; 	$as_nl&quot;
-
-# CDPATH.
-$as_unset CDPATH
-
-exec 6&gt;&amp;1
-
-# Open the log real soon, to keep \$[0] and so on meaningful, and to
-# report actual input values of CONFIG_FILES etc. instead of their
-# values after options handling.  Logging --version etc. is OK.
-exec 5&gt;&gt;config.log
-{
-  echo
-  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' &lt;&lt;_ASBOX
-## Running $as_me. ##
-_ASBOX
-} &gt;&amp;5
-cat &gt;&amp;5 &lt;&lt;_CSEOF
-
-This file was extended by $as_me, which was
-generated by GNU Autoconf 2.57.  Invocation command line was
-
-  CONFIG_FILES    = $CONFIG_FILES
-  CONFIG_HEADERS  = $CONFIG_HEADERS
-  CONFIG_LINKS    = $CONFIG_LINKS
-  CONFIG_COMMANDS = $CONFIG_COMMANDS
-  $ $0 $@
-
-_CSEOF
-echo &quot;on `(hostname || uname -n) 2&gt;/dev/null | sed 1q`&quot; &gt;&amp;5
-echo &gt;&amp;5
-_ACEOF
-
-# Files that config.status was made for.
-if test -n &quot;$ac_config_files&quot;; then
-  echo &quot;config_files=\&quot;$ac_config_files\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-if test -n &quot;$ac_config_headers&quot;; then
-  echo &quot;config_headers=\&quot;$ac_config_headers\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-if test -n &quot;$ac_config_links&quot;; then
-  echo &quot;config_links=\&quot;$ac_config_links\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-if test -n &quot;$ac_config_commands&quot;; then
-  echo &quot;config_commands=\&quot;$ac_config_commands\&quot;&quot; &gt;&gt;$CONFIG_STATUS
-fi
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-
-ac_cs_usage=&quot;\
-\`$as_me' instantiates files from templates according to the
-current configuration.
-
-Usage: $0 [OPTIONS] [FILE]...
-
-  -h, --help       print this help, then exit
-  -V, --version    print version number, then exit
-  -q, --quiet      do not print progress messages
-  -d, --debug      don't remove temporary files
-      --recheck    update $as_me by reconfiguring in the same conditions
-  --file=FILE[:TEMPLATE]
-                   instantiate the configuration file FILE
-
-Configuration files:
-$config_files
-
-Report bugs to &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">bug-autoconf at gnu.org</A>&gt;.&quot;
-_ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-ac_cs_version=&quot;\\
-config.status
-configured by $0, generated by GNU Autoconf 2.57,
-  with options \\&quot;`echo &quot;$ac_configure_args&quot; | sed 's/[\\&quot;&quot;\`\$]/\\\\&amp;/g'`\\&quot;
-
-Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
-Free Software Foundation, Inc.
-This config.status script is free software; the Free Software Foundation
-gives unlimited permission to copy, distribute and modify it.&quot;
-srcdir=$srcdir
-_ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-# If no file are specified by the user, then we need to provide default
-# value.  By we need to know if files were specified by the user.
-ac_need_defaults=:
-while test $# != 0
-do
-  case $1 in
-  --*=*)
-    ac_option=`expr &quot;x$1&quot; : 'x\([^=]*\)='`
-    ac_optarg=`expr &quot;x$1&quot; : 'x[^=]*=\(.*\)'`
-    ac_shift=:
-    ;;
-  -*)
-    ac_option=$1
-    ac_optarg=$2
-    ac_shift=shift
-    ;;
-  *) # This is not an option, so the user has probably given explicit
-     # arguments.
-     ac_option=$1
-     ac_need_defaults=false;;
-  esac
-
-  case $ac_option in
-  # Handling of the options.
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
-    ac_cs_recheck=: ;;
-  --version | --vers* | -V )
-    echo &quot;$ac_cs_version&quot;; exit 0 ;;
-  --he | --h)
-    # Conflict between --help and --header
-    { { echo &quot;$as_me:$LINENO: error: ambiguous option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;5
-echo &quot;$as_me: error: ambiguous option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; };;
-  --help | --hel | -h )
-    echo &quot;$ac_cs_usage&quot;; exit 0 ;;
-  --debug | --d* | -d )
-    debug=: ;;
-  --file | --fil | --fi | --f )
-    $ac_shift
-    CONFIG_FILES=&quot;$CONFIG_FILES $ac_optarg&quot;
-    ac_need_defaults=false;;
-  --header | --heade | --head | --hea )
-    $ac_shift
-    CONFIG_HEADERS=&quot;$CONFIG_HEADERS $ac_optarg&quot;
-    ac_need_defaults=false;;
-  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
-  | -silent | --silent | --silen | --sile | --sil | --si | --s)
-    ac_cs_silent=: ;;
-
-  # This is an error.
-  -*) { { echo &quot;$as_me:$LINENO: error: unrecognized option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;5
-echo &quot;$as_me: error: unrecognized option: $1
-Try \`$0 --help' for more information.&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; } ;;
-
-  *) ac_config_targets=&quot;$ac_config_targets $1&quot; ;;
-
-  esac
-  shift
 done
-
-ac_configure_extra_args=
-
-if $ac_cs_silent; then
-  exec 6&gt;/dev/null
-  ac_configure_extra_args=&quot;$ac_configure_extra_args --silent&quot;
+if test -z &quot;$ac_sed_cmds&quot;; then
+  ac_sed_cmds=cat
 fi
+EOF
 
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-if \$ac_cs_recheck; then
-  echo &quot;running $SHELL $0 &quot; $ac_configure_args \$ac_configure_extra_args &quot; --no-create --no-recursion&quot; &gt;&amp;6
-  exec $SHELL $0 $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
-fi
-
-_ACEOF
-
-
-
-
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;EOF
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-for ac_config_target in $ac_config_targets
-do
-  case &quot;$ac_config_target&quot; in
-  # Handling of arguments.
-  &quot;GNUmakefile&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES GNUmakefile&quot; ;;
-  &quot;qm.spec&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES qm.spec&quot; ;;
-  &quot;qm/setup_path.py&quot; ) CONFIG_FILES=&quot;$CONFIG_FILES qm/setup_path.py&quot; ;;
-  *) { { echo &quot;$as_me:$LINENO: error: invalid argument: $ac_config_target&quot; &gt;&amp;5
-echo &quot;$as_me: error: invalid argument: $ac_config_target&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; };;
+CONFIG_FILES=\${CONFIG_FILES-&quot;GNUmakefile
+  qm.spec
+  qm/version.py
+&quot;}
+EOF
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;\EOF
+for ac_file in .. $CONFIG_FILES; do if test &quot;x$ac_file&quot; != x..; then
+  # Support &quot;outfile[:infile[:infile...]]&quot;, defaulting infile=&quot;outfile.in&quot;.
+  case &quot;$ac_file&quot; in
+  *:*) ac_file_in=`echo &quot;$ac_file&quot;|sed 's%[^:]*:%%'`
+       ac_file=`echo &quot;$ac_file&quot;|sed 's%:.*%%'` ;;
+  *) ac_file_in=&quot;${ac_file}.in&quot; ;;
   esac
-done
-
-# If the user did not use the arguments to specify the items to instantiate,
-# then the envvar interface is used.  Set only those that are not.
-# We use the long form for the default assignment because of an extremely
-# bizarre bug on SunOS 4.1.3.
-if $ac_need_defaults; then
-  test &quot;${CONFIG_FILES+set}&quot; = set || CONFIG_FILES=$config_files
-fi
-
-# Have a temporary directory for convenience.  Make it in the build tree
-# simply because there is no reason to put it here, and in addition,
-# creating and moving files from /tmp can sometimes cause problems.
-# Create a temporary directory, and hook for its removal unless debugging.
-$debug ||
-{
-  trap 'exit_status=$?; rm -rf $tmp &amp;&amp; exit $exit_status' 0
-  trap '{ (exit 1); exit 1; }' 1 2 13 15
-}
-
-# Create a (secure) tmp directory for tmp files.
-
-{
-  tmp=`(umask 077 &amp;&amp; mktemp -d -q &quot;./confstatXXXXXX&quot;) 2&gt;/dev/null` &amp;&amp;
-  test -n &quot;$tmp&quot; &amp;&amp; test -d &quot;$tmp&quot;
-}  ||
-{
-  tmp=./confstat$$-$RANDOM
-  (umask 077 &amp;&amp; mkdir $tmp)
-} ||
-{
-   echo &quot;$me: cannot create a temporary directory in .&quot; &gt;&amp;2
-   { (exit 1); exit 1; }
-}
-
-_ACEOF
-
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-
-#
-# CONFIG_FILES section.
-#
-
-# No need to generate the scripts if there are no CONFIG_FILES.
-# This happens for instance when ./config.status config.h
-if test -n &quot;\$CONFIG_FILES&quot;; then
-  # Protect against being on the right side of a sed subst in config.status.
-  sed 's/,@/@@/; s/@,/@@/; s/,;t t\$/@;t t/; /@;t t\$/s/[\\\\&amp;,]/\\\\&amp;/g;
-   s/@@/,@/; s/@@/@,/; s/@;t t\$/,;t t/' &gt;\$tmp/subs.sed &lt;&lt;\\CEOF
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at SHELL</A>@,$SHELL,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PATH_SEPARATOR</A>@,$PATH_SEPARATOR,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PACKAGE_NAME</A>@,$PACKAGE_NAME,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PACKAGE_TARNAME</A>@,$PACKAGE_TARNAME,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PACKAGE_VERSION</A>@,$PACKAGE_VERSION,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PACKAGE_STRING</A>@,$PACKAGE_STRING,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PACKAGE_BUGREPORT</A>@,$PACKAGE_BUGREPORT,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at exec_prefix</A>@,$exec_prefix,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at prefix</A>@,$prefix,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at program_transform_name</A>@,$program_transform_name,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at bindir</A>@,$bindir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at sbindir</A>@,$sbindir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at libexecdir</A>@,$libexecdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at datadir</A>@,$datadir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at sysconfdir</A>@,$sysconfdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at sharedstatedir</A>@,$sharedstatedir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at localstatedir</A>@,$localstatedir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at libdir</A>@,$libdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at includedir</A>@,$includedir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at oldincludedir</A>@,$oldincludedir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at infodir</A>@,$infodir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at mandir</A>@,$mandir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at build_alias</A>@,$build_alias,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at host_alias</A>@,$host_alias,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at target_alias</A>@,$target_alias,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at DEFS</A>@,$DEFS,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at ECHO_C</A>@,$ECHO_C,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at ECHO_N</A>@,$ECHO_N,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at ECHO_T</A>@,$ECHO_T,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at LIBS</A>@,$LIBS,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at MAINTAINER_MODE</A>@,$MAINTAINER_MODE,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at QM_MAJOR_VER</A>@,$QM_MAJOR_VER,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at QM_MINOR_VER</A>@,$QM_MINOR_VER,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at QM_RELEASE_VER</A>@,$QM_RELEASE_VER,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at QM_VERSION</A>@,$QM_VERSION,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PYTHON</A>@,$PYTHON,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at PYTHON_PLATFORM</A>@,$PYTHON_PLATFORM,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at HAPPYDOC</A>@,$HAPPYDOC,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at JADE</A>@,$JADE,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at TIDY</A>@,$TIDY,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at XML_DCL</A>@,$XML_DCL,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at DOCBOOK_STYLESHEETS</A>@,$DOCBOOK_STYLESHEETS,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at DOCBOOK_DTD</A>@,$DOCBOOK_DTD,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at DOCUMENTATION</A>@,$DOCUMENTATION,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at INSTALL_DOCUMENTATION</A>@,$INSTALL_DOCUMENTATION,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at LIBOBJS</A>@,$LIBOBJS,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at LTLIBOBJS</A>@,$LTLIBOBJS,;t t
-CEOF
 
-_ACEOF
+  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
 
-  cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-  # Split the substitutions into bite-sized pieces for seds with
-  # small command number limits, like on Digital OSF/1 and HP-UX.
-  ac_max_sed_lines=48
-  ac_sed_frag=1 # Number of current file.
-  ac_beg=1 # First line for current file.
-  ac_end=$ac_max_sed_lines # Line after last line for current file.
-  ac_more_lines=:
-  ac_sed_cmds=
-  while $ac_more_lines; do
-    if test $ac_beg -gt 1; then
-      sed &quot;1,${ac_beg}d; ${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
-    else
-      sed &quot;${ac_end}q&quot; $tmp/subs.sed &gt;$tmp/subs.frag
-    fi
-    if test ! -s $tmp/subs.frag; then
-      ac_more_lines=false
-    else
-      # The purpose of the label and of the branching condition is to
-      # speed up the sed processing (if there are no `@' at all, there
-      # is no need to browse any of the substitutions).
-      # These are the two extra sed commands mentioned above.
-      (echo ':t
-  /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' &amp;&amp; cat $tmp/subs.frag) &gt;$tmp/subs-$ac_sed_frag.sed
-      if test -z &quot;$ac_sed_cmds&quot;; then
-  	ac_sed_cmds=&quot;sed -f $tmp/subs-$ac_sed_frag.sed&quot;
-      else
-  	ac_sed_cmds=&quot;$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed&quot;
-      fi
-      ac_sed_frag=`expr $ac_sed_frag + 1`
-      ac_beg=$ac_end
-      ac_end=`expr $ac_end + $ac_max_sed_lines`
-    fi
-  done
-  if test -z &quot;$ac_sed_cmds&quot;; then
-    ac_sed_cmds=cat
+  # Remove last slash and all that follows it.  Not all systems have dirname.
+  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
+  if test &quot;$ac_dir&quot; != &quot;$ac_file&quot; &amp;&amp; test &quot;$ac_dir&quot; != .; then
+    # The file is in a subdirectory.
+    test ! -d &quot;$ac_dir&quot; &amp;&amp; mkdir &quot;$ac_dir&quot;
+    ac_dir_suffix=&quot;/`echo $ac_dir|sed 's%^\./%%'`&quot;
+    # A &quot;../&quot; for each directory in $ac_dir_suffix.
+    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
+  else
+    ac_dir_suffix= ac_dots=
   fi
-fi # test -n &quot;$CONFIG_FILES&quot;
 
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-for ac_file in : $CONFIG_FILES; do test &quot;x$ac_file&quot; = x: &amp;&amp; continue
-  # Support &quot;outfile[:infile[:infile...]]&quot;, defaulting infile=&quot;outfile.in&quot;.
-  case $ac_file in
-  - | *:- | *:-:* ) # input from stdin
-        cat &gt;$tmp/stdin
-        ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
-        ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
-  *:* ) ac_file_in=`echo &quot;$ac_file&quot; | sed 's,[^:]*:,,'`
-        ac_file=`echo &quot;$ac_file&quot; | sed 's,:.*,,'` ;;
-  * )   ac_file_in=$ac_file.in ;;
-  esac
-
-  # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname &quot;$ac_file&quot;) 2&gt;/dev/null ||
-$as_expr X&quot;$ac_file&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X&quot;$ac_file&quot; : 'X\(//\)[^/]' \| \
-         X&quot;$ac_file&quot; : 'X\(//\)$' \| \
-         X&quot;$ac_file&quot; : 'X\(/\)' \| \
-         .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$ac_file&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-  { if $as_mkdir_p; then
-    mkdir -p &quot;$ac_dir&quot;
-  else
-    as_dir=&quot;$ac_dir&quot;
-    as_dirs=
-    while test ! -d &quot;$as_dir&quot;; do
-      as_dirs=&quot;$as_dir $as_dirs&quot;
-      as_dir=`(dirname &quot;$as_dir&quot;) 2&gt;/dev/null ||
-$as_expr X&quot;$as_dir&quot; : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
-         X&quot;$as_dir&quot; : 'X\(//\)[^/]' \| \
-         X&quot;$as_dir&quot; : 'X\(//\)$' \| \
-         X&quot;$as_dir&quot; : 'X\(/\)' \| \
-         .     : '\(.\)' 2&gt;/dev/null ||
-echo X&quot;$as_dir&quot; |
-    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
-  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
-  	  /^X\(\/\/\)$/{ s//\1/; q; }
-  	  /^X\(\/\).*/{ s//\1/; q; }
-  	  s/.*/./; q'`
-    done
-    test ! -n &quot;$as_dirs&quot; || mkdir $as_dirs
-  fi || { { echo &quot;$as_me:$LINENO: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot create directory \&quot;$ac_dir\&quot;&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }; }
-
-  ac_builddir=.
-
-if test &quot;$ac_dir&quot; != .; then
-  ac_dir_suffix=/`echo &quot;$ac_dir&quot; | sed 's,^\.[\\/],,'`
-  # A &quot;../&quot; for each directory in $ac_dir_suffix.
-  ac_top_builddir=`echo &quot;$ac_dir_suffix&quot; | sed 's,/[^\\/]*,../,g'`
-else
-  ac_dir_suffix= ac_top_builddir=
-fi
-
-case $srcdir in
-  .)  # No --srcdir option.  We are building in place.
-    ac_srcdir=.
-    if test -z &quot;$ac_top_builddir&quot;; then
-       ac_top_srcdir=.
-    else
-       ac_top_srcdir=`echo $ac_top_builddir | sed 's,/$,,'`
-    fi ;;
-  [\\/]* | ?:[\\/]* )  # Absolute path.
-    ac_srcdir=$srcdir$ac_dir_suffix;
-    ac_top_srcdir=$srcdir ;;
+  case &quot;$ac_given_srcdir&quot; in
+  .)  srcdir=.
+      if test -z &quot;$ac_dots&quot;; then top_srcdir=.
+      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
+  /*) srcdir=&quot;$ac_given_srcdir$ac_dir_suffix&quot;; top_srcdir=&quot;$ac_given_srcdir&quot; ;;
   *) # Relative path.
-    ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
-    ac_top_srcdir=$ac_top_builddir$srcdir ;;
-esac
-# Don't blindly perform a `cd &quot;$ac_dir&quot;/$ac_foo &amp;&amp; pwd` since $ac_foo can be
-# absolute.
-ac_abs_builddir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_builddir &amp;&amp; pwd`
-ac_abs_top_builddir=`cd &quot;$ac_dir&quot; &amp;&amp; cd ${ac_top_builddir}. &amp;&amp; pwd`
-ac_abs_srcdir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_srcdir &amp;&amp; pwd`
-ac_abs_top_srcdir=`cd &quot;$ac_dir&quot; &amp;&amp; cd $ac_top_srcdir &amp;&amp; pwd`
-
+    srcdir=&quot;$ac_dots$ac_given_srcdir$ac_dir_suffix&quot;
+    top_srcdir=&quot;$ac_dots$ac_given_srcdir&quot; ;;
+  esac
 
 
-  if test x&quot;$ac_file&quot; != x-; then
-    { echo &quot;$as_me:$LINENO: creating $ac_file&quot; &gt;&amp;5
-echo &quot;$as_me: creating $ac_file&quot; &gt;&amp;6;}
-    rm -f &quot;$ac_file&quot;
-  fi
-  # Let's still pretend it is `configure' which instantiates (i.e., don't
-  # use $as_me), people would be surprised to read:
-  #    /* config.h.  Generated by config.status.  */
-  if test x&quot;$ac_file&quot; = x-; then
-    configure_input=
-  else
-    configure_input=&quot;$ac_file.  &quot;
-  fi
-  configure_input=$configure_input&quot;Generated from `echo $ac_file_in |
-                                     sed 's,.*/,,'` by configure.&quot;
+  echo creating &quot;$ac_file&quot;
+  rm -f &quot;$ac_file&quot;
+  configure_input=&quot;Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure.&quot;
+  case &quot;$ac_file&quot; in
+  *Makefile*) ac_comsub=&quot;1i\\
+# $configure_input&quot; ;;
+  *) ac_comsub= ;;
+  esac
 
-  # First look for the input files in the build tree, otherwise in the
-  # src tree.
-  ac_file_inputs=`IFS=:
-    for f in $ac_file_in; do
-      case $f in
-      -) echo $tmp/stdin ;;
-      [\\/$]*)
-         # Absolute (can't be DOS-style, as IFS=:)
-         test -f &quot;$f&quot; || { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-         echo $f;;
-      *) # Relative
-         if test -f &quot;$f&quot;; then
-           # Build tree
-           echo $f
-         elif test -f &quot;$srcdir/$f&quot;; then
-           # Source tree
-           echo $srcdir/$f
-         else
-           # /dev/null tree
-           { { echo &quot;$as_me:$LINENO: error: cannot find input file: $f&quot; &gt;&amp;5
-echo &quot;$as_me: error: cannot find input file: $f&quot; &gt;&amp;2;}
-   { (exit 1); exit 1; }; }
-         fi;;
-      esac
-    done` || { (exit 1); exit 1; }
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;_ACEOF
-  sed &quot;$ac_vpsub
-$extrasub
-_ACEOF
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
-:t
-/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at configure_input</A>@,$configure_input,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at srcdir</A>@,$ac_srcdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at abs_srcdir</A>@,$ac_abs_srcdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at top_srcdir</A>@,$ac_top_srcdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at abs_top_srcdir</A>@,$ac_abs_top_srcdir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at builddir</A>@,$ac_builddir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at abs_builddir</A>@,$ac_abs_builddir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at top_builddir</A>@,$ac_top_builddir,;t t
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">-s, at abs_top_builddir</A>@,$ac_abs_top_builddir,;t t
-&quot; $ac_file_inputs | (eval &quot;$ac_sed_cmds&quot;) &gt;$tmp/out
-  rm -f $tmp/stdin
-  if test x&quot;$ac_file&quot; != x-; then
-    mv $tmp/out $ac_file
-  else
-    cat $tmp/out
-    rm -f $tmp/out
-  fi
+  ac_file_inputs=`echo $ac_file_in|sed -e &quot;s%^%$ac_given_srcdir/%&quot; -e &quot;s%:% $ac_given_srcdir/%g&quot;`
+  sed -e &quot;$ac_comsub
+s%@configure_input@%$configure_input%g
+s%@srcdir@%$srcdir%g
+s%@top_srcdir@%$top_srcdir%g
+&quot; $ac_file_inputs | (eval &quot;$ac_sed_cmds&quot;) &gt; $ac_file
+fi; done
+rm -f conftest.s*
 
-done
-_ACEOF
+EOF
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;EOF
 
-cat &gt;&gt;$CONFIG_STATUS &lt;&lt;\_ACEOF
+EOF
+cat &gt;&gt; $CONFIG_STATUS &lt;&lt;\EOF
 
-{ (exit 0); exit 0; }
-_ACEOF
+exit 0
+EOF
 chmod +x $CONFIG_STATUS
-ac_clean_files=$ac_clean_files_save
-
-
-# configure is writing to config.log, and then calls config.status.
-# config.status does its own redirection, appending to config.log.
-# Unfortunately, on DOS this fails, as config.log is still kept open
-# by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
-# effectively closing config.log, so it can be properly (re)opened and
-# appended to by config.status.  When coming back to configure, we
-# need to make the FD available again.
-if test &quot;$no_create&quot; != yes; then
-  ac_cs_success=:
-  ac_config_status_args=
-  test &quot;$silent&quot; = yes &amp;&amp;
-    ac_config_status_args=&quot;$ac_config_status_args --quiet&quot;
-  exec 5&gt;/dev/null
-  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
-  exec 5&gt;&gt;config.log
-  # Use ||, not &amp;&amp;, to avoid exiting from the if with $? = 1, which
-  # would make configure fail if this is the last instruction.
-  $ac_cs_success || { (exit 1); exit 1; }
-fi
+rm -fr confdefs* $ac_clean_files
+test &quot;$no_create&quot; = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
 
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/configure.in qm-version-handling/configure.in
--- qm-clean/configure.in	2003-06-21 00:57:48.000000000 -0700
+++ qm-version-handling/configure.in	2003-08-10 01:21:30.000000000 -0700
@@ -217,5 +217,5 @@
 AC_OUTPUT(
   GNUmakefile
   qm.spec
-  qm/setup_path.py
+  qm/version.py
 )
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/__init__.py qm-version-handling/qm/__init__.py
--- qm-clean/qm/__init__.py	2002-05-27 18:37:53.000000000 -0700
+++ qm-version-handling/qm/__init__.py	2003-08-10 01:24:20.000000000 -0700
@@ -17,6 +17,7 @@
 # imports
 ########################################################################
 
+from qm.version import version, version_info
 from qm.common import *
 from qm.diagnostic import error, warning, message
 
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/setup_path.py qm-version-handling/qm/setup_path.py
--- qm-clean/qm/setup_path.py	1969-12-31 16:00:00.000000000 -0800
+++ qm-version-handling/qm/setup_path.py	2003-08-10 01:39:24.000000000 -0700
@@ -0,0 +1,50 @@
+########################################################################
+#
+# File:   setup_path.py
+# Author: Alex Samuel
+# Date:   2001-02-08
+#
+# Contents:
+#   Python fragment to set up the Python lookup path to find QM modules.
+#
+# Copyright (c) 2001, 2002 by CodeSourcery, LLC.  All rights reserved. 
+#
+# For license terms see the file COPYING.
+#
+########################################################################
+
+########################################################################
+# imports
+########################################################################
+
+import string
+import sys
+import os.path
+
+########################################################################
+# script
+########################################################################
+
+# The root of the QM installation.
+__home_dir = os.environ['QM_HOME']
+
+if os.environ['QM_BUILD'] == '1':
+    __lib_dir = __home_dir
+    __share_dir = os.path.join(__home_dir, 'share')
+    __doc_dir = os.path.join(__home_dir, 'qm')
+else:
+    __lib_dir = os.path.join(__home_dir, 'lib/qm')
+    __share_dir = os.path.join(__home_dir, 'share/qm')
+    __doc_dir = os.path.join(__home_dir, 'share/doc/qm')
+
+# Now store the QM directories in the environment, so that other modules
+# can access them.
+os.environ[&quot;QM_LIB_PATH&quot;] = os.path.normpath(__lib_dir)
+os.environ[&quot;QM_SHARE_PATH&quot;] = os.path.normpath(__share_dir)
+os.environ[&quot;QM_DOC_PATH&quot;] = os.path.normpath(__doc_dir)
+
+#######################################################################
+# Local Variables:
+# mode: python
+# indent-tabs-mode: nil
+# End:
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/setup_path.py.in qm-version-handling/qm/setup_path.py.in
--- qm-clean/qm/setup_path.py.in	2003-06-16 16:47:47.000000000 -0700
+++ qm-version-handling/qm/setup_path.py.in	1969-12-31 16:00:00.000000000 -0800
@@ -1,54 +0,0 @@
-########################################################################
-#
-# File:   setup_path.py
-# Author: Alex Samuel
-# Date:   2001-02-08
-#
-# Contents:
-#   Python fragment to set up the Python lookup path to find QM modules.
-#
-# Copyright (c) 2001, 2002 by CodeSourcery, LLC.  All rights reserved. 
-#
-# For license terms see the file COPYING.
-#
-########################################################################
-
-########################################################################
-# imports
-########################################################################
-
-import string
-import sys
-import os.path
-
-########################################################################
-# script
-########################################################################
-
-# The root of the QM installation.
-__home_dir = os.environ['QM_HOME']
-
-if os.environ['QM_BUILD'] == '1':
-    __lib_dir = __home_dir
-    __share_dir = os.path.join(__home_dir, 'share')
-    __doc_dir = os.path.join(__home_dir, 'qm')
-else:
-    __lib_dir = os.path.join(__home_dir, 'lib/qm')
-    __share_dir = os.path.join(__home_dir, 'share/qm')
-    __doc_dir = os.path.join(__home_dir, 'share/doc/qm')
-
-# Now store the QM directories in the environment, so that other modules
-# can access them.
-os.environ[&quot;QM_LIB_PATH&quot;] = os.path.normpath(__lib_dir)
-os.environ[&quot;QM_SHARE_PATH&quot;] = os.path.normpath(__share_dir)
-os.environ[&quot;QM_DOC_PATH&quot;] = os.path.normpath(__doc_dir)
-
-major_version = @QM_MAJOR_VER@
-minor_version = @QM_MINOR_VER@
-release_version = @QM_RELEASE_VER@
-
-#######################################################################
-# Local Variables:
-# mode: python
-# indent-tabs-mode: nil
-# End:
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/test/cmdline.py qm-version-handling/qm/test/cmdline.py
--- qm-clean/qm/test/cmdline.py	2003-08-06 13:00:29.000000000 -0700
+++ qm-version-handling/qm/test/cmdline.py	2003-08-10 01:30:29.000000000 -0700
@@ -491,8 +491,7 @@
     There is one fill-in, for a string, which should contain the version
     number.&quot;&quot;&quot;
     
-    def __init__(self, argument_list,
-                 major_version, minor_version, release_version):
+    def __init__(self, argument_list):
         &quot;&quot;&quot;Construct a new QMTest.
 
         Parses the argument list but does not execute the command.
@@ -535,11 +534,6 @@
         # If available, record the path to the qmtest executable.
         self.__qmtest_path = os.environ.get(&quot;QM_PATH&quot;)
         
-        # Record the version information.
-        self._major_version = major_version
-        self._minor_version = minor_version
-        self._release_version = release_version
-
         # We have not yet loaded the database.
         self.__database = None
         # We have not yet computed the set of available targets.
@@ -564,8 +558,7 @@
         'major' will be X, 'minor' will be 'Y', and 'release' will be
         'Z'.&quot;&quot;&quot;
 
-        return (self._major_version, self._minor_version,
-                self._release_version)
+        return qm.version_info
 
         
     def HasGlobalOption(self, option):
@@ -625,8 +618,7 @@
         # (The GNU coding standards require that the program take no
         # further action after seeing --version.)
         if self.HasGlobalOption(&quot;version&quot;):
-            self._stderr.write(self.__version_output
-                               % self._GetVersionString())
+            self._stderr.write(self.__version_output % qm.version)
             return 0
         # If the global help option was specified, display it and stop.
         if (self.GetGlobalOption(&quot;help&quot;) is not None 
@@ -860,18 +852,6 @@
                                    &quot;result_stream&quot;,
                                    self.GetDatabase())
         
-    def _GetVersionString(self):
-        &quot;&quot;&quot;Return the version string for this version of QMTest.
-
-        returns -- The version string for this version of QMTest.  The
-        string returned does not contain the name of the application; it
-        contains only the version numbers.&quot;&quot;&quot;
-
-        version_string = &quot;%d.%d&quot; % (self._major_version, self._minor_version)
-        if self._release_version:
-            version_string += &quot;.%d&quot; % self._release_version
-        return version_string
-        
 
     def __GetAttributeOptions(self):
         &quot;&quot;&quot;Return the attributes specified on the command line.
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/test/qmtest.py qm-version-handling/qm/test/qmtest.py
--- qm-clean/qm/test/qmtest.py	2003-06-21 00:57:48.000000000 -0700
+++ qm-version-handling/qm/test/qmtest.py	2003-08-10 01:26:38.000000000 -0700
@@ -84,9 +84,8 @@
     check_python_version()
 
     # Parse the command line.
-    command = qm.test.cmdline.QMTest(sys.argv[1:],
-                                     major_version, minor_version,
-                                     release_version)
+    command = qm.test.cmdline.QMTest(sys.argv[1:])
+
     # Execute the command.
     exit_code = command.Execute()
 
diff -urN --exclude='*~' --exclude='.*' --exclude=CVS --exclude='*.pyo' --exclude='*.pyc' --exclude=build --exclude=GNUmakefile --exclude=config.log --exclude=config.status --exclude=qm.sh --exclude=qmtest --exclude=qm.spec --exclude='*.dtd' --exclude=CATALOG --exclude=thread_target --exclude=process_target qm-clean/qm/version.py.in qm-version-handling/qm/version.py.in
--- qm-clean/qm/version.py.in	1969-12-31 16:00:00.000000000 -0800
+++ qm-version-handling/qm/version.py.in	2003-08-10 01:36:34.000000000 -0700
@@ -0,0 +1,34 @@
+########################################################################
+#
+# File:   version.py
+# Author: Nathaniel Smith
+# Date:   2003-08-10
+#
+# Contents:
+#   Variables to query the version of QM in use.
+#
+# Copyright (c) 2003 by CodeSourcery, LLC.  All rights reserved. 
+#
+# For license terms see the file COPYING.
+#
+########################################################################
+
+########################################################################
+# Variables
+########################################################################
+
+version_info = (@QM_MAJOR_VER@, @QM_MINOR_VER@, @QM_RELEASE_VER@)
+&quot;&quot;&quot;The version of QM as a tuple of (major, minor, release).&quot;&quot;&quot;
+
+version = &quot;%d.%d&quot; % version_info[:-1]
+&quot;&quot;&quot;The version of QM as a string suitable for printing.&quot;&quot;&quot;
+
+if version_info[-1]:
+    version += &quot;.%d&quot; % version_info[-1]
+
+########################################################################
+# Local Variables:
+# mode: python
+# indent-tabs-mode: nil
+# fill-column: 72
+# End:
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000395.html">[qmtest] Problem loading expectation
</A></li>
	<LI>Next message: <A HREF="000397.html">[qmtest] [PATCH] Revamp QMTest version number handling.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#396">[ date ]</a>
              <a href="thread.html#396">[ thread ]</a>
              <a href="subject.html#396">[ subject ]</a>
              <a href="author.html#396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
