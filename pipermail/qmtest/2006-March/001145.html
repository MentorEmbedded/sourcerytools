<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] Working Directory changed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Working%20Directory%20changed%3F&In-Reply-To=%3C440873AA.6020502%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001144.html">
   <LINK REL="Next"  HREF="001146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] Working Directory changed?</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Working%20Directory%20changed%3F&In-Reply-To=%3C440873AA.6020502%40codesourcery.com%3E"
       TITLE="[qmtest] Working Directory changed?">mark at codesourcery.com
       </A><BR>
    <I>Fri Mar  3 16:49:46 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001144.html">Working Directory changed?
</A></li>
        <LI>Next message: <A HREF="001146.html">patch: Fix search path for host extension.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ted H&#246;rnstedt wrote:

&gt;<i> Before the working directory in qmtest (at least within a test class) was the directory where the qmt test file resided. Now it seems to be the qmtest DB root directory or is it the working directory when qmtest was invoked?
</I>
The chdir was unsafe in the presence of parallel test runs, i.e.,
&quot;qmtest run -j N&quot;, because a process may only have a single &quot;current
directory&quot;, even if it has multiple threads.

The context variable &quot;qmtest.dbpath&quot; contains the root of the database.
 So, you can have your individual tests change to that directory (if
they run in a separate process), or use that variable to create
filenames that will work (if your tests run as part of QMTest itself).

-- 
Mark Mitchell
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">mark at codesourcery.com</A>
(650) 331-3385 x713

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001144.html">Working Directory changed?
</A></li>
	<LI>Next message: <A HREF="001146.html">patch: Fix search path for host extension.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
