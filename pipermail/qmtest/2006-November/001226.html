<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] qmtest targets: I'm missing something...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20qmtest%20targets%3A%20I%27m%20missing%20something...&In-Reply-To=%3C456E5C79.9000904%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001224.html">
   <LINK REL="Next"  HREF="001227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] qmtest targets: I'm missing something...</H1>
    <B>Stefan Seefeld</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20qmtest%20targets%3A%20I%27m%20missing%20something...&In-Reply-To=%3C456E5C79.9000904%40codesourcery.com%3E"
       TITLE="[qmtest] qmtest targets: I'm missing something...">stefan at codesourcery.com
       </A><BR>
    <I>Thu Nov 30 04:22:17 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001224.html">[qmtest] qmtest targets: I'm missing something...
</A></li>
        <LI>Next message: <A HREF="001227.html">[qmtest] qmtest targets: I'm missing something...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1226">[ date ]</a>
              <a href="thread.html#1226">[ thread ]</a>
              <a href="subject.html#1226">[ subject ]</a>
              <a href="author.html#1226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>J.T. Conklin wrote:

&gt;<i> But unit tests are run on the master box, which isn't scaling with the
</I>&gt;<i> number of developers and the number of tests.  So what I'd like to do
</I>&gt;<i> is set up a pool of &quot;test&quot; nodes, where qmtest dispatches the tests.
</I>&gt;<i> But what I really want to do is to set up several pools.  Development
</I>&gt;<i> Engineering has their pool that is shared among all, but Release
</I>&gt;<i> Engineering has an dedicated pool so they have more predicable behavior.
</I>&gt;<i> 
</I>&gt;<i> My question was if I add the set of all development and release test
</I>&gt;<i> nodes as targets to the QMTest/targets file, perhaps like:
</I>&gt;<i> 
</I>&gt;<i>         $ qmtest create-target riptide rsh_target.RSHTarget
</I>&gt;<i>         $ qmtest create-target ebbtide.rsh_target.RSHTarget
</I>&gt;<i>         $ qmtest create-target hogtied.rsh_target.RSHTarget
</I>&gt;<i> 
</I>&gt;<i> How do I select what subset of these are actually used?  Or is the
</I>&gt;<i> something obvious I'm missing that a target database represents a
</I>&gt;<i> pool, and to do what I want is a simple matter of creating two of
</I>&gt;<i> the target databases?
</I>
Yes, I think what you want is multiple target files, each describing
the set of nodes that are part of the different pools.
Then, one team runs 'qmtest -t devel', and the other 'qmtest -t release',
or somesuch.

&gt;<i> Since target_group filtering has been mentioned, how does that work?
</I>&gt;<i> I'm not seeing anything that mentions what (attribute?) needs to be
</I>&gt;<i> set for the Test class/instance for this to occur.
</I>
The tutorial describes (briefly) the concept of a 'target group':

<A HREF="http://www.codesourcery.com/public/qmtest/qm-snapshot/share/doc/qmtest/html/tutorial/concepts-targets.html">http://www.codesourcery.com/public/qmtest/qm-snapshot/share/doc/qmtest/html/tutorial/concepts-targets.html</A>

Also, the API docs may be of some help (here the Test base class):

<A HREF="http://www.codesourcery.com/public/qmtest/qm-snapshot/share/doc/qmtest/html/manual/public/qm.test.test.Test-class.html">http://www.codesourcery.com/public/qmtest/qm-snapshot/share/doc/qmtest/html/manual/public/qm.test.test.Test-class.html</A>

As Mark mentions, if you set a test's 'target_group' parameter to
something other than '*', it will be used to match targets against
(from the currently selected target file), so the test gets dispatched
to an appropriate target (or skipped if there is no match).

Regards,
		Stefan

-- 
Stefan Seefeld
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">stefan at codesourcery.com</A>
(650) 331-3385 x718

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001224.html">[qmtest] qmtest targets: I'm missing something...
</A></li>
	<LI>Next message: <A HREF="001227.html">[qmtest] qmtest targets: I'm missing something...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1226">[ date ]</a>
              <a href="thread.html#1226">[ thread ]</a>
              <a href="subject.html#1226">[ subject ]</a>
              <a href="author.html#1226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
