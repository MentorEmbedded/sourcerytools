<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Python unit tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20Python%20unit%20tests&In-Reply-To=%3C1112781086.4161.28.camel%40wanbalans%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001018.html">
   <LINK REL="Next"  HREF="001004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Python unit tests</H1>
    <B>Neilen Marais</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20Python%20unit%20tests&In-Reply-To=%3C1112781086.4161.28.camel%40wanbalans%3E"
       TITLE="Python unit tests">nmarais at snowisp.com
       </A><BR>
    <I>Wed Apr  6 09:51:26 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001018.html">[qmtest] qmtest documentation
</A></li>
        <LI>Next message: <A HREF="001004.html">[qmtest] Python unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I'm trying to do unit testing as I develop some python apps that support
the fortran code I mentioned before. The way I assumed it should work,
is to use one of the python test classes, then to import my .py file,
and do some tests etc.  But I can't seem to figure out where to put my
python source, I always get: 

qmtest.exception  exceptions.ImportError: No module named outfilecomp

I have a test database in a directory ...../tests. I put my .py file
there, which seems to be the CWD when QMTest is running python tests.
Then I use (in this instance) a python.ExecTest. My test code looks
something like this:

import outfilecomp

testvar = outfilecomp.blah(5)

where blah is just a short circuit testing function that returns its
argument, and the python expression is:

testvar == 5

Am I missing something obvious? Where should I put my .py file, or where
can I specify the load path? It seems like a bad idea to hardcode it
into my tests. To me the obvious solution seems to be to specify this in
a context variable. But how do I get to access the context variable
short of A) writing my own test class or B) accessing it as environment
variables inside the test code.

A) is unattractive, since I've never written a QMTest class, and it
seems like something that should have been solved already ;)
B) is unattractive, since that would clutter every test case with code
to read environment variables. Not a lot of code, but still unnecesary
repetition.

If I'm approaching this wrong, please hit me with a clue-stick. BTW, I'm
using version 2.2 from Debian Sarge, which seems to be the newest
version.

Thanks
Neilen


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001018.html">[qmtest] qmtest documentation
</A></li>
	<LI>Next message: <A HREF="001004.html">[qmtest] Python unit tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#999">[ date ]</a>
              <a href="thread.html#999">[ thread ]</a>
              <a href="subject.html#999">[ subject ]</a>
              <a href="author.html#999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
