<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] RFE: result annotations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20RFE%3A%20result%20annotations&In-Reply-To=%3Ce91f1d8a77e3812d744cde83d2416a1c3f7c368a%40Orthosoft.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000553.html">
   <LINK REL="Next"  HREF="000548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] RFE: result annotations</H1>
    <B>Stefan Seefeld</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20RFE%3A%20result%20annotations&In-Reply-To=%3Ce91f1d8a77e3812d744cde83d2416a1c3f7c368a%40Orthosoft.ca%3E"
       TITLE="[qmtest] RFE: result annotations">seefeld at sympatico.ca
       </A><BR>
    <I>Thu Oct  2 14:46:30 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="000553.html">[qmtest] working with the xml result stream
</A></li>
        <LI>Next message: <A HREF="000548.html">[qmtest] RFE: result annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark Mitchell wrote:
&gt;<i> On Tue, 2003-09-23 at 23:09, Nathaniel Smith wrote:
</I>
&gt;&gt;<i>Do we even know that annotations are, in general, proper XHTML?
</I>&gt;&gt;<i>We've documented them as being HTML (though they're not even properly
</I>&gt;&gt;<i>treated as that ATM; we don't handle character entities right at all),
</I>&gt;&gt;<i>and HTML in real life is rarely well-formed XML.  I'm worried that if
</I>&gt;&gt;<i>we start parsing it as XML, we'll start getting parse errors
</I>&gt;&gt;<i>who-knows-where...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Right now, we assume they are HTML, not XHTML.
</I>&gt;<i> 
</I>&gt;<i> And, we do handle character entities correctly in results files; they
</I>&gt;<i> are escaped.
</I>
yes, the current solution works, with a proper definition of 'works'.
But why can't we require the annotation author to use valid xml (i.e.
balancing start and end tags, properly escaping of special characters),
and through this gain a lot of power for the postprocessing of these
data ? Just using some non-validated form of html doesn't gain anything
but the hope that it might render nicely in a browser even without the
efford to adhere to a stricter grammar.

I don't think the proposed change would cause any trouble for backward
compatibility. I'm talking about generating well-formed xml inside
qmtest.
The parsing of these data (wherever that might be necessary inside
qmtest) could be more relax...

&gt;<i> If the HTML is invalid, it will be stored correctly in the results
</I>&gt;<i> files, but not displayed correctly in the GUI.  (I'm not sure how to
</I>&gt;<i> correctly display invalid HTML, but we make no attempt to discern
</I>&gt;<i> validity; we just dump it into the web page.)
</I>
I don't understand your argument. Are you arguing that qmtest should
be agnostic to the content of annotations, and just try to do the
best it can to still render it nicely (in its web frontend) ?

If you are concerned about the burden for users to convert their
annnotations to valid xml, why not just provide a convenience function
that escapes the string or wraps it in a CDATA section or somesuch.
That's ugly enough (and should be discouraged), but it's all that is
needed for backward compatibility.

I'm really just trying to enhance the output data structure to make
automatic postprocessing more efficient.

Regards,
		Stefan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000553.html">[qmtest] working with the xml result stream
</A></li>
	<LI>Next message: <A HREF="000548.html">[qmtest] RFE: result annotations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#547">[ date ]</a>
              <a href="thread.html#547">[ thread ]</a>
              <a href="subject.html#547">[ subject ]</a>
              <a href="author.html#547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
