<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> QMTest Advice - Dependencies
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20QMTest%20Advice%20-%20Dependencies&In-Reply-To=%3C9870a2060912211211k3227e5b3y5f55654becb44688%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001355.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>QMTest Advice - Dependencies</H1>
    <B>Adrien Guillon</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20QMTest%20Advice%20-%20Dependencies&In-Reply-To=%3C9870a2060912211211k3227e5b3y5f55654becb44688%40mail.gmail.com%3E"
       TITLE="QMTest Advice - Dependencies">aj.guillon at gmail.com
       </A><BR>
    <I>Mon Dec 21 20:11:47 UTC 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001355.html">[qmtest] QMTest Advice - Dependencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1354">[ date ]</a>
              <a href="thread.html#1354">[ thread ]</a>
              <a href="subject.html#1354">[ subject ]</a>
              <a href="author.html#1354">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I've used qmtest for some simple things, and now I want to do more
with it.  I am using a CompilationTestDatabase, and my
QMTest/configuration file looks like this:

&lt;?xml version=&quot;1.0&quot; ?&gt;&lt;!DOCTYPE extension  PUBLIC
'-//QM/2.6/Extension//EN'
'<A HREF="http://www.codesourcery.com/qm/dtds/2.6/-//qm/2.6/extension//en.dtd">http://www.codesourcery.com/qm/dtds/2.6/-//qm/2.6/extension//en.dtd</A>'&gt;&lt;extension
class=&quot;compilation_test_database.CompilationTestDatabase&quot;
kind=&quot;database&quot;&gt;&lt;argument
name=&quot;srcdir&quot;&gt;&lt;text&gt;tests/unit_tests/&lt;/text&gt;&lt;/argument&gt;&lt;/extension&gt;

I also have tests/unit_tests/test_context:

CompilerTable.languages=cplusplus
CompilerTable.cplusplus_kind=GCC
CompilerTable.cplusplus_path=g++
CompilerTable.cplusplus_options=-O2 -I../../../include

My project normally generates an executable as the final result,
however for testing I can generate a shared library and link tests to
it, so that I can do my unit testing.  However there are a couple of
modules which have different behaviours based upon some preprocessor
defines.  In particular, some debugging functions.  These functions
have different behaviours if extra debugging has been enabled,
otherwise they should do nothing.  For instance, I might define
EXTRA_DEBUGGING or GATHER_STATISTICS to enable special code.  I want
to test these types of functions to make sure they work as part of my
normal test suite.

These functions are only enabled with the appropriate preprocessor
macro, and are cleanly separable from the whole project.  So for that
reason, I'd like to test my C++ test case debugging_test_1.cpp with
the #define EXTRA_DEBUGGING and since it's cleanly separable from the
rest of the project, I only want to link it with extra_debugging.cpp
(which was compiled with the same flags).  This comes down to the
question of doing a compile and run test which has different
dependencies than everything else.

How can I do this with QMTest?

Thanks!

AJ Guillon

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001355.html">[qmtest] QMTest Advice - Dependencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1354">[ date ]</a>
              <a href="thread.html#1354">[ thread ]</a>
              <a href="subject.html#1354">[ subject ]</a>
              <a href="author.html#1354">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
