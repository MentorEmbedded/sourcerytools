<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] Bug with editing attachments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Bug%20with%20editing%20attachments&In-Reply-To=%3C200401151038.57256.ghost%40cs.msu.su%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000698.html">
   <LINK REL="Next"  HREF="000713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] Bug with editing attachments</H1>
    <B>Vladimir Prus</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Bug%20with%20editing%20attachments&In-Reply-To=%3C200401151038.57256.ghost%40cs.msu.su%3E"
       TITLE="[qmtest] Bug with editing attachments">ghost at cs.msu.su
       </A><BR>
    <I>Thu Jan 15 07:38:57 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000698.html">[qmtest] Bug with editing attachments
</A></li>
        <LI>Next message: <A HREF="000713.html">[qmtest] Bug with editing attachments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#699">[ date ]</a>
              <a href="thread.html#699">[ thread ]</a>
              <a href="subject.html#699">[ subject ]</a>
              <a href="author.html#699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mark,

&gt;<i> &gt; Hello,
</I>&gt;<i> &gt; using CVS HEAD of QMTest, I have problems with attachments.
</I>&gt;<i>
</I>&gt;<i> Volodya --
</I>&gt;<i>
</I>&gt;<i> I've (finally!) gotten around to fixing this problem, I think.
</I>&gt;<i>
</I>&gt;<i> Here's a patch which cleans up the Attachment abstractions
</I>&gt;<i> substantially.  I've checked in the patch, but I'd appreciate it if you
</I>&gt;<i> would try it out and let me know if it works for you.
</I>
Oh... looks like a big patch! But as I see, the essense is that now attachment 
rendered in HTML knows which store it comes from. That's great -- I myself 
did not know how to implement this in right way.

The problems with editing test that has an attachment are now gone. 

However, the other problem is still there. If I create a new test with 
attachment, the location is like this:

   &lt;location&gt;/home/ghost/Work/Module/nm_model/tdb/history.qms/nightly.sh&lt;/location&gt;

Which would make test break if I ever decide to move my working copy -- of if 
tests are run on a different machine. I'd still say that the 
__MakeDataFilePath in xml_database is not right. It would be better to use 
methods of AttachmentStore, rather than checking for file existance via 
&quot;os.path.exists&quot; -- as it stands, it depends on the exact way 
FileAttachmentStore works.

I would have tried to write a patch for this, but alas, I still can't quite 
finish my patch for using separate color for failed and unexpected results,
so prefer not to promise anything until I'm done ;-)


- Volodya



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000698.html">[qmtest] Bug with editing attachments
</A></li>
	<LI>Next message: <A HREF="000713.html">[qmtest] Bug with editing attachments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#699">[ date ]</a>
              <a href="thread.html#699">[ thread ]</a>
              <a href="subject.html#699">[ subject ]</a>
              <a href="author.html#699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
