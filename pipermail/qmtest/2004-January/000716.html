<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] RFE concerning 'Extension' class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20RFE%20concerning%20%27Extension%27%20class&In-Reply-To=%3C400B6EED.4000406%40sympatico.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000712.html">
   <LINK REL="Next"  HREF="000714.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] RFE concerning 'Extension' class</H1>
    <B>Stefan Seefeld</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20RFE%20concerning%20%27Extension%27%20class&In-Reply-To=%3C400B6EED.4000406%40sympatico.ca%3E"
       TITLE="[qmtest] RFE concerning 'Extension' class">seefeld at sympatico.ca
       </A><BR>
    <I>Mon Jan 19 05:45:17 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000712.html">[qmtest] RFE concerning 'Extension' class
</A></li>
        <LI>Next message: <A HREF="000714.html">[qmtest] [repost] &quot;reload extensions&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#716">[ date ]</a>
              <a href="thread.html#716">[ thread ]</a>
              <a href="subject.html#716">[ subject ]</a>
              <a href="author.html#716">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zack Weinberg wrote:

&gt;<i> I would like to see complete worked examples of this before I could
</I>&gt;<i> decide whether it was good or not.
</I>
Attached is a patch that implements my suggestion: The
Extension.Type now maps the 'Field' instances to class variables.

The way this is done right now changes the order of the arguments
in the _argument_list variable, so I adjusted the xmldb.api.test.derived
test accordingly. (I run 'python setup.py check --serial' to test my
changes and the other 'serial' tests pass).

It's certainly possible to preserve the old argument order, but since
I didn't want to use the _mro_ list (which would imply a lot of duplicate
work, as the merge is done for all classes in the inheritance hierarchy
anyways) I didn't spend any time figuring out how to get the ordering
right.

Having to modify the above 'derived' test, I added a 'b' argument,
just to illustrate the new syntax my patch makes possible. (The Field
constructors should be modified to make all arguments optional, so any
'new style' argument declarations don't need to repeat the name in the
Field.)

Regards,
		Stefan
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: metaclass_patch
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/qmtest/attachments/20040119/9f6b12d7/attachment.ksh">http://sourcerytools.com/pipermail/qmtest/attachments/20040119/9f6b12d7/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000712.html">[qmtest] RFE concerning 'Extension' class
</A></li>
	<LI>Next message: <A HREF="000714.html">[qmtest] [repost] &quot;reload extensions&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#716">[ date ]</a>
              <a href="thread.html#716">[ thread ]</a>
              <a href="subject.html#716">[ subject ]</a>
              <a href="author.html#716">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
