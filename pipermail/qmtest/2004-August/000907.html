<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] Don't use elaborate configuration stuff to find library directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5BPATCH%5D%20Don%27t%20use%20elaborate%20configuration%20stuff%20to%20find%20library%20directory&In-Reply-To=%3C4130132C%40bearmail.berkeley.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000906.html">
   <LINK REL="Next"  HREF="000908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] Don't use elaborate configuration stuff to find library directory</H1>
    <B>Nathaniel Smith</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5BPATCH%5D%20Don%27t%20use%20elaborate%20configuration%20stuff%20to%20find%20library%20directory&In-Reply-To=%3C4130132C%40bearmail.berkeley.edu%3E"
       TITLE="[PATCH] Don't use elaborate configuration stuff to find library directory">njs at uclink.berkeley.edu
       </A><BR>
    <I>Sat Aug 21 04:48:56 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000906.html">[qmtest] how to set up resources for tests
</A></li>
        <LI>Next message: <A HREF="000908.html">[qmtest] [PATCH] Don't use elaborate configuration stuff to find library directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#907">[ date ]</a>
              <a href="thread.html#907">[ thread ]</a>
              <a href="subject.html#907">[ subject ]</a>
              <a href="author.html#907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The patch attached for review removes the 'lib_dir' configuration variable 
from everywhere it's used, and stops get_lib_directory from depending on 
qm.prefix and qm.lib_dir.

This is a little more inconsistent (get_lib_directory now works differently 
from the other get_*_directory functions), but it is simpler and more 
reliable, and, more importantly, it works even if we are not running the 
'qmtest' executable itself (which reaches into the qm namespace and defines 
qm.prefix).  Thus with this patch, it is possible to write third party scripts 
that do things like
  import qm.test.base
  results_iterator = qm.test.base.load_results(open(&quot;foo.qmr&quot;), None)
  for result in results_iterator:
    ...

-- Nathaniel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: remove-lib_dir.patch
Type: application/octet-stream
Size: 4832 bytes
Desc: not available
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/qmtest/attachments/20040820/d75c693e/attachment.obj">http://sourcerytools.com/pipermail/qmtest/attachments/20040820/d75c693e/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000906.html">[qmtest] how to set up resources for tests
</A></li>
	<LI>Next message: <A HREF="000908.html">[qmtest] [PATCH] Don't use elaborate configuration stuff to find library directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#907">[ date ]</a>
              <a href="thread.html#907">[ thread ]</a>
              <a href="subject.html#907">[ subject ]</a>
              <a href="author.html#907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
