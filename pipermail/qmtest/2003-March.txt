From jschmitt at kealia.com  Sun Mar  2 23:06:13 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Sun, 2 Mar 2003 15:06:13 -0800
Subject: customization
Message-ID: <000101c2e110$53314760$1441eb0c@jschmittlt>

I'm happy to report that the people that I work for (my 'customers') are
happy with the results that I am getting from QMTest so far.
Congratulations to the team that put it together and my compliments on a
fine tool.
 
I have fielded a few questions and requests for features that I do not
know how to implement, and I'm coming here for some guidance.
 
The number one request I get from my customers for a new test harness is
a history of test results.  
 
Specifically, when I use the GUI to view the results of a test run,
there are three columns: 'Test', 'Outcome', 'Expectation', and
'Details'.  One suggestion was to remove the 'Details' column and make
the 'Outcome' column perform the duty of the 'Details' column.  That
would leave room for more outcomes to be reported.  Specifically, I was
requested to provide a history of outcomes.  My customers want to be
able to compare at a glance the results of this test run with a test run
from last night and last week, and possible others, including any data
or statistics gathered from any of those test runs.
 
Has this been done by someone else already?  Is this a customization I
can do or do I have to make some changes to QMTest itself?  
 
I received another request to be able to run tests multiple times.
Perhaps provide a field that lets a user provide a count for the number
of times to run this test or this suite.  Any thoughts on whether it
would make sense to put a count field at the beginning of each
test/suite whose default is one?
 
John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://sourcerytools.com/pipermail/qmtest/attachments/20030302/3740fd36/attachment.html>

From mark at codesourcery.com  Mon Mar  3 03:57:55 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: Sun, 02 Mar 2003 19:57:55 -0800
Subject: [qmtest] customization
In-Reply-To: <000101c2e110$53314760$1441eb0c@jschmittlt>
Message-ID: <42450000.1046663875@localhost>



--On Sunday, March 02, 2003 03:06:13 PM -0800 John Schmitt 
<jschmitt at kealia.com> wrote:

> The number one request I get from my customers for a new test harness is
> a history of test results.

Yes, this is on our short-list of things we would like to do.  As of now, 
it is not implemented.

Certainly, you could implement this yourself -- but I would suggest that 
you consider hiring us to implement it.

If you'd like to talk about that, please contact me by email or by phone
at (916) 791-8304.

> I received another request to be able to run tests multiple times.

I'm not sure exactly what this means, or why it would make sense -- 
although I'm sure that it does!

Are you able to give more detail about the scenario in which your users 
would like to do this?

Yours,

-- 
Mark Mitchell                mark at codesourcery.com
CodeSourcery, LLC            http://www.codesourcery.com


From svlu at enea.se  Wed Mar  5 18:20:15 2003
From: svlu at enea.se (Sven Lundblad)
Date: Wed, 05 Mar 2003 19:20:15 +0100
Subject: cPickle.UnpickleableError: Cannot pickle <type 'thread.lock'> objects
Message-ID: <3E663FDF.4040402@enea.se>

Hi all,

While using qmtest 2.0.3, I get the following exception after the first 
test has completed:
Traceback (most recent call last):
   File 
"/view/tb_task003419_svlu/vobs/ose/tefo/qm-2.0.3/lib/qm/qm/test/qmtest.py", 
line 78, in ?
     exit_code = command.Execute()
   File "/lib/qm/qm/test/cmdline.py", line 569, in Execute
   File "/lib/qm/qm/test/cmdline.py", line 1272, in __ExecuteRun
   File "/lib/qm/qm/test/execution_engine.py", line 143, in Run
   File "/lib/qm/qm/test/execution_engine.py", line 320, in 
_CheckForResponse
   File "/lib/qm/qm/test/execution_engine.py", line 450, in _AddResult
   File "/lib/qm/qm/test/pickle_result_stream.py", line 43, in WriteResult
cPickle.UnpickleableError: Cannot pickle <type 'thread.lock'> objects

I'm not sure what is going on here, to my knowledge I haven't put any 
thread.lock objects into the result object. For some reason this worked 
fine with qmtest 1.1.5. Any one that can shred some light on this?

Regards,
Sven Lundblad



From mark at codesourcery.com  Thu Mar  6 18:41:21 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 06 Mar 2003 10:41:21 -0800
Subject: [qmtest] cPickle.UnpickleableError: Cannot pickle <type
	'thread.lock'> objects
In-Reply-To: <3E663FDF.4040402@enea.se>
References: <3E663FDF.4040402@enea.se>
Message-ID: <1046976086.28834.138.camel@doubledemon.codesourcery.com>

On Wed, 2003-03-05 at 10:20, Sven Lundblad wrote:
> Hi all,
> 
> While using qmtest 2.0.3, I get the following exception after the first 
> test has completed:
> Traceback (most recent call last):
>    File 
> "/view/tb_task003419_svlu/vobs/ose/tefo/qm-2.0.3/lib/qm/qm/test/qmtest.py", 
> line 78, in ?
>      exit_code = command.Execute()
>    File "/lib/qm/qm/test/cmdline.py", line 569, in Execute
>    File "/lib/qm/qm/test/cmdline.py", line 1272, in __ExecuteRun
>    File "/lib/qm/qm/test/execution_engine.py", line 143, in Run
>    File "/lib/qm/qm/test/execution_engine.py", line 320, in 
> _CheckForResponse
>    File "/lib/qm/qm/test/execution_engine.py", line 450, in _AddResult
>    File "/lib/qm/qm/test/pickle_result_stream.py", line 43, in WriteResult
> cPickle.UnpickleableError: Cannot pickle <type 'thread.lock'> objects
> 
> I'm not sure what is going on here, to my knowledge I haven't put any 
> thread.lock objects into the result object. For some reason this worked 
> fine with qmtest 1.1.5. Any one that can shred some light on this?

That's pretty weird.  Are you running in threaded mode?  Or do your test
classes you threads?

Thanks,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From svlu at enea.se  Thu Mar  6 18:43:49 2003
From: svlu at enea.se (Sven Lundblad)
Date: Thu, 06 Mar 2003 19:43:49 +0100
Subject: [qmtest] cPickle.UnpickleableError: Cannot pickle <type	'thread.lock'>
 objects
References: <3E663FDF.4040402@enea.se> <1046976086.28834.138.camel@doubledemon.codesourcery.com>
Message-ID: <3E6796E5.1000802@enea.se>

I have target classes that spawns a thread per instance that it 
dispatches one test at a time to. This allows RunTest to return directly 
back to the execution engine. My _RecordResult looks like this:
     def _RecordResult(self, result):
         """Run after a test have been executed by __RunTests()."""
         # Make us idle (idle is counted down when the scheduler
         # posts a new Test in RunTest).
         assert self.jobthread_id == thread.get_ident()
         if(result.GetKind() == result.TEST):
             self.lock.acquire()
             self.idle = self.idle + 1
             self.lock.release()
         Target._RecordResult(self, result)
     # End of _RecordResult


Mark Mitchell wrote:
> On Wed, 2003-03-05 at 10:20, Sven Lundblad wrote:
> 
>>Hi all,
>>
>>While using qmtest 2.0.3, I get the following exception after the first 
>>test has completed:
>>Traceback (most recent call last):
>>   File 
>>"/view/tb_task003419_svlu/vobs/ose/tefo/qm-2.0.3/lib/qm/qm/test/qmtest.py", 
>>line 78, in ?
>>     exit_code = command.Execute()
>>   File "/lib/qm/qm/test/cmdline.py", line 569, in Execute
>>   File "/lib/qm/qm/test/cmdline.py", line 1272, in __ExecuteRun
>>   File "/lib/qm/qm/test/execution_engine.py", line 143, in Run
>>   File "/lib/qm/qm/test/execution_engine.py", line 320, in 
>>_CheckForResponse
>>   File "/lib/qm/qm/test/execution_engine.py", line 450, in _AddResult
>>   File "/lib/qm/qm/test/pickle_result_stream.py", line 43, in WriteResult
>>cPickle.UnpickleableError: Cannot pickle <type 'thread.lock'> objects
>>
>>I'm not sure what is going on here, to my knowledge I haven't put any 
>>thread.lock objects into the result object. For some reason this worked 
>>fine with qmtest 1.1.5. Any one that can shred some light on this?
> 
> 
> That's pretty weird.  Are you running in threaded mode?  Or do your test
> classes you threads?
> 
> Thanks,
> 


-- 
---
Sven Lundblad, OSE Systems, Tel. +46 8 50714221,  Fax  +46 8 50714090



From mark at codesourcery.com  Thu Mar  6 18:55:54 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 06 Mar 2003 10:55:54 -0800
Subject: [qmtest] cPickle.UnpickleableError: Cannot pickle
	<type	'thread.lock'> objects
In-Reply-To: <3E6796E5.1000802@enea.se>
References: <3E663FDF.4040402@enea.se>
	<1046976086.28834.138.camel@doubledemon.codesourcery.com> 
	<3E6796E5.1000802@enea.se>
Message-ID: <1046976954.28834.155.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-06 at 10:43, Sven Lundblad wrote:
> I have target classes that spawns a thread per instance that it 
> dispatches one test at a time to. This allows RunTest to return directly 
> back to the execution engine. My _RecordResult looks like this:
>      def _RecordResult(self, result):
>          """Run after a test have been executed by __RunTests()."""
>          # Make us idle (idle is counted down when the scheduler
>          # posts a new Test in RunTest).
>          assert self.jobthread_id == thread.get_ident()
>          if(result.GetKind() == result.TEST):
>              self.lock.acquire()
>              self.idle = self.idle + 1
>              self.lock.release()
>          Target._RecordResult(self, result)
>      # End of _RecordResult

Some how, you're managing to get a thread lock into the result, which is
odd.

You might insert some debugging stuff there and see if you can see what
the result contains at that point.

Thanks,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Fri Mar  7 01:34:57 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Thu, 6 Mar 2003 17:34:57 -0800
Subject: sudo?
Message-ID: <000001c2e449$c2e02450$a5452a0a@jschmittlt>


I wrote a class that inherited from qm.test.classes.command.ExecTest and
it works the way I expect.

Some of the tests I want to run require that they run as root.  How do I
make ExecTest.RunProgram() pre-pend sudo to my command?  

I was surprised that Executable.Spawn() added some information (absolute
path stuff) to its 'path' variable.  Is that really desired?  Wouldn't
you want to leave that to the test-writer?

Anyway, interactively invoking Python and then execing sudo didn't do
what I thought it would do.  It actually terminates my Python session.
Is that expected?
 
[jschmitt at luai jschmitt]$ python
Python 2.2.2 (#1, Feb 24 2003, 13:44:59) 
[GCC 2.96 20000731 (Red Hat Linux 7.3 2.96-113)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import os
>>> os.execvp( "/usr/bin/sudo", ["ls"] )
usage: sudo -V | -h | -L | -l | -v | -k | -K | [-H] [-P] [-S] [-b] [-p
prompt]
            [-u username/#uid] -s | <command>
[jschmitt at luai jschmitt]$

John



From eichin at metacarta.com  Fri Mar  7 16:12:53 2003
From: eichin at metacarta.com (eichin at metacarta.com)
Date: 07 Mar 2003 11:12:53 -0500
Subject: [qmtest] sudo?
In-Reply-To: <000001c2e449$c2e02450$a5452a0a@jschmittlt>
References: <000001c2e449$c2e02450$a5452a0a@jschmittlt>
Message-ID: <7gr89j40l6.fsf@pikespeak.metacarta.com>


> Anyway, interactively invoking Python and then execing sudo didn't do
>>> os.execvp( "/usr/bin/sudo", ["ls"] )

Standard unix: execvp *isn't* spawn - it actually replaces the current
process.  If you're going to use it explicitly, you need to fork, as
well.  Consider instead using pyexpect, and "expect.popen2"; I've
found it works fine for writing tests that ssh out to other machines...


From mark at codesourcery.com  Fri Mar  7 19:01:29 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 07 Mar 2003 11:01:29 -0800
Subject: [qmtest] sudo?
In-Reply-To: <000001c2e449$c2e02450$a5452a0a@jschmittlt>
References: <000001c2e449$c2e02450$a5452a0a@jschmittlt>
Message-ID: <1047063690.23372.12.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-06 at 17:34, John Schmitt wrote:
> 
> I wrote a class that inherited from qm.test.classes.command.ExecTest and
> it works the way I expect.
> 
> Some of the tests I want to run require that they run as root.  How do I
> make ExecTest.RunProgram() pre-pend sudo to my command?  

You'd have to make the command itself begin with "sudo".  You should be
able to do that programmatically in your test class, if you add a
boolean field for "needs to run as root".

> I was surprised that Executable.Spawn() added some information (absolute
> path stuff) to its 'path' variable.  Is that really desired?  Wouldn't
> you want to leave that to the test-writer?

Probably -- but I think that doesn't work correctly on Windows.

> Anyway, interactively invoking Python and then execing sudo didn't do
> what I thought it would do.  It actually terminates my Python session.
> Is that expected?

Yes, that's what exec does.  Our book on "Advanced Linux Programming",
also available online at:

  http://www.advancedlinuxprogramming.com

might be a good reference.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Thu Mar 13 01:22:21 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Wed, 12 Mar 2003 17:22:21 -0800
Subject: sudo enlightenment...
Message-ID: <001101c2e8fe$ffe91dc0$a5452a0a@jschmittlt>

I had time yesterday to look at my sudo problem again, and my problem
was related to a couple of things.  This is a summary of what I learned.

Thanks to Mark Mitchell and to `eichin at metacarta dot com` for
explaining the execv thing.  

One of my problems was completely unrelated to Python or QMTest.  I was
not aware that sudo does not propagate LD_LIBRARY_PATH.  (If you're
interested, googling for 'sudo LD_LIBRARY_PATH' is the way to
enlightenment on that topic.)  

After that I learned that os.exec* require that the 'arguments'
parameter contains a meaningful argv[0] equivalent.  For more info, see
the following recipes:

http://aspn.activestate.com/ASPN/Mail/Message/1560744
http://aspn.activestate.com/ASPN/Mail/Message/1560804
http://aspn.activestate.com/ASPN/Mail/Message/python-list/758306

John

PS: On a completely different topic, I started getting spam shortly
after I started posting here.  Yet, I don't recall seeing any posters
who spam-garble  their email address in this list.  Is everyone else
just dealing with it?  Suggestions?



From mark at codesourcery.com  Thu Mar 13 23:57:57 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 13 Mar 2003 15:57:57 -0800
Subject: [qmtest] sudo enlightenment...
In-Reply-To: <001101c2e8fe$ffe91dc0$a5452a0a@jschmittlt>
References: <001101c2e8fe$ffe91dc0$a5452a0a@jschmittlt>
Message-ID: <1047599877.3197.702.camel@doubledemon.codesourcery.com>

On Wed, 2003-03-12 at 17:22, John Schmitt wrote:
> I had time yesterday to look at my sudo problem again, and my problem
> was related to a couple of things.  This is a summary of what I learned.
> 
> PS: On a completely different topic, I started getting spam shortly
> after I started posting here.  Yet, I don't recall seeing any posters
> who spam-garble  their email address in this list.  Is everyone else
> just dealing with it?  Suggestions?

I get so much spam that I've long since given up trying to keep my
address a secret.

But, we've now updated our archiving software to conceal email addresses
in the archive, so hopefully that will help.

If our list was indeed the cause of the spam you received, I apologize!

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Mon Mar 17 23:55:29 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Mon, 17 Mar 2003 15:55:29 -0800
Subject: debug/release/etc testing
Message-ID: <003301c2ece0$b021f4c0$3101a8c0@jschmittlt>

How do you handle the case of testing several different builds?

Specifically, our nightly build creates several different variants of
our programs.  It looks something like this:

/allbuilds/15-03-2003/release-high-optimization/progN/
/allbuilds/15-03-2003/release-normal-optimization/progN/
/allbuilds/15-03-2003/debug/progN/
/allbuilds/16-03-2003/release-high-optimization/progN/
/allbuilds/16-03-2003/release-normal-optimization/progN/
/allbuilds/16-03-2003/debug/progn/
/allbuilds/17-03-2003/release-high-optimization/progN/
/allbuilds/17-03-2003/release-normal-optimization/progN/
/allbuilds/17-03-2003/debug/progN/
/allbuilds/today/ -> /allbuilds/17-03-2003/

I would like my test suite to be able to run any of the builds any time
and also to batch run all the debug and release builds every night.
Currently I just pick release and use the symbolic link to get to
today's build.  Greater minds than mine might have pondered this and
come up with a better solution.

Any suggestions?

John



From jschmitt at kealia.com  Thu Mar 20 03:21:47 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Wed, 19 Mar 2003 19:21:47 -0800
Subject: /usr/local/lib/qm/qm/test/classes/__init__.py
Message-ID: <000001c2ee8f$d7777760$a5452a0a@jschmittlt>

I made a new test class and I wanted to inherit from command.ExecTest.
To make that work, I had to make the 'classes' directory import-able,
which is easy enough.  Just place a blank __init__.py there.  

I guess this confession reminded me that I'm making myself dependent on
those classes, but that doesn't seem too bad.  Am I doing something more
uncool than I acknowledge?

John



From mark at codesourcery.com  Thu Mar 20 18:19:06 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: Thu, 20 Mar 2003 10:19:06 -0800
Subject: [qmtest] /usr/local/lib/qm/qm/test/classes/__init__.py
In-Reply-To: <000001c2ee8f$d7777760$a5452a0a@jschmittlt>
Message-ID: <21870000.1048184346@warlock.codesourcery.com>



--On Wednesday, March 19, 2003 07:21:47 PM -0800 John Schmitt 
<jschmitt at kealia.com> wrote:

> I made a new test class and I wanted to inherit from command.ExecTest.
> To make that work, I had to make the 'classes' directory import-able,
> which is easy enough.  Just place a blank __init__.py there.

That makes sense.

Thanks,

-- 
Mark Mitchell                mark at codesourcery.com
CodeSourcery, LLC            http://www.codesourcery.com


From jschmitt at kealia.com  Thu Mar 27 00:35:36 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Wed, 26 Mar 2003 16:35:36 -0800
Subject: targets for the local machine
Message-ID: <003801c2f3f8$c907dd50$a5452a0a@jschmittlt>

I'm a little confused about how targets work under QMTest.

The default value for "Target Group Pattern" is ".*".  This caused me a
little confusion when I created a new target that was supposed to be
used for one specific test only.  All the tests tried to run on it.  To
fix that, I'll just do a search-and-replace of the .* string to
something more meaningful.

Anyway, how do I create a target that translates to "this machine"?  

This is what I tried:

qmtest -v create-target -T localtarget localmachine
thread_target.ThreadTarget

Can anyone provide an example of a target file that runs test on only
the local machine?  What should the target field contain if I wanted a
test to run on the machine that is running QMTest?  

How would you create a target that I could use to run a test on a
machine called 'jojo'?  

qmtest create-target -a host=jojo jojotarget rsh_target.RSHTarget 

Then, the "Target Group Pattern" field for a test that should use this
target would be 'jojotarget'?

John




From jschmitt at kealia.com  Thu Mar 27 00:39:23 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Wed, 26 Mar 2003 16:39:23 -0800
Subject: AttributeError in rsh_target.py
Message-ID: <003901c2f3f9$50641de0$a5452a0a@jschmittlt>

Any suggestions?

[jschmitt at luai jschmitt]$ Exception in thread Thread-1:
Traceback (most recent call last):
  File "//usr/lib/python2.2/threading.py", line 408, in __bootstrap
    self.run()
  File "/lib/qm/qm/test/execution_thread.py", line 94, in run
  File "/lib/qm/qm/test/execution_engine.py", line 130, in Run
  File "/lib/qm/qm/test/classes/process_target.py", line 140, in Start
  File "/lib/qm/qm/test/classes/rsh_target.py", line 91, in
_GetInterpreter
AttributeError: 'list' object has no attribute 'split'

I created the target this way:

qmtest create-target -a host=works02 works02target rsh_target.RSHTarget
works02group





From mark at codesourcery.com  Thu Mar 27 18:52:05 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 27 Mar 2003 10:52:05 -0800
Subject: [qmtest] AttributeError in rsh_target.py
In-Reply-To: <003901c2f3f9$50641de0$a5452a0a@jschmittlt>
References: <003901c2f3f9$50641de0$a5452a0a@jschmittlt>
Message-ID: <1048791125.30098.22.camel@doubledemon.codesourcery.com>

On Wed, 2003-03-26 at 16:39, John Schmitt wrote:
> Any suggestions?
> 
> [jschmitt at luai jschmitt]$ Exception in thread Thread-1:
> Traceback (most recent call last):
>   File "//usr/lib/python2.2/threading.py", line 408, in __bootstrap
>     self.run()
>   File "/lib/qm/qm/test/execution_thread.py", line 94, in run
>   File "/lib/qm/qm/test/execution_engine.py", line 130, in Run
>   File "/lib/qm/qm/test/classes/process_target.py", line 140, in Start
>   File "/lib/qm/qm/test/classes/rsh_target.py", line 91, in
> _GetInterpreter
> AttributeError: 'list' object has no attribute 'split'
> 
> I created the target this way:
> 
> qmtest create-target -a host=works02 works02target rsh_target.RSHTarget
> works02group

This is a a bug in RshTarget.  I'll be checking in a fix on the mainline
and on the branch shortly -- and adding a new test case, of course. :-)

Thanks!

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From mark at codesourcery.com  Thu Mar 27 18:57:26 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 27 Mar 2003 10:57:26 -0800
Subject: [qmtest] targets for the local machine
In-Reply-To: <003801c2f3f8$c907dd50$a5452a0a@jschmittlt>
References: <003801c2f3f8$c907dd50$a5452a0a@jschmittlt>
Message-ID: <1048791446.30098.29.camel@doubledemon.codesourcery.com>

> Anyway, how do I create a target that translates to "this machine"?  
> 
> This is what I tried:
> 
> qmtest -v create-target -T localtarget localmachine
> thread_target.ThreadTarget
> 
> Can anyone provide an example of a target file that runs test on only
> the local machine?  What should the target field contain if I wanted a
> test to run on the machine that is running QMTest?  

Probably the best way to do that is to do:

  qmtest create-target -T localtarget thread_target.ThreadTarget
localhost

to create a target in the group "localhost".  Then, put "localhost" in
the target group field for tests that should run there.

> How would you create a target that I could use to run a test on a
> machine called 'jojo'?  
> 
> qmtest create-target -a host=jojo jojotarget rsh_target.RSHTarget 
> 
> Then, the "Target Group Pattern" field for a test that should use this
> target would be 'jojotarget'?

No -- that command doesn't contain a target group.  You have to put the
target group at the end of the command like:

  qmtest create-target -a host=jojo jojotarget rsh_target.RSHTarget
jojotarget

Yours,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From mark at codesourcery.com  Thu Mar 27 19:51:58 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 27 Mar 2003 11:51:58 -0800
Subject: [qmtest] AttributeError in rsh_target.py
In-Reply-To: <1048791125.30098.22.camel@doubledemon.codesourcery.com>
References: <003901c2f3f9$50641de0$a5452a0a@jschmittlt> 
	<1048791125.30098.22.camel@doubledemon.codesourcery.com>
Message-ID: <1048794718.30098.31.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-27 at 10:52, Mark Mitchell wrote:
> On Wed, 2003-03-26 at 16:39, John Schmitt wrote:
> > Any suggestions?
> > 
> > [jschmitt at luai jschmitt]$ Exception in thread Thread-1:
> > Traceback (most recent call last):
> >   File "//usr/lib/python2.2/threading.py", line 408, in __bootstrap
> >     self.run()
> >   File "/lib/qm/qm/test/execution_thread.py", line 94, in run
> >   File "/lib/qm/qm/test/execution_engine.py", line 130, in Run
> >   File "/lib/qm/qm/test/classes/process_target.py", line 140, in Start
> >   File "/lib/qm/qm/test/classes/rsh_target.py", line 91, in
> > _GetInterpreter
> > AttributeError: 'list' object has no attribute 'split'

The fix for this problem has been committed.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Thu Mar 27 20:11:02 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Thu, 27 Mar 2003 12:11:02 -0800
Subject: HandleLoadNightly
Message-ID: <000701c2f49c$fd8df650$a5452a0a@jschmittlt>

I added a feature to my local install of QMTest.  We wanted to be able
to do a 1-click nightly test report page.  IOW, the email message that
goes out after a test run should have a click-able URL that loads up the
test report from the server on which it was generated.  I kludged it
together with the code I've posted down below.

I couldn't figure out how to pass the complete URL to the report so I
hard-coded it.  I guess I don't know enough about web stuff, or
dtml/zope to know how to do this correctly.  Can you provide any
suggestions on how to do this a little smarter?

One behavior I noticed here was that if I loaded the nightly-generated
report this way, and then ran another test, its results didn't get shown
until I clicked on View->Directory.  Is this what you would expect?

(Please pardon the formatting - a little hard to get right with outlook)
    
<code>
class QMTestServer(qm.web.WebServer):
    def __init__(self, database, port, address, log_file,
                 targets, context):
        #...
        ( "load-nightly", self.HandleLoadNightly ),
        #...

# added by jschmitt
# Purpose: display the nightly results page
def HandleLoadNightly(self, request):
"""Handle a request to upload results.

'request' -- The 'WebRequest' that caused the event."""

import urllib
filename,headers = urllib.urlretrieve(
"http://wwwin/eng/sw/nightly-builds/latest/testresults.qmr" )
f = open( filename )
results = qm.test.base.load_results( f )
self.__results_stream = StorageResultsStream()
for r in results:
    self.__results_stream.WriteResult( r )
self.__results_stream.Summarize()
f.close()

# Redirect to the results page.
request = qm.web.WebRequest("show-results", base=request)
raise qm.web.HttpRedirect, request
</code>

-- John



From jschmitt at kealia.com  Thu Mar 27 20:11:02 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Thu, 27 Mar 2003 12:11:02 -0800
Subject: [qmtest] AttributeError in rsh_target.py
In-Reply-To: <1048791125.30098.22.camel@doubledemon.codesourcery.com>
Message-ID: <000801c2f49c$fd9ee640$a5452a0a@jschmittlt>

Thanks, Mark.

Which branch?  Are you working on a new release?  Any updates to share?
:-)

-- John

> -----Original Message-----
> From: Mark Mitchell [mailto:mark at codesourcery.com]
> Sent: Thursday, March 27, 2003 10:52 AM
> To: John Schmitt
> Cc: qmtest at codesourcery.com
> Subject: Re: [qmtest] AttributeError in rsh_target.py
> 
> On Wed, 2003-03-26 at 16:39, John Schmitt wrote:
> > Any suggestions?
> >
> > [jschmitt at luai jschmitt]$ Exception in thread Thread-1:
> > Traceback (most recent call last):
> >   File "//usr/lib/python2.2/threading.py", line 408, in __bootstrap
> >     self.run()
> >   File "/lib/qm/qm/test/execution_thread.py", line 94, in run
> >   File "/lib/qm/qm/test/execution_engine.py", line 130, in Run
> >   File "/lib/qm/qm/test/classes/process_target.py", line 140, in
> Start
> >   File "/lib/qm/qm/test/classes/rsh_target.py", line 91, in
> > _GetInterpreter
> > AttributeError: 'list' object has no attribute 'split'
> >
> > I created the target this way:
> >
> > qmtest create-target -a host=works02 works02target
> rsh_target.RSHTarget
> > works02group
> 
> This is a a bug in RshTarget.  I'll be checking in a fix on the
> mainline
> and on the branch shortly -- and adding a new test case, of course. :-
> )
> 
> Thanks!
> 
> --
> Mark Mitchell
> CodeSourcery, LLC
> mark at codesourcery.com




From mark at codesourcery.com  Thu Mar 27 20:13:25 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 27 Mar 2003 12:13:25 -0800
Subject: [qmtest] AttributeError in rsh_target.py
In-Reply-To: <000801c2f49c$fd9ee640$a5452a0a@jschmittlt>
References: <000801c2f49c$fd9ee640$a5452a0a@jschmittlt>
Message-ID: <1048796005.30135.42.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-27 at 12:11, John Schmitt wrote:
> Thanks, Mark.
> 
> Which branch?  Are you working on a new release?  Any updates to share?

There's a 2.0.x release branch in CVS, as well as a development mainline
(which will become 2.1).

We don't have any releases planned in the very near term, but we're
working away.  Those features that are customers most want are those
which we will work hardest to implement.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Fri Mar 28 02:31:56 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Thu, 27 Mar 2003 18:31:56 -0800
Subject: building qmtest from ToT
Message-ID: <000601c2f4d2$33d8a220$a5452a0a@jschmittlt>

I tried to build ToT QMTest.  The .../bin directory did not get created.
Am I missing something?

This is a trimmed copy of the output.  Hopefully it's not too vague.

 -- John

[jschmitt at luai qm]$ ./configure --prefix=/home/jschmitt/q2/
--with-python=/usr/local/bin/python

[lotsa stuff]

[jschmitt at luai qm]$ make
cd qm && PYTHONPATH=.:./zope-dtml:./zope-dtml/ExtensionClass
/usr/local/bin/python -O ./setup.py -q build
warning: build_py: package init file './test/classes/__init__.py' not
found (or not a regular file)
warning: build_py: package init file './test/classes/__init__.py' not
found (or not a regular file)

[lota stuff\
[jschmitt at luai qm]$ make install

[...]

install:  qm/test/doc/html/*.html does not exist
make: *** [doc-install] Error 1
 [jschmitt at luai qm]$ ll ../../q2
total 12
drwxrwxr-x    3 jschmitt jschmitt     4096 Mar 27 14:37 lib
drwxrwxr-x    3 jschmitt jschmitt     4096 Mar 27 14:37 share
 [jschmitt at luai qm]$



From jschmitt at kealia.com  Fri Mar 28 03:20:16 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Thu, 27 Mar 2003 19:20:16 -0800
Subject: RSHTarget
Message-ID: <000701c2f4d8$f3e43dd0$a5452a0a@jschmittlt>

One of our guys wants to use the RSHTarget and can indeed now get a
single run of a program to run on a remote machine with this target.
The second time you run it (via the GUI), the following gets printed on
the console of the QMTest app:

Traceback (most recent call last):
  File "/usr/local/lib/python2.2/threading.py", line 408, in __bootstrap
    self.run()
  File "/lib/qm/qm/test/execution_thread.py", line 94, in run
  File "/lib/qm/qm/test/execution_engine.py", line 139, in Run
  File "/lib/qm/qm/test/classes/process_target.py", line 182, in Stop
OSError: [Errno 10] No child processes


Any guidance?

 -- John



From mark at codesourcery.com  Fri Mar 28 16:45:50 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 28 Mar 2003 08:45:50 -0800
Subject: [qmtest] building qmtest from ToT
In-Reply-To: <000601c2f4d2$33d8a220$a5452a0a@jschmittlt>
References: <000601c2f4d2$33d8a220$a5452a0a@jschmittlt>
Message-ID: <1048869956.31893.6.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-27 at 18:31, John Schmitt wrote:
> I tried to build ToT QMTest.  The .../bin directory did not get created.
> Am I missing something?
> 
> This is a trimmed copy of the output.  Hopefully it's not too vague.

You need to configure with --enable-maintainer-mode when building from
CVS.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From mark at codesourcery.com  Fri Mar 28 17:20:00 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 28 Mar 2003 09:20:00 -0800
Subject: [qmtest] RSHTarget
In-Reply-To: <000701c2f4d8$f3e43dd0$a5452a0a@jschmittlt>
References: <000701c2f4d8$f3e43dd0$a5452a0a@jschmittlt>
Message-ID: <1048872001.31975.8.camel@doubledemon.codesourcery.com>

On Thu, 2003-03-27 at 19:20, John Schmitt wrote:
> One of our guys wants to use the RSHTarget and can indeed now get a
> single run of a program to run on a remote machine with this target.
> The second time you run it (via the GUI), the following gets printed on
> the console of the QMTest app:

This should be fixed in CVS now.

Thanks,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From jschmitt at kealia.com  Fri Mar 28 23:08:53 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Fri, 28 Mar 2003 15:08:53 -0800
Subject: ToT questions
Message-ID: <000001c2f57f$006f2190$a5452a0a@jschmittlt>

I have two machines: luai that hosts QMTest and a test machine named
stor02.  stor02 is supposed to run tests that luai sends it (via
QMTest).  I have several copies of QMTest installed on luai and I copy
my test database around as needed.

The official install is luai:/usr/local and its test database is at
/home/build/nightly.

My play install is at luai:/home/jschmitt and its test database is at
/home/jschmitt/nightly.

I created a target that runs '/usr/bin/python -V' and it works well on
the localtarget.  However, on the remote target (i.e., stor02), I can't
get it to run.  Running ps on stor02 to see what's going on I see this:

[jschmitt at stor02 jschmitt]$ ps -auxf
USER       PID %CPU %MEM   VSZ  RSS TTY      STAT START   TIME COMMAND
[snippage...]
jschmitt  2008  1.0  0.2  7052 5476 ?        S    14:39   0:00      \_
/usr/bin/python2 -O /home/jschmitt/q2/lib/qm/qm/test/qmtest.py -D
home/build/nightly remote

In other words, I don't know why QMTest on stor02 is looking for its
test database from /home/build when it should be coming from
/home/jschmitt.  I launch QMTest on luai from /home/jschmitt/q2 with -D
/home/jschmitt/nightly.  I launched QMTest on laui from /usr/local with
-D /home/build/nightly.

Any thoughts?

To relieve QMTest of the job of launching itself on stor02, I launched
qmtest on stor02 with the 'remote' command, and it gave me this:

[jschmitt at stor02 jschmitt]$ /home/jschmitt/q2/bin/qmtest -D
/home/jschmitt/nightly remote

Traceback (most recent call last):
  File "/home/jschmitt/q2/lib/qm/qm/test/qmtest.py", line 78, in ?
    exit_code = command.Execute()
  File "/lib/qm/qm/test/cmdline.py", line 615, in Execute
  File "/lib/qm/qm/test/cmdline.py", line 1153, in __ExecuteRemote
cPickle.UnpicklingError: invalid load key, '
'.

v-----------------------------------------^^^^
Note the newline in the error message; this is not my bogus wrapping


 -- John

(Please pardon the wrapping - I wanted the pasted text to not wrap)



From jschmitt at kealia.com  Fri Mar 28 23:14:50 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Fri, 28 Mar 2003 15:14:50 -0800
Subject: Too many questions?
Message-ID: <000101c2f57f$d565de70$a5452a0a@jschmittlt>


This list seems pretty quiet and I hope I'm not generating too much
noise here.  I'm anxious to use QMTest and so I'm trying to report
things that might be useful to the developers and get this tool as
useful and stable as possible.  This is the only way I can help
currently, and I hope that it isn't just too much noise for everyone.
Please forgive if I'm asking questions that could be answered by RTFM or
by doing an appropriate search of the archives.  

I've been searching like this:

http://www.google.com/search?q=rsh_target+site:codesourcery.com

Speaking of the archives, I noticed that all the email addresses had
been xxx'ed out.  Thanks, Mark.  Hopefully this reduces the spam level
somewhat.

I thought I had seen a message in the archives from someone who was
debugging QMTest and had an easy way to debug it.  I couldn't find it
recently when I did a search.  Any suggestions on how to set a
breakpoint etc?

Thanks for the help.

 -- John



From njs at pobox.com  Sat Mar 29 04:29:16 2003
From: njs at pobox.com (Nathaniel Smith)
Date: Fri, 28 Mar 2003 20:29:16 -0800
Subject: [qmtest] Too many questions?
In-Reply-To: <000101c2f57f$d565de70$a5452a0a@jschmittlt>
References: <000101c2f57f$d565de70$a5452a0a@jschmittlt>
Message-ID: <20030329042915.GA31448@njs.dhis.org>

On Fri, Mar 28, 2003 at 03:14:50PM -0800, John Schmitt wrote:
[...]
> I thought I had seen a message in the archives from someone who was
> debugging QMTest and had an easy way to debug it.  I couldn't find it
> recently when I did a search.  Any suggestions on how to set a
> breakpoint etc?

I suppose you might have been thinking about a message I sent a while
back that described the setup you have to use if you want to use
qmtest code without actually running the qmtest wrapper script.  I
find it useful for debugging to start an interactive python, load my
extension class in, and play with it directly, but this is a bit
tricky --- extension modules tend to import modules from the qm
namespace, but the qm files aren't, by default, put anywhere where
python can find them.  qmtest also assumes various environment
variables will be set.  Anyway, last I checked, the following works:
  >>> import sys
  >>> sys.path += "/usr/lib/qm", "/usr/lib/qm/xmlrpc", "/usr/lib/qm/zope-dtml"
  >>> import os
  >>> os.environ["QM_HOME"] = "/usr/lib/qm"
  >>> os.environ["QM_SHARE_PATH"] = "/usr/share/qm"
  >>> # now you can "import qm.label" or whatever it is you want
This is probably not quite up to date anymore (I think xmlrpc got
deleted recently, for instance, so that bit's no longer important), and
it assumes that you have qmtest installed in /usr, but may help.

If what you really want is to run qmtest itself in a debugger, then
that's a bit different.  You have a few options.  The easiest is to
stick a
  import pdb
  pdb.set_trace()
whereever you're interested; then when qmtest hits that point, it'll
break into the debugger, and you'll be able to do whatever you want.
(A variation on this simply sticks that call at the beginning of the
program, possibly conditioned on a command line option, the idea being
that instead of always finding the place where you want to break, you
just run the program and then set a breakpoint from within the
debugger.)

If you don't want to modify the source (and I wouldn't blame you!),
life gets a bit more complicated.  Looking at things, I _think_ you
could start up an interactive interpreter, run the magic setup juju
above, and then do
  >>> import pdb
  >>> sys.argv = [ "qmtest", "then", "whatever", "args", "you", "want" ]
  >>> pdb.run('execfile("/usr/lib/qm/test/qmtest.py")')
But I haven't actually tried it.

There's also various quirkiness involving the QM_BUILD environment
variable which I haven't fully examined -- it might be useful to set
it to 1, if you're trying to run in the source tree, but doing so
might change some of the other advice.  It's all a bit of a mess :-).

Hope that helps,
-- Nathaniel

-- 
"...these, like all words, have single, decontextualized meanings: everyone
knows what each of these words means, everyone knows what constitutes an
instance of each of their referents.  Language is fixed.  Meaning is
certain.  Santa Claus comes down the chimney at midnight on December 24."
  -- The Language War, Robin Lakoff

This email may be read aloud.


From schen at medata.com  Mon Mar 31 17:08:24 2003
From: schen at medata.com (Sherman Chen)
Date: Mon, 31 Mar 2003 09:08:24 -0800
Subject: Hi, I am new and I have a question
In-Reply-To: <1049130329.7117.ezmlm@codesourcery.com>
References: <1049130329.7117.ezmlm@codesourcery.com>
Message-ID: <3E887608.9090704@medata.com>

Hi,

I am new to this mailing list.

I am looking for an automated testing tool for my company and stumpled 
onto QMTest.  I have one very dumb question - how can I use QMTest to do 
functional testing for my app?  The app is written in Cobol & Flat 
Files.  It runs in a DOS window in Windows2000 and it is character-based.

Thanks,
Sherman Chen



From mark at codesourcery.com  Mon Mar 31 17:41:57 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 31 Mar 2003 09:41:57 -0800
Subject: [qmtest] ToT questions
In-Reply-To: <000001c2f57f$006f2190$a5452a0a@jschmittlt>
References: <000001c2f57f$006f2190$a5452a0a@jschmittlt>
Message-ID: <1049132517.31893.443.camel@doubledemon.codesourcery.com>

On Fri, 2003-03-28 at 15:08, John Schmitt wrote:
> I have two machines: luai that hosts QMTest and a test machine named
> stor02.  stor02 is supposed to run tests that luai sends it (via
> QMTest).  I have several copies of QMTest installed on luai and I copy
> my test database around as needed.
> 
> The official install is luai:/usr/local and its test database is at
> /home/build/nightly.
> 
> My play install is at luai:/home/jschmitt and its test database is at
> /home/jschmitt/nightly.

I have a theory, but I can't prove it given the information you've
given.

The ProcessTarget class has a database_path field.  (RSHTarget is a
subclass of ProcessTarget.)

You may have set that database_path field, which overrides the current
database path.  (This is so that you can use the same NFS path across
multiple machines, for example.)

So, you might want to look at your target file in /home/jschmitt and see
if it contains an entry for database_path that points at /home/build.

Yours,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From mark at codesourcery.com  Mon Mar 31 17:43:09 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 31 Mar 2003 09:43:09 -0800
Subject: [qmtest] Too many questions?
In-Reply-To: <000101c2f57f$d565de70$a5452a0a@jschmittlt>
References: <000101c2f57f$d565de70$a5452a0a@jschmittlt>
Message-ID: <1049132589.31975.445.camel@doubledemon.codesourcery.com>

On Fri, 2003-03-28 at 15:14, John Schmitt wrote:
> 
> This list seems pretty quiet and I hope I'm not generating too much
> noise here.  I'm anxious to use QMTest and so I'm trying to report
> things that might be useful to the developers and get this tool as
> useful and stable as possible.  This is the only way I can help
> currently, and I hope that it isn't just too much noise for everyone.

We certainly appreciate your comments and questions.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From mark at codesourcery.com  Mon Mar 31 17:45:55 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 31 Mar 2003 09:45:55 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <3E887608.9090704@medata.com>
References: <1049130329.7117.ezmlm@codesourcery.com> 
	<3E887608.9090704@medata.com>
Message-ID: <1049132755.31893.449.camel@doubledemon.codesourcery.com>

On Mon, 2003-03-31 at 09:08, Sherman Chen wrote:
> Hi,
> 
> I am new to this mailing list.
> 
> I am looking for an automated testing tool for my company and stumpled 
> onto QMTest.  I have one very dumb question - how can I use QMTest to do 
> functional testing for my app?  The app is written in Cobol & Flat 
> Files.  It runs in a DOS window in Windows2000 and it is character-based.

There's no real problem with testing a DOS application; QMTest runs on
Windows just fine.  As with any other situation, you'll need to write
QMTest test classes to run your application and evaluate whether or not
it behaved correctly.  You may be able to use the QMTest
command.ExecTest class, or you might be able to base a new test class on
that.

CodeSourcery is also available for consulting services, if you'd like us
to design test classes for your environment.

Yours,

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From schen at medata.com  Mon Mar 31 17:52:08 2003
From: schen at medata.com (Sherman Chen)
Date: Mon, 31 Mar 2003 09:52:08 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <1049132755.31893.449.camel@doubledemon.codesourcery.com>
References: <1049130329.7117.ezmlm@codesourcery.com> 	<3E887608.9090704@medata.com> <1049132755.31893.449.camel@doubledemon.codesourcery.com>
Message-ID: <3E888047.4020907@medata.com>

I guess, to be specific, my question is - how do I test something along 
the line of the behavior of a field - with the right input and the wrong 
input in a character based application, or how do I test to see if a 
"screen" is going to another "screen" correctly?

The User Manual didn't really say a whole lot about that.

Thanks,
Sherman

Mark Mitchell wrote:
> On Mon, 2003-03-31 at 09:08, Sherman Chen wrote:
> 
>>Hi,
>>
>>I am new to this mailing list.
>>
>>I am looking for an automated testing tool for my company and stumpled 
>>onto QMTest.  I have one very dumb question - how can I use QMTest to do 
>>functional testing for my app?  The app is written in Cobol & Flat 
>>Files.  It runs in a DOS window in Windows2000 and it is character-based.
> 
> 
> There's no real problem with testing a DOS application; QMTest runs on
> Windows just fine.  As with any other situation, you'll need to write
> QMTest test classes to run your application and evaluate whether or not
> it behaved correctly.  You may be able to use the QMTest
> command.ExecTest class, or you might be able to base a new test class on
> that.
> 
> CodeSourcery is also available for consulting services, if you'd like us
> to design test classes for your environment.
> 
> Yours,
> 



From mark at codesourcery.com  Mon Mar 31 17:55:39 2003
From: mark at codesourcery.com (Mark Mitchell)
Date: 31 Mar 2003 09:55:39 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <3E888047.4020907@medata.com>
References: <1049130329.7117.ezmlm@codesourcery.com>
		<3E887608.9090704@medata.com>
	<1049132755.31893.449.camel@doubledemon.codesourcery.com> 
	<3E888047.4020907@medata.com>
Message-ID: <1049133339.31975.455.camel@doubledemon.codesourcery.com>

On Mon, 2003-03-31 at 09:52, Sherman Chen wrote:
> I guess, to be specific, my question is - how do I test something along 
> the line of the behavior of a field - with the right input and the wrong 
> input in a character based application, or how do I test to see if a 
> "screen" is going to another "screen" correctly?
> 
> The User Manual didn't really say a whole lot about that.

The key idea of QMTest is that it's an extensible testing platform.  We
didn't try to handle every kind of testing with built-in facilities
because there are too many different kinds of testing.

QMTest's job is to execute tests, store results, and show you the
output.  It's the test designer's job to write the software to perform
an individual test.  

Someone will have to write code to poke at the DOS application to see
whether it's done the right thing; that's not built into QMTest.

-- 
Mark Mitchell
CodeSourcery, LLC
mark at codesourcery.com



From schen at medata.com  Mon Mar 31 17:59:11 2003
From: schen at medata.com (Sherman Chen)
Date: Mon, 31 Mar 2003 09:59:11 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <1049133339.31975.455.camel@doubledemon.codesourcery.com>
References: <1049130329.7117.ezmlm@codesourcery.com>		<3E887608.9090704@medata.com>	<1049132755.31893.449.camel@doubledemon.codesourcery.com> 	<3E888047.4020907@medata.com> <1049133339.31975.455.camel@doubledemon.codesourcery.com>
Message-ID: <3E8881EF.2020108@medata.com>

OK.  Thanks for answering my questions.

Thanks,
Sherman

Mark Mitchell wrote:
> On Mon, 2003-03-31 at 09:52, Sherman Chen wrote:
> 
>>I guess, to be specific, my question is - how do I test something along 
>>the line of the behavior of a field - with the right input and the wrong 
>>input in a character based application, or how do I test to see if a 
>>"screen" is going to another "screen" correctly?
>>
>>The User Manual didn't really say a whole lot about that.
> 
> 
> The key idea of QMTest is that it's an extensible testing platform.  We
> didn't try to handle every kind of testing with built-in facilities
> because there are too many different kinds of testing.
> 
> QMTest's job is to execute tests, store results, and show you the
> output.  It's the test designer's job to write the software to perform
> an individual test.  
> 
> Someone will have to write code to poke at the DOS application to see
> whether it's done the right thing; that's not built into QMTest.
> 



From jschmitt at kealia.com  Mon Mar 31 20:33:46 2003
From: jschmitt at kealia.com (John Schmitt)
Date: Mon, 31 Mar 2003 12:33:46 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <3E887608.9090704@medata.com>
Message-ID: <000201c2f7c4$d47e1a80$a5452a0a@jschmittlt>

I assume that by 'DOS window' you mean 'console application'.  I can't
tell for sure from your message, but it sounds like you have an
interactive application that needs testing.  In that case you might want
to make use of pexpect: http://pexpect.sourceforge.net/.  The manual for
it is here: http://pexpect.sourceforge.net/doc/pexpect.html.  I think
Eric Raymond is nudging the Python development team to include it in the
standard library:
http://mail.python.org/pipermail/python-dev/2002-November/030313.html

Good luck.

 -- John

> -----Original Message-----
> From: Sherman Chen [mailto:schen at medata.com] 
> Sent: Monday, March 31, 2003 9:08 AM
> To: qmtest at codesourcery.com
> Subject: [qmtest] Hi, I am new and I have a question
> 
> 
> Hi,
> 
> I am new to this mailing list.
> 
> I am looking for an automated testing tool for my company and 
> stumpled 
> onto QMTest.  I have one very dumb question - how can I use 
> QMTest to do 
> functional testing for my app?  The app is written in Cobol & Flat 
> Files.  It runs in a DOS window in Windows2000 and it is 
> character-based.
> 
> Thanks,
> Sherman Chen
> 
> 
> 



From schen at medata.com  Mon Mar 31 21:05:45 2003
From: schen at medata.com (Sherman Chen)
Date: Mon, 31 Mar 2003 13:05:45 -0800
Subject: [qmtest] Hi, I am new and I have a question
In-Reply-To: <000201c2f7c4$d47e1a80$a5452a0a@jschmittlt>
References: <000201c2f7c4$d47e1a80$a5452a0a@jschmittlt>
Message-ID: <3E88ADA9.20506@medata.com>

Hi John,

That is what I meant - a console application.  I'll give pexpect a look.

Thanks for the info!

Sherman

John Schmitt wrote:
> I assume that by 'DOS window' you mean 'console application'.  I can't
> tell for sure from your message, but it sounds like you have an
> interactive application that needs testing.  In that case you might want
> to make use of pexpect: http://pexpect.sourceforge.net/.  The manual for
> it is here: http://pexpect.sourceforge.net/doc/pexpect.html.  I think
> Eric Raymond is nudging the Python development team to include it in the
> standard library:
> http://mail.python.org/pipermail/python-dev/2002-November/030313.html
> 
> Good luck.
> 
>  -- John
> 
> 
>>-----Original Message-----
>>From: Sherman Chen [mailto:schen at medata.com] 
>>Sent: Monday, March 31, 2003 9:08 AM
>>To: qmtest at codesourcery.com
>>Subject: [qmtest] Hi, I am new and I have a question
>>
>>
>>Hi,
>>
>>I am new to this mailing list.
>>
>>I am looking for an automated testing tool for my company and 
>>stumpled 
>>onto QMTest.  I have one very dumb question - how can I use 
>>QMTest to do 
>>functional testing for my app?  The app is written in Cobol & Flat 
>>Files.  It runs in a DOS window in Windows2000 and it is 
>>character-based.
>>
>>Thanks,
>>Sherman Chen
>>
>>
>>



