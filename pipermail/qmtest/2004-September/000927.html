<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [qmtest] Failed prerequisite is not failing a test
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Failed%20prerequisite%20is%20not%20failing%20a%20test&In-Reply-To=%3C4147DC48.50402%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000925.html">
   <LINK REL="Next"  HREF="000928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[qmtest] Failed prerequisite is not failing a test</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:qmtest%40codesourcery.com?Subject=Re%3A%20%5Bqmtest%5D%20Failed%20prerequisite%20is%20not%20failing%20a%20test&In-Reply-To=%3C4147DC48.50402%40codesourcery.com%3E"
       TITLE="[qmtest] Failed prerequisite is not failing a test">mark at codesourcery.com
       </A><BR>
    <I>Wed Sep 15 06:08:08 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000925.html">[qmtest] Synchronization between multiple instances of  QMTest
</A></li>
        <LI>Next message: <A HREF="000928.html">[qmtest] Failed prerequisite is not failing a test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#927">[ date ]</a>
              <a href="thread.html#927">[ thread ]</a>
              <a href="subject.html#927">[ subject ]</a>
              <a href="author.html#927">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Scott Lowrey wrote:

&gt;<i> Mark Mitchell wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is a common confusion: if you do not explicitly list the 
</I>&gt;&gt;<i> prerequisite among the tests you want to run, then it will not be 
</I>&gt;&gt;<i> run.  We see prerequisites as purely an optimization: they provide a 
</I>&gt;&gt;<i> way of skipping some tests if earlier tests do not work the way you 
</I>&gt;&gt;<i> think.  It's possible that this was a bad design decision; it is 
</I>&gt;&gt;<i> certainly true that you are not the first person to have been 
</I>&gt;&gt;<i> confused.  However, it is how QMTest presently works.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Very well put.  :)  And very aggravating at times.  To me, a prereq is 
</I>&gt;<i> a prereq whether I asked for it or not.  But maybe that's just 
</I>&gt;<i> semantics.  Either way, I accept the current operation and, if I 
</I>&gt;<i> *really need* to have something run prior to my test, then a resource 
</I>&gt;<i> is probably a better alternative.
</I>&gt;<i>
</I>&gt;<i> Can I take this opportunity to segue into another issue?  We've 
</I>&gt;<i> recently come across a situation where the resource behavior is 
</I>&gt;<i> somewhat unacceptable in that the cleanup action occurs to late in the 
</I>&gt;<i> session - i.e., when all tests have completed. 
</I>&gt;<i>
</I>&gt;<i> What do you think about having a resource clean up as soon as the 
</I>&gt;<i> tests that depend on it have completed?  This goes way back to my 
</I>&gt;<i> argument for a &quot;suite resource&quot; but with a slightly different spin.  
</I>&gt;<i> The idea seems to  make perfect sense - we have situations where the 
</I>&gt;<i> set-up tasks performed by a resource must be undone before proceeding 
</I>&gt;<i> with other tests.   Any other ideas on how to do this?  If not, I can 
</I>&gt;<i> try to make it work and submit the code.... assuming it's feasible.
</I>
Certainly, having the execution engine clean up resources more 
aggressively would be fine.  In fact, they could be cleaned up after 
every use -- although that would be suboptimal.  But, the situation 
you're describing is a little more complex, in that the cleanup is 
mandatory.  In other words, the later tests require a &quot;blank slate&quot;.

We certainly can't model this now, and it certainly seems like a 
reasonable thing to want.  So, the question is what the design space 
looks like.  I'm almost tempted to say that we ought to make the 
execution engine an extension class, and then let you override it...

-- 
Mark Mitchell
CodeSourcery, LLC
(916) 791-8304
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">mark at codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000925.html">[qmtest] Synchronization between multiple instances of  QMTest
</A></li>
	<LI>Next message: <A HREF="000928.html">[qmtest] Failed prerequisite is not failing a test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#927">[ date ]</a>
              <a href="thread.html#927">[ thread ]</a>
              <a href="subject.html#927">[ subject ]</a>
              <a href="author.html#927">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/qmtest">More information about the qmtest
mailing list</a><br>
</body></html>
