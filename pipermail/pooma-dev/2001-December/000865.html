<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Patch: Preliminary Pooma Manual
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Patch%3A%20Preliminary%20Pooma%20Manual&In-Reply-To=%3C20011203170827.A17307%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000864.html">
   <LINK REL="Next"  HREF="000866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Patch: Preliminary Pooma Manual</H1>
    <B>Jeffrey Oldham</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Patch%3A%20Preliminary%20Pooma%20Manual&In-Reply-To=%3C20011203170827.A17307%40codesourcery.com%3E"
       TITLE="Patch: Preliminary Pooma Manual">oldham at codesourcery.com
       </A><BR>
    <I>Tue Dec  4 01:08:27 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000864.html">Patch: Fix Typos and Add Missing Semicolons
</A></li>
        <LI>Next message: <A HREF="000866.html">pooma performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#865">[ date ]</a>
              <a href="thread.html#865">[ thread ]</a>
              <a href="subject.html#865">[ subject ]</a>
              <a href="author.html#865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been working on a manual for Pooma2.4.  These files will be
part of the manual, mostly written using DocBook.  A portion of the
tutorial introduction chapter and some instructions regarding
downloading and compiling have been written.  The rest is an outline
also containing notes to myself.  Although these files are a work in
progress, I wish to add these files to the Pooma source tree so others
can look at them and so they will be backed up outside of Mountain
View.

2001-Dec-03  Jeffrey D. Oldham  &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>&gt;

        * docs/manual/collateindex.pl: New file copied from DocBook
        distribution.
        * docs/manual/makefile: New file used to create PostScript and
        HTML versions of the manual.
        * docs/manual/outline.xml: New file containing the manual, written
        in DocBook.
        * docs/manual/figures/distributed.mp: New file containing MetaPost
        illustration showing the distributed computing concepts.
        * docs/manual/figures/doof2d.mp: New file containing MetaPost
        illustrations of the Doof2d tutorial implementations.
        * docs/manual/figures/makefile: New file used to create EPS
        figures from the MetaPost files.
        * docs/manual/programs/Doof2d-Array-distributed-annotated.patch:
        New file containing a patch adding callout annotations to
        Doof2d-Array-distributed.cpp.
        * docs/manual/programs/Doof2d-Array-element-annotated.patch:
        Analogous.
        * docs/manual/programs/Doof2d-Array-parallel-annotated.patch:
        Analogous.
        * docs/manual/programs/Doof2d-Array-stencil-annotated.patch:
        Analogous.
        * docs/manual/programs/Doof2d-C-element-annotated.patch:
        Analogous.
        * docs/manual/programs/makefile: New file containing instructions
        to create DocBook versions of programs.
        * examples/Manual/Doof2d/Doof2d-Array-distributed.cpp: New source
        code file containing a simple Doof2d implementation using Arrays
        and distributed computation.
        * examples/Manual/Doof2d/Doof2d-Array-element.cpp: Analogous.
        * examples/Manual/Doof2d/Doof2d-Array-parallel.cpp: Analogous.
        * examples/Manual/Doof2d/Doof2d-Array-stencil.cpp: Analogous.
        * examples/Manual/Doof2d/Doof2d-C-element.cpp: Analogous.
        * examples/Manual/Doof2d/Doof2d-Field-distributed.cpp: Analogous.
        * examples/Manual/Doof2d/Doof2d-Field-parallel.cpp: Analogous.
        * examples/Manual/Doof2d/include.mk: New file needed for
        compilation.
        * examples/Manual/Doof2d/makefile: New file containing instructions
        to compile simple Doof2d implementations.

Thanks,
Jeffrey D. Oldham
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>
-------------- next part --------------
Index: docs/manual/collateindex.pl
===================================================================
RCS file: collateindex.pl
diff -N collateindex.pl
*** /dev/null	Fri Mar 23 21:37:44 2001
--- collateindex.pl	Mon Dec  3 14:01:51 2001
***************
*** 0 ****
--- 1,596 ----
+ # -*- Perl -*-
+ #
+ # $Id: collateindex.pl,v 1.12 2000/01/27 15:07:15 nwalsh Exp $
+ 
+ use Getopt::Std;
+ 
+ $usage = &quot;Usage: $0 &lt;opts&gt; file
+ Where &lt;opts&gt; are:
+        -p        Link to points in the document.  The default is to link
+                  to the closest containing section.
+        -g        Group terms with IndexDiv based on the first letter 
+                  of the term (or its sortas attribute).
+                  (This probably doesn't handle i10n particularly well)
+        -s name   Name the IndexDiv that contains symbols.  The default
+                  is 'Symbols'.  Meaningless if -g is not used.
+        -t name   Title for the index.
+        -P file   Read a preamble from file.  The content of file will
+                  be inserted before the &lt;index&gt; tag.
+        -i id     The ID for the &lt;index&gt; tag.
+        -o file   Output to file. Defaults to stdout.
+        -S scope  Scope of the index, must be 'all', 'local', or 'global'.
+                  If unspecified, 'all' is assumed.
+        -I scope  The implied scope, must be 'all', 'local', or 'global'.
+                  IndexTerms which do not specify a scope will have the
+                  implied scope.  If unspecified, 'all' is assumed.
+        -x        Make a SetIndex.
+        -f        Force the output file to be written, even if it appears
+                  to have been edited by hand.
+        -N        New index (generates an empty index file).
+        file      The file containing index data generated by Jade
+                  with the DocBook HTML Stylesheet.\n&quot;;
+ 
+ die $usage if ! getopts('Dfgi:NpP:s:o:S:I:t:x');
+ 
+ $linkpoints   = $opt_p;
+ $lettergroups = $opt_g;
+ $symbolsname  = $opt_s || &quot;Symbols&quot;;
+ $title        = $opt_t;
+ $preamble     = $opt_P;
+ $outfile      = $opt_o || '-';
+ $indexid      = $opt_i;
+ $scope        = uc($opt_S) || 'ALL';
+ $impliedscope = uc($opt_I) || 'ALL';
+ $setindex     = $opt_x;
+ $forceoutput  = $opt_f;
+ $newindex     = $opt_N;
+ $debug        = $opt_D;
+ 
+ $indextag     = $setindex ? 'setindex' : 'index';
+ 
+ if ($newindex) {
+     safe_open(*OUT, $outfile);
+     if ($indexid) {
+ 	print OUT &quot;&lt;$indextag id='$indexid'&gt;\n\n&quot;;
+     } else {
+ 	print OUT &quot;&lt;$indextag&gt;\n\n&quot;;
+     }
+ 
+     print OUT &quot;&lt;!-- This file was produced by collateindex.pl.         --&gt;\n&quot;;
+     print OUT &quot;&lt;!-- Remove this comment if you edit this file by hand! --&gt;\n&quot;;
+ 
+     print OUT &quot;&lt;/$indextag&gt;\n&quot;;
+     exit 0;
+ }
+ 
+ $dat = shift @ARGV || die $usage;
+ die &quot;$0: cannot find $dat.\n&quot; if ! -f $dat;
+ 
+ %legal_scopes = ('ALL' =&gt; 1, 'LOCAL' =&gt; 1, 'GLOBAL' =&gt; 1);
+ if ($scope &amp;&amp; !$legal_scopes{$scope}) {
+     die &quot;Invalid scope.\n$usage\n&quot;;
+ }
+ if ($impliedscope &amp;&amp; !$legal_scopes{$impliedscope}) {
+     die &quot;Invalid implied scope.\n$usage\n&quot;;
+ }
+ 
+ @term = ();
+ %id   = ();
+ 
+ $termcount = 0;
+ 
+ print STDERR &quot;Processing $dat...\n&quot;;
+ 
+ # Read the index file, creating an array of objects.  Each object 
+ # represents and indexterm and has fields for the content of the
+ # indexterm
+ 
+ open (F, $dat);
+ while (&lt;F&gt;) {
+     chop;
+ 
+     if (/^\/indexterm/i) {
+ 	push (@term, $idx);
+ 	next;
+     }
+ 
+     if (/^indexterm (.*)$/i) {
+ 	$termcount++;
+ 	$idx = {};
+ 	$idx-&gt;{'zone'} = {};
+ 	$idx-&gt;{'href'} = $1;
+ 	$idx-&gt;{'count'} = $termcount;
+ 	$idx-&gt;{'scope'} = $impliedscope;
+ 	next;
+     }
+ 
+     if (/^indexpoint (.*)$/i) {
+ 	$idx-&gt;{'hrefpoint'} = $1;
+ 	next;
+     }
+ 
+     if (/^title (.*)$/i) {
+ 	$idx-&gt;{'title'} = $1;
+ 	next;
+     }
+ 
+     if (/^primary[\[ ](.*)$/i) {
+ 	if (/^primary\[(.*?)\] (.*)$/i) {
+ 	    $idx-&gt;{'psortas'} = $1;
+ 	    $idx-&gt;{'primary'} = $2;
+ 	} else {
+ 	    $idx-&gt;{'psortas'} = $1;
+ 	    $idx-&gt;{'primary'} = $1;
+ 	}
+ 	next;
+     }
+ 
+     if (/^secondary[\[ ](.*)$/i) {
+ 	if (/^secondary\[(.*?)\] (.*)$/i) {
+ 	    $idx-&gt;{'ssortas'} = $1;
+ 	    $idx-&gt;{'secondary'} = $2;
+ 	} else {
+ 	    $idx-&gt;{'ssortas'} = $1;
+ 	    $idx-&gt;{'secondary'} = $1;
+ 	}
+ 	next;
+     }
+ 
+     if (/^tertiary[\[ ](.*)$/i) {
+ 	if (/^tertiary\[(.*?)\] (.*)$/i) {
+ 	    $idx-&gt;{'tsortas'} = $1;
+ 	    $idx-&gt;{'tertiary'} = $2;
+ 	} else {
+ 	    $idx-&gt;{'tsortas'} = $1;
+ 	    $idx-&gt;{'tertiary'} = $1;
+ 	}
+ 	next;
+     }
+ 
+     if (/^see (.*)$/i) {
+ 	$idx-&gt;{'see'} = $1;
+ 	next;
+     }
+ 
+     if (/^seealso (.*)$/i) {
+ 	$idx-&gt;{'seealso'} = $1;
+ 	next;
+     }
+ 
+     if (/^significance (.*)$/i) {
+ 	$idx-&gt;{'significance'} = $1;
+ 	next;
+     }
+ 
+     if (/^class (.*)$/i) {
+ 	$idx-&gt;{'class'} = $1;
+ 	next;
+     }
+ 
+     if (/^scope (.*)$/i) {
+ 	$idx-&gt;{'scope'} = uc($1);
+ 	next;
+     }
+ 
+     if (/^startref (.*)$/i) {
+ 	$idx-&gt;{'startref'} = $1;
+ 	next;
+     }
+ 
+     if (/^id (.*)$/i) {
+ 	$idx-&gt;{'id'} = $1;
+ 	$id{$1} = $idx;
+ 	next;
+     }
+ 
+     if (/^zone (.*)$/i) {
+ 	my($href) = $1;
+ 	$_ = scalar(&lt;F&gt;);
+ 	chop;
+ 	die &quot;Bad zone: $_\n&quot; if !/^title (.*)$/i;
+ 	$idx-&gt;{'zone'}-&gt;{$href} = $1;
+ 	next;
+     }
+ 
+     die &quot;Unrecognized: $_\n&quot;;
+ }
+ close (F);
+ 
+ print STDERR &quot;$termcount entries loaded...\n&quot;;
+ 
+ # Fixup the startrefs...
+ # In DocBook, STARTREF is a #CONREF attribute; support this by copying
+ # all of the fields from the indexterm with the id specified by STARTREF
+ # to the indexterm that has the STARTREF.
+ foreach $idx (@term) {
+     my($ididx, $field);
+     if ($idx-&gt;{'startref'}) {
+ 	$ididx = $id{$idx-&gt;{'startref'}};
+ 	foreach $field ('primary', 'secondary', 'tertiary', 'see', 'seealso',
+ 		        'psortas', 'ssortas', 'tsortas', 'significance',
+ 		        'class', 'scope') {
+ 	    $idx-&gt;{$field} = $ididx-&gt;{$field};
+ 	}
+     }
+ }
+ 
+ # Sort the index terms
+ @term = sort termsort @term;
+ 
+ # Move all of the non-alphabetic entries to the front of the index.
+ @term = sortsymbols(@term);
+ 
+ safe_open(*OUT, $outfile);
+ 
+ # Write the index...
+ if ($indexid) {
+     print OUT &quot;&lt;$indextag id='$indexid'&gt;\n\n&quot;;
+ } else {
+     print OUT &quot;&lt;$indextag&gt;\n\n&quot;;
+ }
+ 
+ print OUT &quot;&lt;!-- This file was produced by collateindex.pl.         --&gt;\n&quot;;
+ print OUT &quot;&lt;!-- Remove this comment if you edit this file by hand! --&gt;\n&quot;;
+ 
+ print OUT &quot;&lt;!-- ULINK is abused here.
+       
+       The URL attribute holds the URL that points from the index entry
+       back to the appropriate place in the output produced by the HTML
+       stylesheet. (It's much easier to calculate this URL in the first
+       pass.)
+ 
+       The Role attribute holds the ID (either real or manufactured) of
+       the corresponding INDEXTERM.  This is used by the print backends
+       to produce page numbers.
+ 
+       The entries below are sorted and collated into the correct order.
+       Duplicates may be removed in the HTML backend, but in the print
+       backends, it is impossible to suppress duplicate pages or coalesce
+       sequences of pages into a range.
+ --&gt;\n\n&quot;;
+ 
+ print OUT &quot;&lt;title&gt;$title&lt;/title&gt;\n\n&quot; if $title;
+ 
+ $last = {};     # the last indexterm we processed
+ $first = 1;     # this is the first one
+ $group = &quot;&quot;;    # we're not in a group yet
+ $lastout = &quot;&quot;;  # we've not put anything out yet
+ 
+ foreach $idx (@term) {
+     next if $idx-&gt;{'startref'}; # no way to represent spans...
+     next if ($idx-&gt;{'scope'} eq 'LOCAL') &amp;&amp; ($scope eq 'GLOBAL');
+     next if ($idx-&gt;{'scope'} eq 'GLOBAL') &amp;&amp; ($scope eq 'LOCAL');
+     next if &amp;same($idx, $last); # suppress duplicates
+ 
+     $termcount--;
+ 
+     # If primary changes, output a whole new index term, otherwise just
+     # output another secondary or tertiary, as appropriate.  We know from
+     # sorting that the terms will always be in the right order.
+     if (!&amp;tsame($last, $idx, 'primary')) { 
+ 	print &quot;DIFF PRIM\n&quot; if $debug;
+ 	&amp;end_entry() if not $first;
+ 
+ 	if ($lettergroups) {
+ 	    # If we're grouping, make the right indexdivs
+ 	    $letter = $idx-&gt;{'psortas'};
+ 	    $letter = $idx-&gt;{'primary'} if !$letter;
+ 	    $letter = uc(substr($letter, 0, 1));
+ 	    
+ 	    # symbols are a special case
+ 	    if (($letter lt 'A') || ($letter gt 'Z')) {
+ 		if (($group eq '')
+ 		    || (($group ge 'A') &amp;&amp; ($group le 'Z'))) {
+ 		    print OUT &quot;&lt;/indexdiv&gt;\n&quot; if !$first;
+ 		    print OUT &quot;&lt;indexdiv&gt;&lt;title&gt;$symbolsname&lt;/title&gt;\n\n&quot;;
+ 		    $group = $letter;
+ 		}
+ 	    } elsif (($group eq '') || ($group ne $letter)) {
+ 		print OUT &quot;&lt;/indexdiv&gt;\n&quot; if !$first;
+ 		print OUT &quot;&lt;indexdiv&gt;&lt;title&gt;$letter&lt;/title&gt;\n\n&quot;;
+ 		$group = $letter;
+ 	    }
+ 	}
+ 
+ 	$first = 0; # there can only be on first ;-)
+ 
+ 	print OUT &quot;&lt;indexentry&gt;\n&quot;;
+ 	print OUT &quot;  &lt;primaryie&gt;&quot;, $idx-&gt;{'primary'};
+ 	$lastout = &quot;primaryie&quot;;
+ 
+  	if ($idx-&gt;{'secondary'}) {
+ 	    print OUT &quot;\n  &lt;/primaryie&gt;\n&quot;;
+ 	    print OUT &quot;  &lt;secondaryie&gt;&quot;, $idx-&gt;{'secondary'};
+ 	    $lastout = &quot;secondaryie&quot;;
+ 	};
+ 
+ 	if ($idx-&gt;{'tertiary'}) {
+ 	    print OUT &quot;\n  &lt;/secondaryie&gt;\n&quot;;
+ 	    print OUT &quot;  &lt;tertiaryie&gt;&quot;, $idx-&gt;{'tertiary'};
+ 	    $lastout = &quot;tertiaryie&quot;;
+ 	}
+     } elsif (!&amp;tsame($last, $idx, 'secondary')) {
+ 	print &quot;DIFF SEC\n&quot; if $debug;
+ 
+ 	print OUT &quot;\n  &lt;/$lastout&gt;\n&quot; if $lastout;
+ 
+ 	print OUT &quot;  &lt;secondaryie&gt;&quot;, $idx-&gt;{'secondary'};
+ 	$lastout = &quot;secondaryie&quot;;
+ 	if ($idx-&gt;{'tertiary'}) {
+ 	    print OUT &quot;\n  &lt;/secondaryie&gt;\n&quot;;
+ 	    print OUT &quot;  &lt;tertiaryie&gt;&quot;, $idx-&gt;{'tertiary'};
+ 	    $lastout = &quot;tertiaryie&quot;;
+ 	}
+     } elsif (!&amp;tsame($last, $idx, 'tertiary')) {
+ 	print &quot;DIFF TERT\n&quot; if $debug;
+ 
+ 	print OUT &quot;\n  &lt;/$lastout&gt;\n&quot; if $lastout;
+ 
+ 	if ($idx-&gt;{'tertiary'}) {
+ 	    print OUT &quot;  &lt;tertiaryie&gt;&quot;, $idx-&gt;{'tertiary'};
+ 	    $lastout = &quot;tertiaryie&quot;;
+ 	}
+     }
+ 
+     &amp;print_term($idx);
+     
+     $last = $idx;
+ }
+ 
+ # Termcount is &gt; 0 iff some entries were skipped.
+ print STDERR &quot;$termcount entries ignored...\n&quot;;
+ 
+ &amp;end_entry();
+ 
+ print OUT &quot;&lt;/indexdiv&gt;\n&quot; if $lettergroups;
+ print OUT &quot;&lt;/$indextag&gt;\n&quot;;
+ 
+ close (OUT);
+ 
+ print STDERR &quot;Done.\n&quot;;
+ 
+ sub same {
+     my($a) = shift;
+     my($b) = shift;
+ 
+     my($aP) = $a-&gt;{'psortas'} || $a-&gt;{'primary'};   
+     my($aS) = $a-&gt;{'ssortas'} || $a-&gt;{'secondary'}; 
+     my($aT) = $a-&gt;{'tsortas'} || $a-&gt;{'tertiary'};  
+ 	                                            
+     my($bP) = $b-&gt;{'psortas'} || $b-&gt;{'primary'};   
+     my($bS) = $b-&gt;{'ssortas'} || $b-&gt;{'secondary'}; 
+     my($bT) = $b-&gt;{'tsortas'} || $b-&gt;{'tertiary'};  
+ 
+     my($same);
+ 
+     $aP =~ s/^\s*//; $aP =~ s/\s*$//; $aP = uc($aP);
+     $aS =~ s/^\s*//; $aS =~ s/\s*$//; $aS = uc($aS);
+     $aT =~ s/^\s*//; $aT =~ s/\s*$//; $aT = uc($aT);
+     $bP =~ s/^\s*//; $bP =~ s/\s*$//; $bP = uc($bP);
+     $bS =~ s/^\s*//; $bS =~ s/\s*$//; $bS = uc($bS);
+     $bT =~ s/^\s*//; $bT =~ s/\s*$//; $bT = uc($bT);
+ 
+ #    print &quot;[$aP]=[$bP]\n&quot;;
+ #    print &quot;[$aS]=[$bS]\n&quot;;
+ #    print &quot;[$aT]=[$bT]\n&quot;;
+ 
+     # Two index terms are the same if:
+     # 1. the primary, secondary, and tertiary entries are the same
+     #    (or have the same SORTAS)
+     # AND
+     # 2. They occur in the same titled section
+     # AND
+     # 3. They point to the same place
+     #
+     # Notes: Scope is used to suppress some entries, but can't be used
+     #          for comparing duplicates.
+     #        Interpretation of &quot;the same place&quot; depends on whether or
+     #          not $linkpoints is true.
+ 
+     $same = (($aP eq $bP)
+ 	     &amp;&amp; ($aS eq $bS)
+ 	     &amp;&amp; ($aT eq $bT)
+ 	     &amp;&amp; ($a-&gt;{'title'} eq $b-&gt;{'title'})
+ 	     &amp;&amp; ($a-&gt;{'href'} eq $b-&gt;{'href'}));
+ 
+     # If we're linking to points, they're only the same if they link
+     # to exactly the same spot.  (surely this is redundant?)
+     $same = $same &amp;&amp; ($a-&gt;{'hrefpoint'} eq $b-&gt;{'hrefpoint'})
+ 	if $linkpoints;
+ 
+     $same;
+ }
+ 
+ sub tsame {
+     # Unlike same(), tsame only compares a single term
+     my($a) = shift;
+     my($b) = shift;
+     my($term) = shift;
+     my($sterm) = substr($term, 0, 1) . &quot;sortas&quot;;
+     my($A, $B);
+ 
+     $A = $a-&gt;{$sterm} || $a-&gt;{$term};
+     $B = $b-&gt;{$sterm} || $b-&gt;{$term};
+ 
+     $A =~ s/^\s*//; $A =~ s/\s*$//; $A = uc($A);
+     $B =~ s/^\s*//; $B =~ s/\s*$//; $B = uc($B);
+ 
+     return $A eq $B;
+ }
+ 
+ sub end_entry {
+     # End any open elements...
+     print OUT &quot;\n  &lt;/$lastout&gt;\n&quot; if $lastout;
+     print OUT &quot;&lt;/indexentry&gt;\n\n&quot;;
+     $lastout = &quot;&quot;;
+ }
+ 
+ sub print_term {
+     # Print out the links for an indexterm.  There can be more than
+     # one if the term has a ZONE that points to more than one place.
+     # (do we do the right thing in that case?)
+     my($idx) = shift;
+     my($key, $indent, @hrefs);
+     my(%href) = ();
+     my(%phref) = ();
+ 
+     $indent = &quot;    &quot;;
+ 
+     if ($idx-&gt;{'see'}) {
+ 	# it'd be nice to make this a link...
+ 	if ($lastout) {
+ 	    print OUT &quot;\n  &lt;/$lastout&gt;\n&quot;;
+ 	    $lastout = &quot;&quot;;
+ 	}
+ 	print OUT $indent, &quot;&lt;seeie&gt;&quot;, $idx-&gt;{'see'}, &quot;&lt;/seeie&gt;\n&quot;;
+ 	return;
+     }
+ 
+     if ($idx-&gt;{'seealso'}) {
+ 	# it'd be nice to make this a link...
+ 	if ($lastout) {
+ 	    print OUT &quot;\n  &lt;/$lastout&gt;\n&quot;;
+ 	    $lastout = &quot;&quot;;
+ 	}
+ 	print OUT $indent, &quot;&lt;seealsoie&gt;&quot;, $idx-&gt;{'seealso'}, &quot;&lt;/seealsoie&gt;\n&quot;;
+ 	return;
+     }
+ 
+     if (keys %{$idx-&gt;{'zone'}}) {
+ 	foreach $key (keys %{$idx-&gt;{'zone'}}) {
+ 	    $href{$key} = $idx-&gt;{'zone'}-&gt;{$key};
+ 	    $phref{$key} = $idx-&gt;{'zone'}-&gt;{$key};
+ 	}
+     } else {
+ 	$href{$idx-&gt;{'href'}} = $idx-&gt;{'title'};
+ 	$phref{$idx-&gt;{'href'}} = $idx-&gt;{'hrefpoint'};
+     }
+ 
+     # We can't use &lt;LINK&gt; because we don't know the ID of the term in the
+     # original source (and, in fact, it might not have one).
+     print OUT &quot;,\n&quot;;
+     @hrefs = keys %href;
+     while (@hrefs) {
+ 	my($linkend) = &quot;&quot;;
+ 	my($role) = &quot;&quot;;
+ 	$key = shift @hrefs;
+ 	if ($linkpoints) {
+ 	    $linkend = $phref{$key};
+ 	} else {
+ 	    $linkend = $key;
+ 	}
+ 
+ 	$role = $linkend;
+ 	$role = $1 if $role =~ /\#(.*)$/;
+ 
+ 	print OUT $indent;
+ 	print OUT &quot;&lt;ulink url=\&quot;$linkend\&quot; role=\&quot;$role\&quot;&gt;&quot;;
+ 	print OUT &quot;&lt;emphasis&gt;&quot; if ($idx-&gt;{'significance'} eq 'PREFERRED');
+ 	print OUT $href{$key};
+ 	print OUT &quot;&lt;/emphasis&gt;&quot; if ($idx-&gt;{'significance'} eq 'PREFERRED');
+ 	print OUT &quot;&lt;/ulink&gt;&quot;;
+     }
+ }
+ 
+ sub termsort {
+     my($aP) = $a-&gt;{'psortas'} || $a-&gt;{'primary'};   
+     my($aS) = $a-&gt;{'ssortas'} || $a-&gt;{'secondary'}; 
+     my($aT) = $a-&gt;{'tsortas'} || $a-&gt;{'tertiary'};  
+     my($ap) = $a-&gt;{'count'};
+ 	                                            
+     my($bP) = $b-&gt;{'psortas'} || $b-&gt;{'primary'};   
+     my($bS) = $b-&gt;{'ssortas'} || $b-&gt;{'secondary'}; 
+     my($bT) = $b-&gt;{'tsortas'} || $b-&gt;{'tertiary'};  
+     my($bp) = $b-&gt;{'count'};
+ 
+     $aP =~ s/^\s*//; $aP =~ s/\s*$//; $aP = uc($aP);
+     $aS =~ s/^\s*//; $aS =~ s/\s*$//; $aS = uc($aS);
+     $aT =~ s/^\s*//; $aT =~ s/\s*$//; $aT = uc($aT);
+     $bP =~ s/^\s*//; $bP =~ s/\s*$//; $bP = uc($bP);
+     $bS =~ s/^\s*//; $bS =~ s/\s*$//; $bS = uc($bS);
+     $bT =~ s/^\s*//; $bT =~ s/\s*$//; $bT = uc($bT);
+ 
+     if ($aP eq $bP) {
+ 	if ($aS eq $bS) {
+ 	    if ($aT eq $bT) {
+ 		# make sure seealso's always sort to the bottom
+ 		return 1 if ($a-&gt;{'seealso'});
+ 		return -1  if ($b-&gt;{'seealso'});
+ 		# if everything else is the same, keep these elements
+ 		# in document order (so the index links are in the right
+ 		# order)
+ 		return $ap &lt;=&gt; $bp;
+ 	    } else {
+ 		return $aT cmp $bT;
+ 	    }
+ 	} else {
+ 	    return $aS cmp $bS;
+ 	}
+     } else {
+ 	return $aP cmp $bP;
+     }
+ }
+ 
+ sub sortsymbols {
+     my(@term) = @_;
+     my(@new) = ();
+     my(@sym) = ();
+     my($letter);
+     my($idx);
+ 
+     # Move the non-letter things to the front.  Should digits be thier
+     # own group?  Maybe...
+     foreach $idx (@term) {
+ 	$letter = $idx-&gt;{'psortas'};
+ 	$letter = $idx-&gt;{'primary'} if !$letter;
+ 	$letter = uc(substr($letter, 0, 1));
+ 
+ 	if (($letter lt 'A') || ($letter gt 'Z')) {
+ 	    push (@sym, $idx);
+ 	} else {
+ 	    push (@new, $idx);
+ 	}
+     }
+ 
+     return (@sym, @new);
+ }
+ 
+ sub safe_open {
+     local(*OUT) = shift;
+     local(*F, $_);
+ 
+     if (($outfile ne '-') &amp;&amp; (!$forceoutput)) {
+ 	my($handedit) = 1;
+ 	if (open (OUT, $outfile)) {
+ 	    while (&lt;OUT&gt;) {
+ 		if (/&lt;!-- Remove this comment if you edit this file by hand! --&gt;/){
+ 		    $handedit = 0;
+ 		    last;
+ 		}
+ 	    } 
+ 	    close (OUT);
+ 	} else {
+ 	    $handedit = 0;
+ 	}
+ 	
+ 	if ($handedit) {
+ 	    print &quot;\n$outfile appears to have been edited by hand; use -f or\n&quot;;
+ 	    print &quot;      change the output file.\n&quot;;
+ 	    exit 1;
+ 	}
+     }
+ 
+     open (OUT, &quot;&gt;$outfile&quot;) || die &quot;$usage\nCannot write to $outfile.\n&quot;;
+ 
+     if ($preamble) { 
+ 	# Copy the preamble
+ 	if (open(F, $preamble)) {
+ 	    while (&lt;F&gt;) {
+ 		print OUT $_;
+ 	    }
+ 	    close(F);
+ 	} else {
+ 	    warn &quot;$0: cannot open preamble $preamble.\n&quot;;
+ 	}
+     }
+ }
Index: docs/manual/makefile
===================================================================
RCS file: makefile
diff -N makefile
*** /dev/null	Fri Mar 23 21:37:44 2001
--- makefile	Mon Dec  3 14:01:51 2001
***************
*** 0 ****
--- 1,69 ----
+ ### Oldham, Jeffrey D.
+ ### 1997 Dec 26
+ ### misc
+ ###
+ ### LaTeX -&gt; PostScript/PDF/WWW
+ ### XML -&gt; TeX/DVI/PS/PDF
+ 
+ # Definitions for PostScript and WWW Creation
+ TEX=		latex
+ WWWHOMEDIR=	/u/oldham/www
+ LATEX2HTML=	latex2html
+ BASICLATEX2HTMLOPTIONS=	-info &quot;&quot; -no_footnode -no_math -html_version 3.2,math
+ #LATEX2HTMLOPTIONS=	-local_icons -split +1 $(BASICLATEX2HTMLOPTIONS)
+ LATEX2HTMLOPTIONS=	-no_navigation -split 0 $(BASICLATEX2HTMLOPTIONS)
+ MPOST=		mpost
+ 
+ # Definitions for Jade.
+ JADEDIR=		/usr/lib/sgml/stylesheets/docbook
+ PRINTDOCBOOKDSL=	print/docbook.dsl
+ HTMLDOCBOOKDSL=		html/docbook.dsl
+ XML=			dtds/decls/xml.dcl
+ INDEXOPTIONS=		-t 'Index' -i 'index' -g -p
+ 
+ CXXFLAGS= -g -Wall -pedantic -W -Wstrict-prototypes -Wpointer-arith -Wbad-function-cast -Wcast-align -Wconversion -Wnested-externs -Wundef -Winline -static
+ 
+ all: outline.ps
+ 
+ %.all:	%.ps %.pdf %.html
+ 	chmod 644 $*.ps $*.pdf
+ 	mv $*.ps $*.pdf $*
+ 
+ %.dvi:	%.ltx
+ 	$(TEX) $&lt;
+ 	# bibtex $*
+ 	# $(TEX) $&lt;
+ 	$(TEX) $&lt;
+ 
+ %.ps:	%.dvi
+ 	dvips -t letter $&lt; -o
+ 
+ %.pdf.ltx:	%.ltx
+ 	sed -e 's/^%\\usepackage{times}/\\usepackage{times}/' $&lt; &gt; $@
+ 
+ %.pdf:	%.pdf.ps
+ 	ps2pdf $&lt; $@
+ 
+ # This rule assumes index creation.
+ %.dvi:	%.xml genindex.sgm
+ 	jade -D$(JADEDIR) -t sgml -d $(HTMLDOCBOOKDSL) -V html-index $(XML) $&lt;
+ 	perl collateindex.pl $(INDEXOPTIONS) -o genindex.sgm HTML.index
+ 	jade -D$(JADEDIR) -t tex -d $(PRINTDOCBOOKDSL) $(XML) $&lt; &amp;&amp; jadetex $*.tex &amp;&amp; jadetex $*.tex &amp;&amp; jadetex $*.tex
+ 
+ genindex.sgm:
+ 	perl collateindex.pl $(INDEXOPTIONS) -N -o $@
+ 
+ %.html:	%.xml
+ 	jade -D$(JADEDIR) -t sgml -d $(HTMLDOCBOOKDSL) $(XML) $&lt;
+ 
+ %.pdf:	%.xml
+ 	jade -D$(JADEDIR) -t tex -d $(PRINTDOCBOOKDSL) $(XML) $&lt; &amp;&amp; pdfjadetex $*.tex &amp;&amp; pdfjadetex $*.tex
+ 
+ mproof-%.ps:	%.mp
+ 	declare -x TEX=latex &amp;&amp; $(MPOST) $&lt; &amp;&amp; tex mproof.tex $*.[0-9]* &amp;&amp; dvips mproof.dvi -o $@
+ 
+ %.txt:	%.ltx
+ 	detex $&lt; &gt; $@
+ 
+ clean:
+ 	rm -f *.dvi *.aux *.log *.toc *.bak *.blg *.bbl *.glo *.idx *.lof *.lot *.htm *.mpx mpxerr.tex HTML.index outline.tex
Index: docs/manual/outline.xml
===================================================================
RCS file: outline.xml
diff -N outline.xml
*** /dev/null	Fri Mar 23 21:37:44 2001
--- outline.xml	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,4287 ----
+ &lt;?xml version=&quot;1.0&quot;?&gt;
+ 
+ &lt;!DOCTYPE book PUBLIC &quot;-//OASIS//DTD DocBook XML V4.1.2//EN&quot; &quot;<A HREF="file://usr/lib/sgml/docbookx.dtd">file://usr/lib/sgml/docbookx.dtd</A>&quot; [
+ 
+ &lt;!-- Text to Check, Revise, Replace --&gt;
+   &lt;!-- FIXME: Revise before releasing. --&gt;
+   &lt;!-- UPDATE: Check before publishing to see if any needs changing. --&gt;
+   &lt;!-- ADD: Write more material. --&gt;
+ 
+ &lt;!-- Index Entity Declarations --&gt;
+ &lt;!ENTITY genindex.sgm SYSTEM &quot;genindex.sgm&quot;&gt;
+ 
+ &lt;!-- General Entity Declarations --&gt;
+ 
+ &lt;!ENTITY book &quot;book&quot;&gt;
+   &lt;!-- Produce a notation for the book/manual/report/WWW page.  --&gt;
+   &lt;!-- Modify this to the desired noun. --&gt;
+ &lt;!ENTITY Book &quot;Book&quot;&gt;
+   &lt;!-- Produce a capitalized version of &book;  --&gt;
+   &lt;!-- Modify this to the desired noun. --&gt;
+ &lt;!ENTITY c &quot;&lt;application class='software'&gt;C&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the C programming language.  --&gt;
+   &lt;!-- Modify this to the desired formatting. --&gt;
+ &lt;!ENTITY cc &quot;&lt;application class='software'&gt;C++&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the C++ programming language.  --&gt;
+   &lt;!-- Modify this to the desired formatting. --&gt;
+ &lt;!ENTITY cheetah &quot;&lt;application class='software'&gt;Cheetah&lt;/application&gt;&quot; &gt;
+   &lt;!-- Produce a notation for the Cheetah Library.  --&gt;
+ &lt;!ENTITY doof2d &quot;&lt;command&gt;Doof2d&lt;/command&gt;&quot; &gt;
+   &lt;!-- Produce a notation for the Doof2d program.  --&gt;
+ &lt;!ENTITY make &quot;&lt;application class='software'&gt;Make&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the GNU Make program.  --&gt;
+ &lt;!ENTITY mm &quot;&lt;application class='software'&gt;MM&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the MM Library.  --&gt;
+ &lt;!ENTITY mpi &quot;&lt;application class='software'&gt;MPI&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the MPI package.  --&gt;
+ &lt;!ENTITY pdt &quot;&lt;application class='software'&gt;PDToolkit&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the PDT software package.  --&gt;
+ &lt;!ENTITY pete &quot;&lt;application class='software'&gt;PETE&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the PETE library.  --&gt;
+ &lt;!ENTITY pooma &quot;&lt;application class='software'&gt;POOMA&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for Pooma software.  --&gt;
+ &lt;!ENTITY poomaToolkit &quot;&lt;application class='software'&gt;POOMA Toolkit&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the Pooma toolkit.  --&gt;
+ &lt;!ENTITY purify &quot;&lt;application class='software'&gt;Purify&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the Purify library.  --&gt;
+ &lt;!ENTITY smarts &quot;&lt;application class='software'&gt;Smarts&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the Smarts software package.  --&gt;
+   &lt;!-- Modify this after capitalization is decided. --&gt;
+ &lt;!ENTITY stl &quot;&lt;application class='software'&gt;STL&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the C++ Standard Template Library software package.  --&gt;
+ &lt;!ENTITY tau &quot;&lt;application class='software'&gt;Tau&lt;/application&gt;&quot;&gt;
+   &lt;!-- Produce a notation for the Tau software package.  --&gt;
+ 
+ &lt;!-- Type Entity Declarations --&gt;
+ 
+ &lt;!ENTITY array &quot;&lt;type&gt;Array&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Array&quot; type. --&gt;
+ &lt;!ENTITY benchmark &quot;&lt;type&gt;Benchmark&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Benchmark&quot; type. --&gt;
+ &lt;!ENTITY brick &quot;&lt;type&gt;Brick&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Brick&quot; engine type. --&gt;
+ &lt;!ENTITY compressiblebrick &quot;&lt;type&gt;CompressibleBrick&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;CompressibleBrick&quot; engine type. --&gt;
+ &lt;!ENTITY distributedtag &quot;&lt;type&gt;DistributedTag&lt;/type&gt;&quot;&gt;
+   &lt;!-- The DistributedTag Layout type. --&gt;
+ &lt;!ENTITY domain &quot;&lt;type&gt;Domain&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Domain&quot; type. --&gt;
+ &lt;!ENTITY double &quot;&lt;type&gt;double&lt;/type&gt;&quot;&gt;
+   &lt;!-- The C &quot;double&quot; type. --&gt;
+ &lt;!ENTITY dynamicarray &quot;&lt;type&gt;DynamicArray&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;DynamicArray&quot; type. --&gt;
+ &lt;!ENTITY engine &quot;&lt;type&gt;Engine&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Engine&quot; type. --&gt;
+ &lt;!ENTITY field &quot;&lt;type&gt;Field&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Field&quot; type. --&gt;
+ &lt;!ENTITY interval &quot;&lt;type&gt;Interval&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Interval&quot; type. --&gt;
+ &lt;!ENTITY layout &quot;&lt;type&gt;Layout&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Layout&quot; type without template parameters. --&gt;
+ &lt;!ENTITY leaffunctor &quot;&lt;type&gt;LeafFunctor&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;LeafFunctor&quot; type. --&gt;
+ &lt;!ENTITY multipatch &quot;&lt;type&gt;MultiPatch&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;MultiPatch&quot; engine without template parameters. --&gt;
+ &lt;!ENTITY replicatedtag &quot;&lt;type&gt;ReplicatedTag&lt;/type&gt;&quot;&gt;
+   &lt;!-- The ReplicatedTag Layout type. --&gt;
+ &lt;!ENTITY stencil &quot;&lt;type&gt;Stencil&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Stencil&quot; type. --&gt;
+ &lt;!ENTITY vector &quot;&lt;type&gt;Vector&lt;/type&gt;&quot;&gt;
+   &lt;!-- The &quot;Vector&quot; type. --&gt;
+ 
+ &lt;!-- Mathematical Entity Declarations --&gt;
+ 
+ &lt;!ENTITY n &quot;n&quot;&gt;
+   &lt;!-- the size of one dimension of an array --&gt;
+ 
+ &lt;!-- System and Operating System Entity Declarations --&gt;
+ &lt;!ENTITY gcc &quot;&lt;application&gt;g++&lt;/application&gt;&quot;&gt;
+   &lt;!-- The GNU Compiler Collection C++ compiler. --&gt;
+ &lt;!ENTITY kcc &quot;&lt;application&gt;KCC&lt;/application&gt;&quot;&gt;
+   &lt;!-- The KAI C++ compiler. --&gt;
+ &lt;!ENTITY linux &quot;&lt;application&gt;Linux&lt;/application&gt;&quot;&gt;
+   &lt;!-- The Linux operating system. --&gt;
+ 
+ &lt;!-- &pooma; URLs and Files --&gt;
+ 
+ &lt;!ENTITY poomaDownloadPage '&lt;ulink url=&quot;<A HREF="http://pooma.codesourcery.com/pooma/download">http://pooma.codesourcery.com/pooma/download</A>&quot;&gt;<A HREF="http://pooma.codesourcery.com/pooma/download&lt;/ulink">http://pooma.codesourcery.com/pooma/download&lt;/ulink</A>&gt;'&gt;
+   &lt;!-- The WWW page supporting downloading the &pooma; source code. --&gt;
+   &lt;!-- UPDATE this URL. --&gt;
+ &lt;!ENTITY poomaHomePage '&lt;ulink url=&quot;<A HREF="http://www.pooma.com/">http://www.pooma.com/</A>&quot;&gt;<A HREF="http://www.pooma.com/&lt;/ulink">http://www.pooma.com/&lt;/ulink</A>&gt;'&gt;
+   &lt;!-- The canonical Pooma home page. --&gt;
+   &lt;!-- UPDATE this filename. --&gt;
+ &lt;!ENTITY poomaSource &quot;pooma-2.3.0&quot;&gt;
+   &lt;!-- The Pooma source code directory. --&gt;
+ &lt;!ENTITY poomaSourceFile &quot;&poomaSource;.tgz&quot;&gt;
+   &lt;!-- The Pooma source code archive. --&gt;
+ &lt;!ENTITY poomaExampleDirectory &quot;examples/Manual&quot;&gt;
+   &lt;!-- The directory holding this manual's example codes. --&gt;
+ 
+ &lt;!-- Spelling and Formatting Decisions --&gt;
+ &lt;!ENTITY author &quot;author&quot;&gt;
+   &lt;!-- A word describing an author xor authors. --&gt;
+   &lt;!-- spelling: element-wise, not elementwise --&gt;
+   &lt;!-- phrase: function object, not functor --&gt;
+   &lt;!-- spelling: multidimensional, not multi-dimensional --&gt;
+   &lt;!-- spelling: multiprocessor, not multi-processor --&gt;
+   &lt;!-- spelling: nonzero, not non-zero --&gt;
+ 
+ &lt;!-- External File Entities --&gt;
+ &lt;!ENTITY doof2d-c-element SYSTEM &quot;./programs/Doof2d-C-element-annotated.cpp&quot;&gt;
+   &lt;!-- hand-coded Doof2d implementation --&gt;
+ &lt;!ENTITY doof2d-array-element SYSTEM &quot;./programs/Doof2d-Array-element-annotated.cpp&quot;&gt;
+   &lt;!-- Array element-wise Doof2d implementation --&gt;
+ &lt;!ENTITY doof2d-array-parallel SYSTEM &quot;./programs/Doof2d-Array-parallel-annotated.cpp&quot;&gt;
+   &lt;!-- Array data-parallel Doof2d implementation --&gt;
+ &lt;!ENTITY doof2d-array-stencil SYSTEM &quot;./programs/Doof2d-Array-stencil-annotated.cpp&quot;&gt;
+   &lt;!-- Array stencil Doof2d implementation --&gt;
+ &lt;!ENTITY doof2d-array-distributed SYSTEM &quot;./programs/Doof2d-Array-distributed-annotated.cpp&quot;&gt;
+   &lt;!-- distributed Array stencil Doof2d implementation --&gt;
+ ]&gt;
+ 
+ &lt;book&gt;
+  &lt;bookinfo&gt;
+   &lt;title&gt;&pooma;&lt;/title&gt;
+   &lt;subtitle&gt;A &cc; Toolkit for High-Performance Parallel Scientific Computing&lt;/subtitle&gt;
+   &lt;author&gt;&lt;firstname&gt;Jeffrey&lt;/firstname&gt;&lt;othername
+   role='mi'&gt;D.&lt;/othername&gt;&lt;surname&gt;Oldham&lt;/surname&gt;
+    &lt;affiliation&gt;
+     &lt;orgname&gt;CodeSourcery, LLC&lt;/orgname&gt;
+    &lt;/affiliation&gt;
+   &lt;/author&gt;
+   &lt;copyright&gt;&lt;year&gt;2001&lt;/year&gt;&lt;holder&gt;CodeSourcery, LLC (&lt;ulink url=&quot;<A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>&quot;&gt;&lt;/ulink&gt;)&lt;/holder&gt;&lt;/copyright&gt;
+   &lt;contractsponsor&gt;Los Alamos National Laboratory&lt;ulink url=&quot;<A HREF="http://www.lanl.gov">http://www.lanl.gov</A>&quot;&gt;&lt;/ulink&gt;&lt;/contractsponsor&gt;
+   &lt;legalnotice&gt;
+    &lt;!-- FIXME: What is the correct legal notice? --&gt;
+    &lt;para&gt;All rights reserved.  This document may not be redistributed in any form without the express permission of the author.&lt;/para&gt;
+   &lt;/legalnotice&gt;
+   &lt;revhistory&gt;
+    &lt;revision&gt;
+     &lt;revnumber&gt;0.01&lt;/revnumber&gt;
+     &lt;date&gt;2001 Nov 26&lt;/date&gt;
+     &lt;authorinitials&gt;jdo&lt;/authorinitials&gt;
+     &lt;revremark&gt;first draft&lt;/revremark&gt;
+    &lt;/revision&gt;
+   &lt;/revhistory&gt;
+  &lt;/bookinfo&gt;
+ 
+  &lt;!-- FINISH: May we have a short table of contents followed by a --&gt;
+  &lt;!-- complete table of contents? --&gt;
+ 
+  &lt;preface id=&quot;preface&quot;&gt;
+   &lt;title&gt;Preface&lt;/title&gt;
+ 
+   &lt;para&gt;FINISH: Describe the target audience for &pooma; programs and
+   for this manual: &cc; programmers writing scientific code, possibly
+   parallel execution.&lt;/para&gt;
+ 
+   &lt;para&gt;Assume familiarity with &cc; template programming and the
+   standard template library.  FIXME: Remove this index
+   entry.&lt;indexterm id=&quot;oldham&quot;&gt;&lt;primary&gt;Oldham,
+   Jeffrey&nbsp;D.&lt;/primary&gt;&lt;/indexterm&gt;&lt;/para&gt;
+ 
+   &lt;section id=&quot;preface-notation&quot;&gt;
+    &lt;title&gt;Notation&lt;/title&gt;
+ 
+    &lt;para&gt;UNFINISHED&lt;/para&gt;
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;preface-reading_book:&quot;&gt;
+    &lt;title&gt;How to Read This &Book;&lt;/title&gt;
+ 
+    &lt;para&gt;FINISH: Write this section in a style similar to Lamport's
+    LaTeX section 1.2.  FINISH: Fix the book title and the section
+    number.&lt;/para&gt;
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;preface-downloading&quot;&gt;
+    &lt;title&gt;Obtaining &pooma; and Sample Programs&lt;/title&gt;
+ 
+    &lt;para&gt;Available for free from what WWW site?  Include what portions
+    of &lt;filename class=&quot;libraryfile&quot;&gt;LICENSE&lt;/filename&gt;?  Be sure to
+    include CVS instructions as well.&lt;/para&gt;
+ 
+    &lt;para&gt;Which additional packages are necessary and when?&lt;/para&gt;
+ 
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;preface-using_modifying&quot;&gt;
+    &lt;title&gt;Using and Modifying &pooma;&lt;/title&gt;
+ 
+    &lt;para&gt;&pooma; is available under open source license.  It can be
+    used and modified by anyone, anywhere.  Can it be sold?  Include
+    &lt;filename class=&quot;libraryfile&quot;&gt;LICENSE&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: How do developers contribute code?&lt;/para&gt;
+ 
+   &lt;/section&gt;
+ 
+  &lt;/preface&gt;
+ 
+ 
+  &lt;part id=&quot;programming&quot;&gt;
+   &lt;title&gt;Programming with &pooma;&lt;/title&gt;
+ 
+   &lt;chapter id=&quot;introduction&quot;&gt;
+    &lt;title&gt;Introduction&lt;/title&gt;
+ 
+    &lt;para&gt;QUESTION: Add a partintro to the part above?&lt;/para&gt;
+ 
+    &lt;para&gt;&pooma; abbreviates &lt;quote&gt;Parallel Object-Oriented Methods
+    and Application&lt;/quote&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;This document is an introduction to &pooma; v2.1, a &cc;
+    toolkit for high-performance scientific computation.  &pooma;
+    runs efficiently on single-processor desktop machines,
+    shared-memory multiprocessors, and parallel supercomputers
+    containing dozens or hundreds of processors. What's more, by making
+    extensive use of the advanced features of the ANSI/ISO &cc;
+    standard&mdash;particularly templates&mdash;&pooma; presents a
+    compact, easy-to-read interface to its users.&lt;/para&gt;
+ 
+    &lt;para&gt;From Section&nbsp; of
+    &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt;:&lt;/para&gt;
+ 
+    &lt;para&gt;Scientific software developers have struggled with the need
+    to express mathematical abstractions in an elegant and maintainable
+    way without sacrificing performance.  The &pooma; (Parallel
+    Object-Oriented Methods and Applications) framework, written in
+    &lt;acronym&gt;ANSI&lt;/acronym&gt;/&lt;acronym&gt;ISO&lt;/acronym&gt; &cc;, has
+    demonstrated both high expressiveness and high performance for
+    large-scale scientific applications on platforms ranging from
+    workstations to massively parallel supercomputers.  &pooma; provides
+    high-level abstractions for multidimensional arrays, physical
+    meshes, mathematical fields, and sets of particles.  &pooma; also
+    exploits techniques such as expression templates to optimize serial
+    performance while encapsulating the details of parallel
+    communication and supporting block-based data compression.
+    Consequently, scientists can quickly assemble parallel simulation
+    codes by focusing directly on the physical abstractions relevant to
+    the system under study and not the technical difficulties of
+    parallel communication and machine-specific optimization.&lt;/para&gt;
+ 
+    &lt;para&gt;ADD: diagram of science and &pooma;.  See the diagram that
+    Mark and I wrote.&lt;/para&gt;
+ 
+ 
+    &lt;section id=&quot;introduction-pooma_evolution&quot;&gt;
+     &lt;title&gt;Evolution of &pooma;&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: Is this interesting?  Even if it is, it should be
+     short.&lt;/para&gt;
+ 
+     &lt;para&gt;The file &lt;filename&gt;papers/SCPaper-95.html&lt;/filename&gt;
+     describes ?&pooma;1? and its abstraction layers.&lt;/para&gt;
+ 
+     &lt;para&gt;The &quot;Introduction&quot; of
+     &lt;filename&gt;papers/Siam0098.ps&lt;/filename&gt; describes the DoE's
+     funding motivation for &pooma;: Accelerated Strategic Computing
+     Initiative (ASCI) and Science-based Stockpile Stewardship (SBSS),
+     pp. 1&ndash;2.&lt;/para&gt;
+ 
+     &lt;para&gt;See list of developers on p.&nbsp;1 of
+     &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;See list of developers on p.&nbsp;1 of
+     &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;.  See history and motivation
+     on p.&nbsp;3 of &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Use &lt;filename class=&quot;libraryfile&quot;&gt;README&lt;/filename&gt; for
+     information.&lt;/para&gt;
+ 
+     &lt;blockquote&gt;
+      &lt;attribution&gt;&lt;filename
+ 			    class=&quot;libraryfile&quot;&gt;introduction.html&lt;/filename&gt;&lt;/attribution&gt;
+ 
+      &lt;para&gt;&pooma; was designed and implemented by scientists working
+      at the Los Alamos National Laboratory's Advanced Computing
+      Laboratory. Between them, these scientists have written and tuned
+      large applications on almost every commercial and experimental
+      supercomputer built in the last two decades. As the technology
+      used in those machines migrates down into departmental computing
+      servers and desktop multiprocessors, &pooma; is a vehicle for its
+      designers' experience to migrate as well. In particular,
+      &pooma;'s authors understand how to get good performance out of
+      modern architectures, with their many processors and multi-level
+      memory hierarchies, and how to handle the subtly complex problems
+      that arise in real-world applications.&lt;/para&gt;
+     &lt;/blockquote&gt;
+ 
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;tutorial&quot;&gt;
+    &lt;title&gt;A Tutorial Introduction&lt;/title&gt;
+ 
+    &lt;para&gt;UPDATE: In the following paragraph, fix the cross-reference
+    to the actual section.&lt;/para&gt;
+ 
+    &lt;para&gt;&pooma; provides different containers and processor
+    configurations and supports different implementation styles, as
+    described in &lt;xref linkend=&quot;introduction&quot;&gt;&lt;/xref&gt;.  In this
+    chapter, we present several different implementations of the
+    &amp;doof2d; two-dimensional diffusion simulation program:
+     &lt;itemizedlist spacing=&quot;compact&quot;&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a C-style implementation omitting any use of &pooma;
+       computing each array element individually,&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a &pooma; &array; implementation computing each array
+       element individually,&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a &pooma; &array; implementation using data-parallel
+       statements,&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a &pooma; &array; implementation using stencils, which
+       support local computations,&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a stencil-based &pooma; &array; implementation supporting
+       computation on multiple processors&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a &pooma; &field; implementation using data-parallel
+       statements, and&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;a data-parallel &pooma; &field; implementation for
+       multi-processor execution.&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/itemizedlist&gt;
+    &lt;/para&gt;
+    &lt;para&gt;These illustrate the &array;, &field;, &engine;, layout,
+    mesh, and domain data types.  They also illustrate various
+    immediate computation styles (element-wise accesses, data-parallel
+    expressions, and stencil computation) and various processor
+    configurations (one sequential processor and multiple
+    processors).&lt;/para&gt;
+ 
+    &lt;figure float=&quot;1&quot; id=&quot;tutorial-doof2d_averagings&quot;&gt;
+     &lt;title&gt;&amp;doof2d; Averagings&lt;/title&gt;
+     &lt;mediaobject&gt;
+      &lt;imageobject&gt;
+       &lt;imagedata fileref=&quot;figures/doof2d.201&quot; format=&quot;EPS&quot; align=&quot;center&quot;&gt;&lt;/imagedata&gt;
+      &lt;/imageobject&gt;
+      &lt;textobject&gt;
+       &lt;phrase&gt;The Initial Configuration&lt;/phrase&gt;
+      &lt;/textobject&gt;
+     &lt;/mediaobject&gt;
+     &lt;mediaobject&gt;
+      &lt;imageobject&gt;
+       &lt;imagedata fileref=&quot;figures/doof2d.202&quot; format=&quot;EPS&quot;&gt;&lt;/imagedata&gt;
+      &lt;/imageobject&gt;
+      &lt;textobject&gt;
+       &lt;phrase&gt;After the First Averaging&lt;/phrase&gt;
+      &lt;/textobject&gt;
+     &lt;/mediaobject&gt;
+     &lt;mediaobject&gt;
+      &lt;imageobject&gt;
+       &lt;imagedata fileref=&quot;figures/doof2d.203&quot; format=&quot;EPS&quot;&gt;&lt;/imagedata&gt;
+      &lt;/imageobject&gt;
+      &lt;textobject&gt;
+       &lt;phrase&gt;After the Second Averaging&lt;/phrase&gt;
+      &lt;/textobject&gt;
+     &lt;/mediaobject&gt;
+    &lt;/figure&gt;
+ 
+    &lt;para&gt;The &amp;doof2d; diffusion program starts with a two-dimensional
+    grid of values.  To model an initial density, all grid values are
+    zero except for one nonzero value in the center.  Each averaging,
+    each grid element, except the outermost ones, updates its value by
+    averaging its value and its eight neighbors.  To avoid overwriting
+    grid values before all their uses occur, we use two arrays, reading
+    the first and writing the second and then reversing their roles
+    within each iteration.&lt;/para&gt;
+ 
+    &lt;para&gt;Figure &lt;xref linkend=&quot;tutorial-doof2d_averagings&quot;&gt;&lt;/xref&gt;
+    illustrates the averagings.  Initially, only the center element has
+    nonzero value.  To form the first averaging, each element's new
+    value equals the average of its and its neighbors' previous values.
+    Thus, the initial nonzero value spreads to a three-by-three grid.
+    The averaging continues, spreading to a five-by-five grid of
+    nonzero values.  Values in outermost grid cells are always
+    zero.&lt;/para&gt;
+ 
+    &lt;para&gt;Before presenting various implementations of %doof2d;, we
+    explain how to install the &poomaToolkit;.&lt;/para&gt;
+ 
+    &lt;para&gt;REMOVE: &amp;doof2d; algorithm and code is illustrated in
+    Section&nbsp;4.1 of
+    &lt;filename&gt;pooma-publications/pooma.ps&lt;/filename&gt;.  It includes a
+    figure illustrating parallel communication of data.&lt;/para&gt;
+ 
+    &lt;section id=&quot;tutorial-installation&quot;&gt;
+     &lt;title&gt;Installing &pooma;&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: How does one install &pooma; using Windows or Mac?&lt;/para&gt;
+ 
+     &lt;para&gt;UPDATE: Make a more recent &pooma; source code file
+     available on &poomaDownloadPage;.  For example,
+     &lt;quote&gt;LINUXgcc.conf&lt;/quote&gt; is not available.&lt;/para&gt;
+ 
+     &lt;para&gt;In this section, we describe how to obtain, build, and
+     install the &poomaToolkit;.  We focus on installing under the
+     Unix operating system.  Instructions for installing on computers
+     running Microsoft Windows or MacOS, as well as more extensive
+     instructions for Unix, appear in &lt;xref
+     linkend=&quot;installation&quot;&gt;&lt;/xref&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Obtain the &pooma; source code &lt;filename
+     path=&quot;<A HREF="http://www.codesourcery.com/pooma/downloads_folder/">http://www.codesourcery.com/pooma/downloads_folder/</A>&quot;&gt;&poomaSourceFile;&lt;/filename&gt;
+     from the &pooma; download page (&poomaDownloadPage;) available off
+     the &pooma; home page (&poomaHomePage;).  The &lt;quote&gt;tgz&lt;/quote&gt;
+     indicates this is a compressed tar archive file.  To extract the
+     source files, use &lt;command&gt;tar xzvf &poomaSourceFile;&lt;/command&gt;.
+     Move into the source code directory &lt;filename
+     class=&quot;directory&quot;&gt;&poomaSource;&lt;/filename&gt; directory; e.g.,
+     &lt;command&gt;cd &poomaSource;&lt;/command&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Configuring the source code prepares the necessary paths for
+     compilation.  First, determine a configuration file in
+     corresponding to your operating system and compiler in the
+     &lt;filename class=&quot;directory&quot;&gt;config/arch/&lt;/filename&gt; directory.
+     For example, &lt;filename
+     class=&quot;libraryfile&quot;&gt;LINUXgcc.conf&lt;/filename&gt; supports compiling
+     under a &linux; operating system with &gcc; and &lt;filename
+     class=&quot;libraryfile&quot;&gt;SGI64KCC.conf&lt;/filename&gt; supports compiling
+     under a 64-bit &lt;application&gt;SGI&lt;/application&gt; Unix operating
+     system with &kcc;.  Then, configure the source code:
+     &lt;command&gt;./configure --arch LINUXgcc --opt --suite
+     LINUXgcc-opt&lt;/command&gt;.  The architecture argument to the
+     &lt;command&gt;--arch&lt;/command&gt; option is the name of the corresponding
+     configuration file, omitting its &lt;filename
+     class=&quot;libraryfile&quot;&gt;.conf&lt;/filename&gt; suffix.  The
+     &lt;command&gt;--opt&lt;/command&gt; indicates the &poomaToolkit; will
+     contain optimized source code, which makes the code run more
+     quickly but may impede debugging.  Alternatively, the
+     &lt;command&gt;--debug&lt;/command&gt; option supports debugging.  The
+     &lt;glossterm linkend=&quot;glossary-suite_name&quot;&gt;suite name&lt;/glossterm&gt;
+     can be any arbitrary string.  We chose
+     &lt;command&gt;LINUXgcc-opt&lt;/command&gt; to remind us of the architecture
+     and optimization choice.  &lt;filename
+     class=&quot;libraryfile&quot;&gt;configure&lt;/filename&gt; creates subdirectories
+     named by the suite name &lt;quote&gt;LINUXgcc-opt&lt;/quote&gt; for use when
+     compiling the source files.  Comments at the beginning of
+     &lt;filename
+     class=&quot;libraryfile&quot;&gt;lib/&lt;replaceable&gt;suiteName&lt;/replaceable&gt;/PoomaConfiguration.h&lt;/filename&gt;
+     record the configuration arguments.&lt;/para&gt;
+ 
+     &lt;para&gt;To compile the source code, set the
+     &lt;envar&gt;POOMASUITE&lt;/envar&gt; environment variable to the suite name
+     and then type &lt;command&gt;make&lt;/command&gt;.  To set the environment
+     variable for the &lt;application&gt;bash&lt;/application&gt; shell use
+     &lt;command&gt;export
+     POOMASUITE=&lt;replaceable&gt;suiteName&lt;/replaceable&gt;&lt;/command&gt;,
+     substituting the suite name's
+     &lt;replaceable&gt;suiteName&lt;/replaceable&gt;.  For the
+     &lt;application&gt;csh&lt;/application&gt; shell, use &lt;command&gt;setenv
+     POOMASUITE LINUXgcc-opt&lt;/command&gt;.  Issuing the
+     &lt;command&gt;make&lt;/command&gt; command compiles the &pooma; source code
+     files to create the &pooma; library.  The &pooma; makefiles assume
+     the &lt;trademark&gt;GNU&lt;/trademark&gt; &make; so substitute the proper
+     command if necessary.  The &pooma; library can be found in, e.g.,
+     &lt;filename
+     class=&quot;libraryfile&quot;&gt;lib/LINUXgcc-opt/libpooma-gcc.a&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;tutorial-hand_coded&quot;&gt;
+     &lt;title&gt;Hand-Coded Implementation&lt;/title&gt;
+ 
+     &lt;para&gt;Before implementing &amp;doof2d; using the &poomaToolkit;, we
+     present a hand-coded implementation of &amp;doof2d;.  See &lt;xref
+     linkend=&quot;tutorial-hand_coded-doof2d&quot;&gt;&lt;/xref&gt;.  After querying the
+     user for the number of averagings, the arrays' memory is
+     allocated.  Since the arrays' size is not known at compile time,
+     the arrays are accesses via pointers to allocated dynamic memory.
+     This memory is deallocated at the program's end to avoid memory
+     leaks.  The arrays are initialized with initial conditions.  For
+     the &lt;varname&gt;b&lt;/varname&gt; array, all values except the central ones
+     have nonzero values.  Only the outermost values of the
+     &lt;varname&gt;a&lt;/varname&gt; array need be initialized to zero, but we
+     instead initialize them all using the loop used by
+     &lt;varname&gt;b&lt;/varname&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;The simulation's kernel consists of triply nested loops.
+     The outermost loop controls the number of iterations.  The inner
+     nested loops iterate through the arrays' elements, excepting the
+     outermost elements; note the loop indices range from 1 to n-2
+     while the array indices range from 0 to n-1.  Each
+     &lt;varname&gt;a&lt;/varname&gt; value is assigned the average of its
+     corresponding value in &lt;varname&gt;b&lt;/varname&gt; and the latter's
+     neighbors.  Values in the two-dimensional grids are accessed using
+     two sets of brackets, e.g., &lt;statement&gt;a[i][j]&lt;/statement&gt;.  After
+     assigning values to &lt;varname&gt;a&lt;/varname&gt;, a second averaging reads
+     values in &lt;varname&gt;a&lt;/varname&gt;, writing values in
+     &lt;varname&gt;b&lt;/varname&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;After the kernel finishes, the final central value is
+     printed.  If the desired number of averagings is even, the value
+     in &lt;varname&gt;b&lt;/varname&gt; is printed; otherwise, the value in
+     &lt;varname&gt;a&lt;/varname&gt; is used.  Finally, the dynamically-allocated
+     memory must be freed to avoid memory leaks.&lt;/para&gt;
+ 
+     &lt;example id=&quot;tutorial-hand_coded-doof2d&quot;&gt;
+      &lt;title&gt;Hand-Coded Implementation of &amp;doof2d;&lt;/title&gt;
+      &amp;doof2d-c-element;
+      &lt;calloutlist&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-nuaveragings&quot;&gt;
+        &lt;para&gt;The user specifies the desired number of averagings.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-array_storage&quot;&gt;
+        &lt;para&gt;These variables point to the two-dimensional,
+        dynamically-allocated grids so we use a pointer to a pointer to
+        a &double;.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-grid_size&quot;&gt;
+        &lt;para&gt;The user enters the desired grid size.  The grid will be
+        a square with &lt;varname&gt;n&lt;/varname&gt; by &lt;varname
+        lang=&quot;c++&quot;&gt;n&lt;/varname&gt; grid cells.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-allocation&quot;&gt;
+        &lt;para&gt;Memory for the arrays is allocated.  By default, the
+        array indices are zero-based.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-initialization&quot;&gt;
+        &lt;para&gt;Initially, all grid values are zero except for the one
+        nonzero value at the center of the second array.  Array
+        positions are indicated using two brackets, e.g.,
+        &lt;statement&gt;a[i][j]&lt;/statement&gt;.  A better implementation might
+        initialize only the outermost values of the
+        &lt;varname&gt;a&lt;/varname&gt; array.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-constants&quot;&gt;
+        &lt;para&gt;These constants indicate the number of iterations, and
+        the average weighting.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-first_write&quot;&gt;
+        &lt;para&gt;Each &lt;varname&gt;a&lt;/varname&gt; value, except an outermost one,
+        is assigned the average of its analogous &lt;varname&gt;b&lt;/varname&gt;
+        value and that value's neighbors.  Note the loop indices ensure
+        the outermost values are not changed.  The
+        &lt;varname&gt;weight&lt;/varname&gt;'s value ensures the computation is an
+        average.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-second_write&quot;&gt;
+        &lt;para&gt;The second averaging computes &lt;varname&gt;b&lt;/varname&gt;'s
+        values using values stored in &lt;varname&gt;a&lt;/varname&gt;.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-answer&quot;&gt;
+        &lt;para&gt;After the averagings finish, the central value is printed.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-hand_coded-doof2d-deallocation&quot;&gt;
+        &lt;para&gt;The dynamically-allocated memory must be deallocated to
+        avoid memory leaks.&lt;/para&gt;
+       &lt;/callout&gt;
+      &lt;/calloutlist&gt;
+     &lt;/example&gt;
+ 
+     &lt;para&gt;To compile the executable, change directories to the &pooma;
+     &lt;filename
+     class=&quot;directory&quot;&gt;&poomaExampleDirectory;/Doof2d&lt;/filename&gt;
+     directory.  Ensure the &lt;envar&gt;POOMASUITE&lt;/envar&gt; environment
+     variable specifies the desired suite name
+     &lt;replaceable&gt;suiteName&lt;/replaceable&gt;, as we did when compiling
+     &pooma; in the previous section &lt;xref
+     linkend=&quot;tutorial-installation&quot;&gt;&lt;/xref&gt;.  Issuing the
+     &lt;command&gt;make Doof2d-C-element&lt;/command&gt; command creates the
+     executable
+     &lt;command&gt;&lt;replaceable&gt;suiteName&lt;/replaceable&gt;/Doof2d-C-element&lt;/command&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;When running the executable, specify the desired a
+     nonnegative number of averagings and the nonnegative number of
+     grid cells along any dimension.  The resulting grid has the same
+     number of cells along each dimension.  After the executable
+     finishes, the resulting value of the central element is
+     printed.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;tutorial-array_elementwise&quot;&gt;
+     &lt;title&gt;Element-wise &array; Implementation&lt;/title&gt;
+ 
+     &lt;para&gt;The simplest way to use the &poomaToolkit; is to
+     use the &pooma; &array; class instead of &c; arrays.  &array;s
+     automatically handle memory allocation and deallocation, support a
+     wider variety of assignments, and can be used in expressions.
+     &lt;xref linkend=&quot;tutorial-array_elementwise-doof2d&quot;&gt;&lt;/xref&gt;
+     implements &amp;doof2d; using &array;s and element-wise accesses.
+     Since the same algorithm is used as &lt;xref
+     linkend=&quot;tutorial-hand_coded-doof2d&quot;&gt;&lt;/xref&gt;, we will concentrate
+     on the differences.&lt;/para&gt;
+ 
+     &lt;example id=&quot;tutorial-array_elementwise-doof2d&quot;&gt;
+      &lt;title&gt;Element-wise &array; Implementation of &amp;doof2d;&lt;/title&gt;
+      &amp;doof2d-array-element;
+      &lt;calloutlist&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-header&quot;&gt;
+        &lt;para&gt;To use &pooma; &array;s, the &lt;filename
+        class=&quot;headerfile&quot;&gt;Pooma/Arrays.h&lt;/filename&gt; must be included.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-pooma_initialize&quot;&gt;
+        &lt;para&gt;The &poomaToolkit; structures must be constructed before
+        their use.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-domain&quot;&gt;
+        &lt;para&gt;Before creating an &array;, its domain must be specified.
+        The &lt;varname&gt;N&lt;/varname&gt; interval represents the
+        one-dimensional integral set {0, 1, 2, &hellip;, n-1}.  An
+        &lt;type&gt;Interval&lt;2&gt;&lt;/type&gt; object represents the entire
+        two-dimensional index domain.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-array_creation&quot;&gt;
+        &lt;para&gt;An &array;'s template parameters indicate its dimension,
+        its value type, and how the values will be stored or computed.
+        The &brick; &engine; type indicates values will be directly
+        stored.  It is responsible for allocating and deallocating
+        storage so &lt;statement&gt;new&lt;/statement&gt; and
+        &lt;statement&gt;delete&lt;/statement&gt; statements are not necessary.
+        The &lt;varname&gt;vertDomain&lt;/varname&gt; specifies the array index
+        domain.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-initialization&quot;&gt;
+        &lt;para&gt;The first statement initializes all &array; values to the
+        same scalar value.  This is possible because each &array;
+        &lt;quote&gt;knows&lt;/quote&gt; its domain.  The second statement
+        illustrates &array; element access.  Indices, separated by
+        commas, are surrounded by parentheses rather than surrounded by
+        square brackets (&lt;statement&gt;[]&lt;/statement&gt;).&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-first_write&quot;&gt;
+        &lt;para&gt;&array; element access uses parentheses, rather than
+        square brackets&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-blockAndEvaluate&quot;&gt;
+        &lt;para&gt;&pooma; may reorder computation of statements.  Calling
+        &lt;function&gt;Pooma::blockAndEvaluate&lt;/function&gt; ensures all
+        computation finishes before accessing a particular array
+        element.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-deallocation&quot;&gt;
+        &lt;para&gt;Since &array;s are first-class objects, they
+        automatically deallocate any memory they require, eliminating
+        memory leaks.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_elementwise-doof2d-pooma_finish&quot;&gt;
+        &lt;para&gt;The &poomaToolkit; structures must be destructed after
+        their use.&lt;/para&gt;
+       &lt;/callout&gt;
+      &lt;/calloutlist&gt;
+     &lt;/example&gt;
+ 
+     &lt;para&gt;We describe the use of &array; and the &poomaToolkit; in
+     &lt;xref linkend=&quot;tutorial-array_elementwise-doof2d&quot;&gt;&lt;/xref&gt;.
+     &array;s, declared in the &lt;filename
+     class=&quot;headerfile&quot;&gt;Pooma/Arrays.h&lt;/filename&gt;, are first-class
+     objects.  They &lt;quote&gt;know&lt;/quote&gt; their index domain, can be used
+     in expressions, can be assigned scalar and array values, and
+     handle their own memory allocation and deallocation.&lt;/para&gt;
+ 
+     &lt;para&gt;The creation of the &lt;varname&gt;a&lt;/varname&gt; and
+     &lt;varname&gt;b&lt;/varname&gt; &array;s requires an object specifying their
+     index domains.  Since these are two-dimensional arrays, their
+     index domains are also two dimensional.  The two-dimensional
+     &lt;type&gt;Interval&lt;2&gt;&lt;/type&gt; object is the Cartesian product of
+     two one-dimensional &lt;type&gt;Interval&lt;1&gt;&lt;/type&gt; objects, each
+     specifying the integral set {0, 1, 2, &hellip;, n-1}.&lt;/para&gt;
+ 
+     &lt;para&gt;An &array;'s template parameters indicate its dimension, the
+     type of its values, and how the values are stored.  Both
+     &lt;varname&gt;a&lt;/varname&gt; and &lt;varname&gt;b&lt;/varname&gt; are two-dimension
+     arrays storing &double;s so their &lt;varname&gt;dimension&lt;/varname&gt;
+     is&nbsp;2 and its element type is &double;.  An &engine; stores an
+     &array;'s values.  For example, a &brick; &engine; explicitly
+     stores all values.  A &compressiblebrick; &engine; also explicitly
+     stores values if more than value is present, but, if all values
+     are the same, storage for just that value is required.  Since an
+     engine can store its values any way it desires, it might instead
+     compute its values using a function or compute the values stored
+     in separate engines.  In practice, most explicitly specified
+     &engine;s are either &brick; or &compressiblebrick;.&lt;/para&gt;
+ 
+     &lt;para&gt;&array;s support both element-wise access and scalar
+     assignment.  Element-wise access uses parentheses, not square
+     brackets.  For example, &lt;statement&gt;b(n/2,n/2)&lt;/statement&gt;
+     specifies the central element.  The scalar assignment &lt;statement&gt;b
+     = 0.0&lt;/statement&gt; assigns the same 0.0 value to all array
+     elements.  This is possible because the array knows the extent of
+     its domain.&lt;/para&gt;
+ 
+     &lt;para&gt;After the kernel finishes, the central value is printed out.
+     Just prior to this &array; access, a call to
+     &lt;statement&gt;Pooma::blockAndEvaluate()&lt;/statement&gt; ensures all
+     computation has finished.  &pooma; may reorder computation or
+     distribute them among various processors.  Before reading an
+     individual &array; value, &lt;function&gt;blockAndEvaluate&lt;/function&gt;
+     ensures the value has the correct value.  Calling this function is
+     necessary only when accessing individual array elements because
+     &pooma; cannot determine when to call the function itself. For
+     example, before printing an array, &pooma; will call
+     &lt;function&gt;blockAndEvaluate&lt;/function&gt; itself.&lt;/para&gt;
+ 
+     &lt;para&gt;Any program using the &poomaToolkit; must initialize the
+     toolkit's data structures using
+     &lt;statement&gt;Pooma::initialize(argc,argv)&lt;/statement&gt;.  This
+     extracts &pooma;-specific command-line options from the
+     command-line arguments in &lt;varname&gt;argv&lt;/varname&gt; and initializes
+     the inter-processor communication and other data structures.  When
+     finished, &lt;statement&gt;Pooma::finalize()&lt;/statement&gt; ensures all
+     computation has finished and the communication and other data
+     structures are destructed.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;tutorial-data_parallel&quot;&gt;
+     &lt;title&gt;Data-Parallel &array; Implementation&lt;/title&gt;
+ 
+     &lt;para&gt;&pooma; supports data-parallel &array; accesses.  Many
+     algorithms are more easily expressed using data-parallel
+     expressions.  Also, the &poomaToolkit; might be able to reorder
+     the data-parallel computations to be more efficient or distribute
+     them among various processors.  In this section, we concentrate
+     the differences between the data-parallel implementation of
+     &amp;doof2d; listed in &lt;xref
+     linkend=&quot;tutorial-array_parallel-doof2d&quot;&gt;&lt;/xref&gt; and the
+     element-wise implementation listed in the previous section &lt;xref
+     linkend=&quot;tutorial-array_elementwise&quot;&gt;&lt;/xref&gt;.&lt;/para&gt;
+ 
+     &lt;example id=&quot;tutorial-array_parallel-doof2d&quot;&gt;
+      &lt;title&gt;Data-Parallel &array; Implementation of &amp;doof2d;&lt;/title&gt;
+      &amp;doof2d-array-parallel;
+      &lt;calloutlist&gt;
+       &lt;callout arearefs=&quot;tutorial-array_parallel-doof2d-innerdomain&quot;&gt;
+        &lt;para&gt;These variables specify one-dimensional domains {1, 2,
+        &hellip;, n-2}.  Their Cartesian product specifies the domain
+        of the array values that are modified.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_parallel-doof2d-first_write&quot;&gt;
+        &lt;para&gt;Data-parallel expressions replace nested loops and array
+        element accesses.  For example, &lt;statement&gt;a(I,J)&lt;/statement&gt;
+        represents the subset of the &lt;varname&gt;a&lt;/varname&gt; array having
+        a domain equal to the Cartesian product of &lt;varname&gt;I&lt;/varname&gt;
+        and &lt;varname&gt;J&lt;/varname&gt;.  Intervals can shifted by an additive
+        or multiplicative constant.&lt;/para&gt;
+       &lt;/callout&gt;
+      &lt;/calloutlist&gt;
+     &lt;/example&gt;
+ 
+     &lt;para&gt;Data-parallel expressions apply domain objects to containers
+     to indicate a set of parallel expressions.  For example, in the
+     program listed above, &lt;statement&gt;a(I,J)&lt;/statement&gt; specifies all
+     of &lt;varname&gt;a&lt;/varname&gt; array excepting the outermost elements.
+     The array's &lt;varname&gt;vertDomain&lt;/varname&gt; domain consists of the
+     Cartesian product of {0, 1, 2, &hellip;, n-1} and itself, while
+     &lt;varname&gt;I&lt;/varname&gt; and &lt;varname&gt;J&lt;/varname&gt; each specify {1, 2,
+     &hellip;, n-2}.  Thus, &lt;statement&gt;a(I,J)&lt;/statement&gt; is the subset
+     with a domain of the Cartesian product of {1, 2, &hellip;, n-2}
+     and itself.  It is called a &lt;firstterm&gt;view&lt;/firstterm&gt; of an
+     array.  It is itself an array, with a domain and supporting
+     element access, but its storage is the same as
+     &lt;varname&gt;a&lt;/varname&gt;'s.  Changing a value in
+     &lt;statement&gt;a(I,J)&lt;/statement&gt; also changes the same value in
+     &lt;varname&gt;a&lt;/varname&gt;.  Changing a value in the latter also changes
+     the former if the value is not one of &lt;varname&gt;a&lt;/varname&gt;'s
+     outermost elements.  The expression
+     &lt;statement&gt;b(I+1,J+1)&lt;/statement&gt; indicates the subset of
+     &lt;varname&gt;b&lt;/varname&gt; with a domain consisting of the Cartesian
+     product of {2, 3, &hellip;, n-1}, i.e., the same domain as
+     &lt;statement&gt;a(I,J)&lt;/statement&gt; but shifted up one unit and to the
+     right one unit.  Only an &interval;'s value, not its name, is
+     important.  Thus, all uses of &lt;varname&gt;J&lt;/varname&gt; in this program
+     could be replaced by &lt;varname&gt;I&lt;/varname&gt; without changing the
+     semantics.&lt;/para&gt;
+ 
+     &lt;figure float=&quot;1&quot; id=&quot;tutorial-array_parallel-doof2d-adding_arrays&quot;&gt;
+      &lt;title&gt;Adding &array;s&lt;/title&gt;
+      &lt;mediaobject&gt;
+       &lt;imageobject&gt;
+        &lt;imagedata fileref=&quot;figures/doof2d.210&quot; format=&quot;EPS&quot; align=&quot;center&quot;&gt;&lt;/imagedata&gt;
+       &lt;/imageobject&gt;
+       &lt;textobject&gt;
+        &lt;phrase&gt;Adding two arrays with different domains.&lt;/phrase&gt;
+       &lt;/textobject&gt;
+       &lt;caption&gt;
+        &lt;para&gt;When adding arrays, values in corresponding positions are
+        added even if they have different indices, indicated by the
+        small numbers adjacent to the arrays.&lt;/para&gt;
+       &lt;/caption&gt;
+      &lt;/mediaobject&gt;
+     &lt;/figure&gt;
+ 
+     &lt;para&gt;The statement assigning to &lt;statement&gt;a(I,J)&lt;/statement&gt;
+     illustrates that &array;s may participate in expressions.  Each
+     addend is a view of an array, which is itself an array.  Each view
+     has the same domain size so their sum can be formed by
+     corresponding elements of each array.  For example, the lower,
+     left element of the result equals the sum of the lower, left
+     elements of the addend arrays.  For the computation, indices are
+     ignored; only the relative positions within each domain are used.
+     &lt;xref
+     linkend=&quot;tutorial-array_parallel-doof2d-adding_arrays&quot;&gt;&lt;/xref&gt;
+     illustrates adding two arrays with different domain indices.  The
+     indices are indicated by the small numbers to the left and the
+     bottom of the arrays.  Even though 9 and 3 have different indices
+     (1,1) and (2,0), they are added to each other because they have
+     the same relative positions within the addends.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;tutorial-stencil&quot;&gt;
+     &lt;title&gt;Stencil &array; Implementation&lt;/title&gt;
+ 
+     &lt;para&gt;Many computations are local, computing a &array;'s value by
+     using close-by &array; values.  Encapsulating this computation in
+     a stencil can yield faster code because the compiler can determine
+     all accesses come from the same array.  Each stencil consists of a
+     function object and an indication of the stencil's extent.&lt;/para&gt;
+ 
+     &lt;example id=&quot;tutorial-array_stencil-doof2d&quot;&gt;
+      &lt;title&gt;Stencil &array; Implementation of &amp;doof2d;&lt;/title&gt;
+      &amp;doof2d-array-stencil;
+      &lt;calloutlist&gt;
+       &lt;callout arearefs=&quot;tutorial-array_stencil-doof2d-stencil&quot;&gt;
+        &lt;para&gt;A stencil is a function object implementing a local
+        operation on an &array;.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout
+        arearefs=&quot;tutorial-array_stencil-doof2d-stencil_operator&quot;&gt;
+        &lt;para&gt;&pooma; applies this function call
+        &lt;function&gt;operator()&lt;/function&gt; to the interior domain of an
+        &array;.  Although not strictly necessary, the function's
+        template parameter &lt;varname&gt;C&lt;/varname&gt; permits using this
+        stencil with &array;s and other containers.  The
+        &lt;function&gt;read&lt;/function&gt; &array; member function supports only
+        reading values, not writing values, thus possibly permitting
+        faster access.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_stencil-doof2d-stencil_extent&quot;&gt;
+        &lt;para&gt;These two functions indicate the stencil's size.  For
+        each dimension, the stencil extends one cell to the left of (or
+        below) its center and also one call to the right (or above) its
+        center.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout
+        arearefs=&quot;tutorial-array_stencil-doof2d-stencil_creation&quot;&gt;
+        &lt;para&gt;Create the stencil.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_stencil-doof2d-first_write&quot;&gt;
+        &lt;para&gt;Applying &lt;varname&gt;stencil&lt;/varname&gt; to the
+        &lt;varname&gt;b&lt;/varname&gt; array and a subset
+        &lt;varname&gt;interiorDomain&lt;/varname&gt; of its domain yields an
+        array, which is assigned to a subset of &lt;varname&gt;a&lt;/varname&gt;.
+        The stencil's function object is applied to each position in
+        the specified subset of &lt;varname&gt;b&lt;/varname&gt;.&lt;/para&gt;
+       &lt;/callout&gt;
+      &lt;/calloutlist&gt;
+     &lt;/example&gt;
+ 
+     &lt;para&gt;Before we describe how to create a stencil, we describe how
+     to apply a stencil to an array, yielding values.  To compute the
+     value associated with index position (1,3), the stencil's center
+     is placed at (1,3).  The stencil's
+     &lt;function&gt;upperExtent&lt;/function&gt; and
+     &lt;function&gt;lowerExtent&lt;/function&gt; functions indicate which &array;
+     values the stencil's function will use.  See &lt;xref
+     linkend=&quot;tutorial-array_stencil-doof2d-apply_stencil&quot;&gt;&lt;/xref&gt;.
+     Applying the stencil's function call
+     &lt;function&gt;operator()&lt;/function&gt; yields the computed value.  To
+     compute multiple &array; values, apply a stencil to the array and
+     a domain object: &lt;statement&gt;stencil(b,
+     interiorDomain)&lt;/statement&gt;.  This applies the stencil to each
+     position in the domain.  The user must ensure that applying the
+     stencil does not access nonexistent &array; values.&lt;/para&gt;
+ 
+     &lt;figure float=&quot;1&quot; id=&quot;tutorial-array_stencil-doof2d-apply_stencil&quot;&gt;
+      &lt;title&gt;Applying a Stencil to an &array;&lt;/title&gt;
+      &lt;mediaobject&gt;
+       &lt;imageobject&gt;
+        &lt;imagedata fileref=&quot;figures/doof2d.211&quot; format=&quot;EPS&quot; align=&quot;center&quot;&gt;&lt;/imagedata&gt;
+       &lt;/imageobject&gt;
+       &lt;textobject&gt;
+        &lt;phrase&gt;Apply a stencil to position (1,3) of an array.&lt;/phrase&gt;
+       &lt;/textobject&gt;
+       &lt;caption&gt;
+        &lt;para&gt;To compute the value associated with index position (1,3)
+        of an array, place the stencil's center, indicated with dashed
+        lines, at the position.  The computation involves the array
+        values covered by the array and delineated by
+        &lt;function&gt;upperExtent&lt;/function&gt; and
+        &lt;function&gt;lowerExtent&lt;/function&gt;.&lt;/para&gt;
+       &lt;/caption&gt;
+      &lt;/mediaobject&gt;
+     &lt;/figure&gt;
+ 
+     &lt;para&gt;To create a stencil object, apply the &stencil; type to a
+     function object class.  For example,
+     &lt;statement&gt;Stencil&lt;DoofNinePt&gt; stencil&lt;/statement&gt; declares
+     the &lt;varname&gt;stencil&lt;/varname&gt; object.  The function object class
+     must define a function call &lt;function&gt;operator()&lt;/function&gt; with a
+     container parameter and index parameters.  The number of index
+     parameters, indicating the stencil's center, must equal the
+     container's dimension.  For example, &lt;type&gt;DoofNinePt&lt;/type&gt;
+     defines &lt;methodname&gt;operator()(const C&amp; c, int i, int
+     j)&lt;/methodname&gt;.  We templated the container type
+     &lt;varname&gt;C&lt;/varname&gt; although this is not strictly necessary.  The
+     two index parameters &lt;varname&gt;i&lt;/varname&gt; and &lt;varname&gt;j&lt;/varname&gt;
+     ensure the stencil works with two-dimensional containers.  The
+     &lt;methodname&gt;lowerExtent&lt;/methodname&gt; indicates how far to the left
+     (or below) the stencil extends beyond its center.  Its parameter
+     indicates a particular dimension.  Index parameters
+     &lt;varname&gt;i&lt;/varname&gt; and &lt;varname&gt;j&lt;/varname&gt; are in dimension 0
+     and&nbsp;1.  &lt;methodname&gt;upperExtent&lt;/methodname&gt; serves an
+     analogous purpose.  The &poomaToolkit; uses these functions when
+     distribution computation among various processors, but it does not
+     use these functions to ensure nonexistent &array; values are not
+     accessed.  Caveat stencil user!&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;tutorial-distributed&quot;&gt;
+     &lt;title&gt;Distributed &array; Implementation&lt;/title&gt;
+ 
+     &lt;para&gt;A &pooma; program can execute on one or multiple processors.
+     To convert a program designed for uniprocessor execution to a
+     program designed for multiprocessor execution, the programmer need
+     only specify how each container's domain should be split into
+     &lt;quote&gt;patches&lt;/quote&gt;.  The &poomaToolkit; automatically
+     distributes the data among the available processors and handles
+     any required communication between processors.&lt;/para&gt;
+ 
+     &lt;example id=&quot;tutorial-array_distributed-doof2d&quot;&gt;
+      &lt;title&gt;Distributed Stencil &array; Implementation of &amp;doof2d;&lt;/title&gt;
+      &amp;doof2d-array-distributed;
+      &lt;calloutlist&gt;
+       &lt;callout arearefs=&quot;tutorial-array_distributed-doof2d-nuprocessors&quot;&gt;
+        &lt;para&gt;The number of processors executing a &pooma; program can
+        be specified at run-time.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_distributed-doof2d-layout&quot;&gt;
+        &lt;para&gt;The &lt;type&gt;UniformGridPartition&lt;/type&gt; declaration
+        specifies how an array's domain will be partition, of split,
+        into patches.  Guard layers are an optimization that can reduce
+        data communication between patches.  The
+        &lt;type&gt;UniformGridLayout&lt;/type&gt; declaration applies the
+        partition to the given domain, distributing the resulting
+        patches among various processors.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout arearefs=&quot;tutorial-array_distributed-doof2d-remote&quot;&gt;
+        &lt;para&gt;The &lt;type&gt;MultiPatch&lt;/type&gt; &engine; distributes requests
+        for &array; values to the associated patch.  Since a patch may
+        associated with a different processor, its
+        &lt;quote&gt;remote&lt;/quote&gt; engine has type
+        &lt;type&gt;Remote&lt;Brick&gt;&lt;/type&gt;.  &pooma; automatically
+        distributes the patches among available memories and
+        processors.&lt;/para&gt;
+       &lt;/callout&gt;
+       &lt;callout
+        arearefs=&quot;tutorial-array_distributed-doof2d-first_write&quot;&gt;
+        &lt;para&gt;The stencil computation, whether for one processor or
+        multiple processors, is the same.&lt;/para&gt;
+       &lt;/callout&gt;
+      &lt;/calloutlist&gt;
+     &lt;/example&gt;
+ 
+     &lt;para&gt;Supporting distributed computation requires only minor code
+     changes.  These changes specify how each container's domain is
+     distributed among the available processors.  The rest of the
+     program, including all the computations, remains the same.  When
+     running, the &pooma; executable interacts with the run-time
+     library to determine which processors are available, distributes
+     the containers' domains, and automatically handles all necessary
+     interprocessor communication.  The same executable runs on one or
+     many processors.  Thus, the programmer can write one program,
+     debugging it on a uniprocessor computer and running it on a
+     supercomputer.&lt;/para&gt;
+ 
+     &lt;figure float=&quot;1&quot; id=&quot;tutorial-array_distributed-doof2d-distributed_model&quot;&gt;
+      &lt;title&gt;The &pooma; Distributed Computation Model&lt;/title&gt;
+      &lt;mediaobject&gt;
+       &lt;imageobject&gt;
+        &lt;imagedata fileref=&quot;figures/distributed.101&quot; format=&quot;EPS&quot; align=&quot;center&quot;&gt;&lt;/imagedata&gt;
+       &lt;/imageobject&gt;
+       &lt;textobject&gt;
+        &lt;phrase&gt;the &pooma; distributed computation model.&lt;/phrase&gt;
+       &lt;/textobject&gt;
+       &lt;caption&gt;
+        &lt;para&gt;The &pooma; distributed computation model combines
+        partitioning containers' domains and the computer configuration
+        to create a layout.&lt;/para&gt;
+       &lt;/caption&gt;
+      &lt;/mediaobject&gt;
+     &lt;/figure&gt;
+ 
+     &lt;para&gt;&pooma;'s distributed computing model separates container
+     domain concepts from computer configuration concepts.  See &lt;xref
+     linkend=&quot;tutorial-array_distributed-doof2d-distributed_model&quot;&gt;&lt;/xref&gt;.
+     The program indicates how each container's domain will be
+     partitioned.  This process is represented in the upper left corner
+     of the figure.  A user-specified partition specifies how to split
+     the domain into pieces.  For example, the illustrated partition
+     splits the domain into three equal-sized pieces along the
+     x-dimension and two equal-sized pieces along the y-dimension.
+     Thus, the domain is split into &lt;firstterm&gt;patches&lt;/firstterm&gt;.
+     The partition also specifies external and internal guard layers.
+     A &lt;firstterm&gt;guard layer&lt;/firstterm&gt; is a domain surrounding a
+     patch.  A patch's computation only reads but does not write these
+     values.  An &lt;firstterm&gt;external guard layer&lt;/firstterm&gt;
+     conceptually surrounds the entire container domain with boundary
+     values whose presence permits all domain computations to be
+     performed the same way even for values along the domain's edge.
+     An &lt;firstterm&gt;internal guard layer&lt;/firstterm&gt; duplicates values
+     from adjacent patches so communication need not occur during a
+     patch's computation.  The use of guard layers is an optimization;
+     using external guard layers eases programming and using internal
+     guard layers reduces communication between processor.  Their use
+     is not required.&lt;/para&gt;
+ 
+     &lt;para&gt;The computer configuration of shared memory and processors
+     is determined by the run-time system.  See the upper right portion
+     of &lt;xref
+     linkend=&quot;tutorial-array_distributed-doof2d-distributed_model&quot;&gt;&lt;/xref&gt;.
+     A &lt;firstterm&gt;context&lt;/firstterm&gt; is a collection of shared memory
+     and processors that can execute a program or a portion of a
+     program.  For example, a two-processor desktop computer might have
+     memory accessible to both processors so it is a context.  A
+     supercomputer consisting of desktop computers networked together
+     might have as many contexts as computers.  The run-time system,
+     e.g., the Message Passing Interface (&mpi;) Communications Library
+     (FIXME: xref linkend=&quot;mpi99&quot;, &lt;ulink
+     url=&quot;<A HREF="http://www-unix.mcs.anl.gov/mpi/">http://www-unix.mcs.anl.gov/mpi/</A>&quot;&gt;&lt;/ulink&gt;) or the &mm;
+     Shared Memory Library (&lt;ulink
+     url=&quot;<A HREF="http://www.engelschall.com/sw/mm/">http://www.engelschall.com/sw/mm/</A>&quot;&gt;&lt;/ulink&gt;), communicates
+     the available contexts to the executable.  &pooma; must be
+     configured for the particular run-time system.  See &lt;xref
+     linkend=&quot;installation-distributed_computing&quot;&gt;&lt;/xref&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;A &lt;firstterm&gt;layout&lt;/firstterm&gt; combines patches with
+     contexts so the program can be executed.  If &distributedtag; is
+     specified, the patches are distributed among the available
+     contexts.  If &replicatedtag; is specified, each set of patches is
+     replicated among each context.  Regardless, the containers'
+     domains are now distributed among the contexts so the program can
+     run.  When a patch needs data from another patch, the &pooma;
+     toolkit sends messages to the desired patch uses a message-passing
+     library.  All such communication is automatically performed by the
+     toolkit with no need for programmer or user input.&lt;/para&gt;
+ 
+     &lt;para&gt;FIXME: The two previous paragraphs demonstrate confusion
+     between &lt;quote&gt;run-time system&lt;/quote&gt; and &lt;quote&gt;message-passing
+     library&lt;/quote&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Incorporating &pooma;'s distributed computation model into a
+     program requires writing very few lines of code.  &lt;xref
+     linkend=&quot;tutorial-array_distributed-doof2d&quot;&gt;&lt;/xref&gt; illustrates
+     this.  The &lt;varname&gt;partition&lt;/varname&gt; declaration creates a
+     &lt;type&gt;UniformGridPartition&lt;/type&gt; splitting each dimension of a
+     container's domain into equally-sized
+     &lt;varname&gt;nuProcessors&lt;/varname&gt; pieces.  The first
+     &lt;type&gt;GuardLayers&lt;/type&gt; argument specifies each patch will have
+     copy of adjacent patches' outermost values.  This may speed
+     computation because a patch need not synchronize its computation
+     with other patches' processors.  Since each value's computation
+     requires knowing its surrounding neighbors, the internal guard
+     layer is one layer deep.  The second &lt;type&gt;GuardLayers&lt;/type&gt;
+     argument specifies no external guard layer.  External guard layers
+     simplify computing values along the edges of domains.  Since the
+     program already uses only the interior domain for computation, we
+     do not use this feature.&lt;/para&gt;
+ 
+     &lt;para&gt;The &lt;varname&gt;layout&lt;/varname&gt; declaration creates a
+     &lt;type&gt;UniformGridLayout&lt;/type&gt; layout.  As &lt;xref
+     linkend=&quot;tutorial-array_distributed-doof2d&quot;&gt;&lt;/xref&gt; illustrates,
+     it needs to know a container's domain, a partition, the computer's
+     contexts, and a &distributedtag; or &replicatedtag;.  These
+     comprise &lt;varname&gt;layout&lt;/varname&gt;'s three parameters; the
+     contexts are implicitly supplied by the run-time system.&lt;/para&gt;
+ 
+     &lt;para&gt;To create a distributed &array;, it should be created using
+     a &layout; object and have a &multipatch; engine.  Prior
+     implementations designed for uniprocessors constructed the
+     container using a &domain; object.  A distributed implementation
+     uses a &layout; object, which conceptually specifies a &domain;
+     object and its distribution throughout the computer.  A
+     &multipatch; engine supports computations using multiple patches.
+     The &lt;type&gt;UniformTag&lt;/type&gt; indicates the patches all have the
+     same size.  Since patches may reside on different contexts, the
+     second template parameter is &lt;type&gt;Remote&lt;/type&gt;.  Its
+     &lt;type&gt;Brick&lt;/type&gt; template parameter specifies the engine for a
+     particular patch on a particular context.  Most distributed
+     programs use &lt;type&gt;MultiPatch&lt;UniformTag, Remote&lt;Brick&gt;
+     &gt;&lt;/type&gt; or &lt;type&gt;MultiPatch&lt;UniformTag,
+     Remote&lt;CompressibleBrick&gt; &gt;&lt;/type&gt; engines.&lt;/para&gt;
+ 
+     &lt;para&gt;The computations for a distributed implementation are
+     exactly the same as for a sequential implementation.  The &pooma;
+     Toolkit and a message-passing library automatically perform all
+     computation.&lt;/para&gt;
+ 
+     &lt;para&gt;The command to run the programs is dependent on the run-time
+     system.  To use &mpi; with the Irix&nbsp;6.5 operating system, one
+     can use the &lt;command&gt;mpirun&lt;/command&gt; command.  For example,
+     &lt;statement&gt;mpirun -np 9 Doof2d-Array-distributed -mpi
+     --num-patches 3&lt;/statement&gt; invokes the &mpi; run-time system with
+     nine processors.  The &lt;statement&gt;-mpi&lt;/statement&gt; argument tells
+     the &pooma; executable &lt;command&gt;Doof2d-Array-distributed&lt;/command&gt;
+     to use the &mpi; Library.  
+ 
+ HERE
+ 
+     The command &lt;statement&gt;Doof2d-Array-distributed -shmem -np 2
+     --num-patches 2&lt;/statement&gt; 
+ 
+     To run &lt;command&gt;Doof2d-Array-distributed&lt;/command&gt; with the &mm;
+     Shared Memory Library, use 
+ 
+ HERE&lt;/para&gt;
+ 
+ &lt;!-- HERE --&gt;
+ 
+     &lt;para&gt;COMMENT: See &lt;filename
+     class=&quot;libraryfile&quot;&gt;background.html&lt;/filename&gt; for a partial
+     explanation.  A &lt;firstterm&gt;context&lt;/firstterm&gt; is a distinct
+     region of memory in some computer.  Execution thread is associated
+     with each context.  One or more different processors can be
+     associated with the same context.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: How do &pooma; parallel concepts compare with
+     Fortran&nbsp;D or high-performance Fortran FINISH CITE:
+     {koelbel94:_high_perfor_fortr_handb}?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What does Cheetah do for us?  Must configure with
+     --messaging and Cheetah library must be available.  When running
+     Doof2d benchmark, use --num-patches N.  On LinuxKCC, use
+     '--num-patches p --run-impls 14 --sim-params N 0 1'.  Runtime
+     system must also provide some support.  How do I write about this?
+     What is an example?  How does one install Cheetah?&lt;/para&gt;
+ 
+ &lt;!-- HERE --&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;tutorial-relations&quot;&gt;
+     &lt;title&gt;Relations&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+ 
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;concepts&quot;&gt;
+    &lt;title&gt;Overview of &pooma; Concepts&lt;/title&gt;
+ 
+    &lt;para&gt;Describe the software application layers similar to
+    &lt;filename&gt;papers/SCPaper-95.html&lt;/filename&gt; and &quot;Short Tour of
+    &pooma;&quot; in &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;.
+    Section&nbsp;2.2, &quot;Why a Framework?,&quot; of
+    &lt;filename&gt;papers/pooma.ps&lt;/filename&gt; argues why a layered approach
+    eases use.  Section&nbsp;3.1, &quot;Framework Layer Description,&quot;
+    describes the five layers.&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: Write short glossary entries for each of these.&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: Look through the source code to ensure all main
+    concepts are listed.&lt;/para&gt;
+ 
+    &lt;para&gt;Here are (preliminary) &pooma; equations:&lt;/para&gt;
+ 
+    &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	  orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+     &lt;title&gt;&pooma; &lt;quote&gt;Equations&lt;/quote&gt;&lt;/title&gt;
+ 
+     &lt;tgroup cols=&quot;1&quot; align=&quot;center&quot;&gt;
+      &lt;tbody&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;field = data + materials + centering + layout + mesh&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;map from space to values&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;array = data + layout&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;map from indices to values&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;mesh = layout + origin + spacings&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;distribute domain through physical space&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;layout = domain + partition + layout_tag (distributed/replicated)&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;distribute domain's blocks among processors/contexts&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;partition = blocks + guard layers&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;split domain into blocks&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;domain = newDomain&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;space of permissible indices&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+      &lt;/tbody&gt;
+     &lt;/tgroup&gt;
+    &lt;/table&gt;
+ 
+ 
+    &lt;para&gt;FINISH: Following is a first try at describing the &pooma;
+    abstraction layers.  See also paper illustration.&lt;/para&gt;
+ 
+    &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	  orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+     &lt;title&gt;&pooma; Abstraction Layers&lt;/title&gt;
+ 
+     &lt;tgroup cols=&quot;1&quot; align=&quot;center&quot;&gt;
+      &lt;tbody&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;application program&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;&array; &field; (should have
+        &lt;type&gt;FieldEngine&lt;/type&gt; under it)&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;&engine;&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;evaluators&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+      &lt;/tbody&gt;
+     &lt;/tgroup&gt;
+    &lt;/table&gt;
+ 
+    &lt;para&gt;FINISH: How does parallel execution fit in?&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: Should we also name and describe each layer?&lt;/para&gt;
+ 
+    &lt;section id=&quot;concepts-domains&quot;&gt;
+     &lt;title&gt;Domains&lt;/title&gt;
+ 
+     &lt;blockquote&gt;
+      &lt;attribution&gt;Section&nbsp;4 &quot;Future Improvements in
+      &pooma;&nbsp;II&quot; of
+      &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;&lt;/attribution&gt;
+      &lt;para&gt;
+      A &domain; is a set of discrete points in some space.&hellip;
+      &domain;s provide all of the expected domain calculus
+      capabilities such as subsetting and intersection.
+      &lt;/para&gt;
+     &lt;/blockquote&gt;
+ 
+     &lt;para&gt;Section&nbsp;3, &quot;Domains and Views,&quot; of
+     &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; describes five types of
+     domains&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-layouts&quot;&gt;
+     &lt;title&gt;Layouts&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+ 
+     &lt;para&gt;Also describe partitions and guard cells within here.&lt;/para&gt;
+ 
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-meshes&quot;&gt;
+     &lt;title&gt;Meshes&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-data_parallel&quot;&gt;
+     &lt;title&gt;Data-Parallel Statements&lt;/title&gt;
+ 
+     &lt;para&gt;Can we use &quot;An Overview of &pete;&quot; from
+     &lt;filename&gt;papers/PETE_DDJ/ddj_article.html&lt;/filename&gt; or is this
+     too low-level?&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;3.2.1 of &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;
+     gives a simple example of data-parallel expression.  It also has a
+     paragraph introducing data-parallel operations and selecting
+     subsets of domains.  Section&nbsp;3.4 describes the Chained
+     Expression Object (&lt;acronym&gt;CEO&lt;/acronym&gt;), apparently a precursor
+     of &pete;.  Regardless, it provides some motivation and
+     introductory material.&lt;/para&gt;
+ 
+     &lt;para&gt;From Section&nbsp;4 of
+     &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;:&lt;/para&gt;
+ 
+     &lt;para&gt;This version of &pete; reduces compile time of user codes
+     and utilizes compile-time knowledge of expression &domain;s for
+     better optimization.  For example, more efficient loops for
+     evaluating an expression can be generated if &pete; knows that the
+     &domain; has unit stride in memory.&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;4, &quot;Expressions and Evaluators&quot;, of
+     &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; has a good explanation of
+     &pooma;&nbsp;II's expression trees and expression engines.&lt;/para&gt;
+ 
+     &lt;para&gt;COMMENT: &lt;filename
+ 			     class=&quot;libraryfile&quot;&gt;background.html&lt;/filename&gt; has some related
+     &pete; material.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;concepts-containers&quot;&gt;
+     &lt;title&gt;Containers&lt;/title&gt;
+ 
+     &lt;section id=&quot;concepts-containers-array&quot;&gt;
+      &lt;title&gt;&array;&lt;/title&gt;
+ 
+      &lt;blockquote&gt;
+       &lt;attribution&gt;Section&nbsp;4 &quot;Future Improvements in
+      &pooma;&nbsp;II&quot; of
+      &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;&lt;/attribution&gt;
+       &lt;para&gt;
+      An &array; can be thought of as a map from one &domain; to
+      another.&hellip; &array;s depend only on the interface of
+      &domain;s.  Thus, a subset of view of an &array; can be
+      manipulated in all the same ways as the original &array;.
+      &array;s can perform indirect addressing because the output
+      &domain; one one &array; can be used as the input &domain; of
+      another &array;.  &array;s also provide individual element
+      access.&lt;/para&gt;
+      &lt;/blockquote&gt;
+ 
+ 
+      &lt;para&gt;
+       (unformatted) From
+       &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;:
+       The &pooma; &array; concept provides an example of how these
+       generic-programming features can lead to flexible and efficient
+       code. An Array maps a fairly arbitrary input domain to an
+       arbitrary range of outputs. When used by itself, an &array;
+       object &lt;varname&gt;A&lt;/varname&gt; refers to all of the values in its
+       domain. Element-wise mathematical operations or functions can be
+       applied to an array using straightforward notation, like A + B
+       or sin(A). Expressions involving Array objects are themselves
+       Arrays. The operation A(d), where d is a domain object that
+       describes a subset of A's domain, creates a view of A that
+       refers to that subset of points. Like an array expression, a
+       view is also an Array. If d represents a single point in the
+       domain, this indexing operation returns a single value from the
+       range. Equivalently, one can index an N-dimensional Array by
+       specifying N indices, which collectively specify a single point
+       in the input domain: A(i1, i2, ..., iN).&lt;/para&gt;
+ 
+      &lt;para&gt;The &pooma; multi-dimensional Array concept is similar to
+       the Fortran 90 array facility, but extends it in several
+       ways. Both &pooma; and Fortran arrays can have up to seven
+       dimensions, and can serve as containers for arbitrary
+       types. Both support the notion of views of a portion of the
+       array, known as array sections in F90. The &pooma; Array concept
+       supports more complex domains, including bounded, continuous
+       (floating-point) domains. Furthermore, Array indexing in &pooma;
+       is polymorphic; that is, the indexing operation X(i1,i2) can
+       perform the mapping from domain to range in a variety of ways,
+       depending on the particular type of the Array being
+       indexed.&lt;/para&gt;
+ 
+      &lt;para&gt;Fortran arrays are dense and the elements are arranged
+       according to column-major conventions. Therefore, X(i1,i2)
+       refers to element number i1-1+(i2-1)*numberRowsInA. However, as
+       Fig. 1 shows, Fortran-style &quot;Brick&quot; storage is not the only
+       storage format of interest to scientific programmers. For
+       compatibility with C conventions, one might want to use an array
+       featuring dense, row-major storage (a C-style Brick). To save
+       memory, it might be advantageous to use an array that only
+       stores a single value if all its element values are the
+       same. Other sparse storage schemes that only store certain
+       values may also be desirable. To exploit parallelism, it is
+       convenient for an array's storage to be broken up into patches,
+       which can be processed independently by different CPUs. Finally,
+       one can imagine an array with no data at all. For example, the
+       values can be computed from an expression involving other
+       arrays, or analytically from the indices.
+      &lt;/para&gt;
+ 
+      &lt;para&gt;The &pooma; &array; Class Template&lt;/para&gt;
+ 
+      &lt;para&gt;Next we describe &pooma;'s model of the Array concept, the
+      Array class template. The three most important requirements from
+      the point of view of overall design are: (1) arbitrary domain,
+      (2) arbitrary range, and (3) polymorphic indexing. These express
+      themselves in the template parameters for the &pooma; Array
+      class. The template
+      &lt;programlisting&gt;
+      template &lt;int Dim, class T = double, class EngineTag = Brick&gt;
+      class Array;
+      &lt;/programlisting&gt;
+      is a specification for creating a set of classes all named
+      Array. The template parameters Dim, T, and EngineTag determine
+      the precise type of the Array. Dim represents the dimension of
+      the array's domain. T gives the type of array elements, thereby
+      defining the output range of the array. EngineTag specifies the
+      the manner of indexing and types of the indices.&lt;/para&gt;
+ 
+      &lt;para&gt;End From
+      &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;:&lt;/para&gt;
+ 
+      &lt;para&gt;Section&nbsp;2, &quot;Arrays and Engines,&quot; of
+      &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; describes both &array;s
+      and &engine;s.  This may or may not duplicate the material in
+      &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;.&lt;/para&gt;
+ 
+      &lt;section id=&quot;concepts-containers-array-views&quot;&gt;
+       &lt;title&gt;Views of &array;s&lt;/title&gt;
+ 
+       &lt;para&gt;Section&nbsp;3, &quot;Domains and Views,&quot; of
+       &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; motivates the need for
+       views:
+        &lt;blockquote&gt;
+ 	&lt;para&gt;One of the primary uses of domains is to specify
+ 	subsections of &array; objects.  Subarrays are a common
+ 	feature of array classes; however, it is often difficult to
+ 	make such subarrays behave like first-class objects.  The
+ 	&pooma;&nbsp;II engine concept provides a clean solution to
+ 	this problem: subsetting an &array; with a domain object
+ 	creates a new &array; that has a view engine.&lt;/para&gt;
+        &lt;/blockquote&gt;
+       &lt;/para&gt;
+      &lt;/section&gt;
+     &lt;/section&gt;
+ 
+     &lt;section id=&quot;concepts-containers-field&quot;&gt;
+      &lt;title&gt;&field;&lt;/title&gt;
+ 
+      &lt;para&gt;QUESTION: Do we include boundary conditions here?
+ 
+      FINISH: Do we have an example that shows something not possible
+      with &array;?&lt;/para&gt;
+ 
+      &lt;para&gt;Describe and illustrate multi-material and
+      multivalue?&lt;/para&gt;
+ 
+      &lt;para&gt;ADD: description of meshes and guard layers.&lt;/para&gt;
+ 
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;concepts-containers-matrix&quot;&gt;
+      &lt;title&gt;&lt;type&gt;TinyMatrix&lt;/type&gt;&lt;/title&gt;
+ 
+      &lt;para&gt;Section&nbsp;3.2.2 of
+      &lt;filename&gt;papers/pooma.ps&lt;/filename&gt; describes &vector;s and
+      matrix classes.&lt;/para&gt;
+     &lt;/section&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;concepts-engines&quot;&gt;
+     &lt;title&gt;Engines&lt;/title&gt;
+ 
+     &lt;para&gt;(unformatted) From
+     &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;:&lt;/para&gt;
+ 
+     &lt;para&gt;The Engine Concept&lt;/para&gt;
+ 
+     &lt;para&gt;To implement polymorphic indexing, the Array class defers
+     data storage and data lookup to an engine object. The requirements
+     that the Array template places on its engine provide the
+     definition for the Engine concept. We'll describe these by
+     examining a simplified version of the Array template, shown in
+     Fig. 2.&lt;/para&gt;
+ 
+     &lt;para&gt;First, the Array class determines and exports (makes
+     Engine_t part of Array's public interface) the type of the engine
+     class that it will use:
+     &lt;programlisting&gt;
+     typedef Engine&lt;Dim, T, EngineTag&gt; Engine_t;
+     &lt;/programlisting&gt;
+     This statement declares Engine_t to be an alias for the type
+     Engine&lt;Dim,T,EngineTag&gt;. This is the first requirement
+     placed on engine classes: they must be specializations of a
+     general Engine template whose template parameters are identical to
+     those of Array. Next, the Array template determines the type of
+     scalar arguments (indices) to be used in operator(), the function
+     that implements &pooma;'s Fortran-style indexing syntax X(i1,i2):
+     &lt;programlisting&gt;
+     typedef typename Engine_t::Index_t Index_t;
+     &lt;/programlisting&gt;
+     This statement defines another type alias:
+     Array&lt;Dim,T,EngineTag&gt;::Index_t is simply an alias for
+     Engine_t::Index_t. Engine_t::Index_t is a qualified name, which
+     means that the type Index_t is found in the class Engine_t. This
+     is the second requirement for the Engine concept: the class
+     Engine_t must define a public type called Index_t. This line will
+     not compile if that definition is not supplied. This indirection
+     is one of the ways that &pooma; supports polymorphic indexing. If
+     the Engine works with a discrete integer domain, it defines its
+     Index_t to be an integral type. If the Engine works in a
+     continuous domain, it defines its Index_t to be a floating-point
+     type.&lt;/para&gt;
+ 
+     &lt;para&gt;The data lookup is performed in the operator() function. We
+     see that Array simply passes the indices on to its engine
+     object. Thus, we have the third requirement for the Engine
+     concept: it must provide a version of operator() that takes Dim
+     values of type Index_t.&lt;/para&gt;
+ 
+     &lt;para&gt;Simply passing the indices on to the engine object may seem
+     odd. After all, engine(i,j) looks like we're just indexing another
+     array. There are several advantages to this extra level of
+     indirection. The Array class is as faithful a model of the Array
+     concept as possible, while the Engine class is a low-level
+     interface to a user-defined data source. As a result, Array has a
+     wide variety of constructors for user convenience, while engines
+     have but a few. Array supports a wide variety of overloaded
+     operator() functions for view creation and indexing. Engines
+     support indexing only. Array does not have direct access to the
+     data, which is managed by the engine object. Finally, Array has a
+     wide variety of overloaded mathematical operators and functions,
+     and works with the Portable Expression Template Engine (PETE) [4]
+     to provide efficient evaluation of Array expressions. Engines have
+     no such support. In general, Array is much more complex and
+     feature-laden than Engine. This is the prime advantage of the
+     separation of interface and implementation: Array only has to be
+     implemented once by the &pooma; developers. Engines are simple
+     enough to be written by users and plugged directly into the Array
+     framework.&lt;/para&gt;
+ 
+     &lt;para&gt;Figure 3 illustrates the &quot;Brick&quot; specialization of the
+     Engine template, which implements Fortran-style lookup into a
+     block of memory. First, there is the general Engine template,
+     which is empty as there is no default behavior for an unknown
+     EngineTag. The general template is therefore not a model for the
+     Engine concept and Array classes attempting to use it will not
+     compile. Next, there is the definition of the Brick class, a
+     policy tag whose sole purpose is to select a particular
+     specialization of the Engine template. Finally, there is the
+     partial specialization of the Engine template. Examining its body,
+     we see the required Index_t typedef and the required operator(),
+     which follows the Fortran prescription for generating an offset
+     into the data block based on the row, column, and the number of
+     rows. All of the requirements are met, so the Brick-Engine class
+     is a model of the Engine concept.&lt;/para&gt;
+ 
+     &lt;para&gt;End From
+     &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;:&lt;/para&gt;
+ 
+     &lt;para&gt;(unformatted) From
+     &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;:&lt;/para&gt;
+ 
+     &lt;para&gt;Compile-time Versus Run-Time Polymorphism&lt;/para&gt;
+ 
+     &lt;para&gt;Encapsulating the indexing in an Engine class has important
+     advantages, both in terms of flexibility and efficiency. To
+     illustrate this point, we introduce the PolarGaussian-Engine
+     specialization in Fig. 4. This is an analytic engine that
+     calculates its values directly from its inputs. Unlike the
+     Brick-Engine, this engine is &quot;indexed&quot; with data of the same type
+     as its output: it maps a set of T's to a single T. Therefore, the
+     Index_t typedef selects T as the index type, as opposed to the int
+     in the Brick-Engine specialization. The operator() function also
+     differs in that it computes the return value according to an
+     analytic formula.&lt;/para&gt;
+ 
+     &lt;para&gt;Both Engine&lt;Dim,T,Brick&gt; and
+     Engine&lt;Dim,T,PolarGaussian&gt; can be plugged in to an Array by
+     simply varying the Array's EngineTag. This is possible despite the
+     fact that the two classes exhibit dramatically different behavior
+     because they are both models of the Engine concept.&lt;/para&gt;
+ 
+     &lt;para&gt;Notice that we have achieved polymorphic indexing without
+     the use of inheritance or virtual functions. For instance,
+     consider the following code snippet:
+     &lt;programlisting&gt;
+     Array&lt;2, double, Brick&gt; a;
+     Array&lt;2, double, PolarGaussian&gt; b;
+ 
+     double x = a(2, 3);     // x = a.engine.data[2 + 3 * a.engine.numRows];
+     double y = b(2.0, 3.0); // y = exp(-(2.0*2.0+3.0*3.0) / b.engine.delta);
+     &lt;/programlisting&gt;
+     The data lookup functions for the two Arrays perform completely
+     different operations. Since this is accomplished using static
+     types, it is known as compile-time polymorphism. Moreover,
+     everything is known at compile time, so the functions are fully
+     inlined and optimized, thereby yielding code equivalent to that
+     shown in the comments above.&lt;/para&gt;
+ 
+     &lt;para&gt;The flexibility and efficiency of compile-time polymorphism
+     cannot be duplicated with a run-time implementation. To illustrate
+     this point, in Fig. 5, we re-implement our Array concept using the
+     classic Envelope-Letter pattern [5], with the array class,
+     RTArray, being the envelope and the run-time-engine, RTEngine,
+     being the letter. RTArray defers data lookup to the engine object
+     by invoking the engine's functions through a pointer to the
+     RTEngine base class. Figure 6 illustrates the RTEngine base class
+     and Fig. 7 illustrates two descendants: RTBrick and
+     RTPolarGaussian.&lt;/para&gt;
+ 
+     &lt;para&gt;The run-time implementation provides the same basic
+     functionality as the compile-time implementation, but it is not as
+     flexible or as efficient. It lacks flexibility in that the return
+     type of the indexing operation must be specified in the RTEngine
+     base class and in the RTArray class. Thus, in Figs. 5 and 6,we see
+     versions of RTArray::operator() and RTEngine::index functions that
+     take both int's and T's. If the programmer wants to add another
+     index-type option, these classes must be modified. This is a
+     violation of the open-closed principle proposed by Meyer
+     [6]. Also, since RTEngine descendants will usually only implement
+     one version of index, we cannot make RTEngine an abstract base
+     class. Instead, we have the default versions of index throw an
+     exception. Thus, compile-time error checking is
+     weakened. Furthermore, since indexing is done via a virtual
+     function call, it will almost never be inlined, which is not
+     acceptable in most scientific applications.&lt;/para&gt;
+ 
+     &lt;para&gt;There are advantages to the Envelope-Letter approach. First,
+     all RTArray objects have the same type, allowing them to be stored
+     in homogeneous collections. This can simplify the design of some
+     applications. Second, RTArray objects can change their engines at
+     runtime, and thus effectively change their types on the fly??this
+     is the primary reason for using the Envelope-Letter idiom, and can
+     be very important in some applications.&lt;/para&gt;
+ 
+     &lt;para&gt;For most scientific applications, however, these issues are
+     minor, and maximum performance for array indexing is of paramount
+     importance. Our compile-time approach achieves this performance
+     while providing the desired polymorphic indexing.&lt;/para&gt;
+ 
+     &lt;para&gt;From Section&nbsp;4 of
+     &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;:&lt;/para&gt;
+ 
+     &lt;para&gt;The &array; class is templated on an &engine; type that
+     handles the actual implementation of the mapping from input to
+     output.  Thus, the &array; interface features are completely
+     separate from the implementation, which could be a single &c;
+     array, a function of some kind or some other mechanism.  This
+     flexibility allows an expression itself to be viewed through the
+     &array; interface.  Thus, one can write something like
+     &lt;programlisting&gt;
+     foo(A*B+C);
+     &lt;/programlisting&gt; where &lt;varname&gt;A&lt;/varname&gt;, &lt;varname&gt;B&lt;/varname&gt; and
+     &lt;varname&gt;C&lt;/varname&gt; are &array;s and &lt;function&gt;foo&lt;/function&gt; is
+     a function taking an &array; as an argument.  The expression
+     &lt;statement&gt;&lt;varname&gt;A&lt;/varname&gt;*&lt;varname&gt;B&lt;/varname&gt;+&lt;varname&gt;C&lt;/varname&gt;&lt;/statement&gt;
+     will only be evaluated by the expression engine as needed by
+     &lt;function&gt;foo&lt;/function&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;In fact, one can even write &engine;s which are wrappers
+     around external data structures created in non-&pooma; codes and
+     know to manipulate these structures.  Once this is done, the
+     external entities have access to the entire &array; interface and
+     can utilize all of the powerful features of
+     &pooma;&nbsp;II.&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;2, &quot;Arrays and Engines,&quot; of
+     &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; describes both &array;s
+     and &engine;s.  This may or may not duplicate the material in
+     &lt;filename&gt;papers/GenericProgramming_CSE/dubois.html&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;4, &quot;Expressions and Evaluators&quot;, of
+     &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; has a good explanation of
+     &pooma;&nbsp;II's expression trees and expression engines.&lt;/para&gt;
+ 
+     &lt;variablelist&gt;
+      &lt;varlistentry&gt;&lt;term&gt;&lt;type&gt;MultiPatch&lt;/type&gt; Engine&lt;/term&gt;
+       &lt;listitem&gt;&lt;para&gt;From &lt;filename
+       class=&quot;libraryfile&quot;&gt;README&lt;/filename&gt;: To actually use multiple
+       contexts effectively, you need to use the MultiPatch engine with
+       patch engines that are Remote engines.  Then the data will be
+       distributed across multiple contexts instead of being copied on
+       every context.  See the files in example/Doof2d for a simple
+       example that creates a MultiPatch array that can be distributed
+       across multiple contexts and performs a stencil computation on
+       that array.&lt;/para&gt;&lt;/listitem&gt;
+      &lt;/varlistentry&gt;
+     &lt;/variablelist&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-relations&quot;&gt;
+     &lt;title&gt;Relations&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-stencils&quot;&gt;
+     &lt;title&gt;Stencils&lt;/title&gt;
+ 
+     &lt;para&gt;Section&nbsp;3.5.4, &quot;Stencil Objects,&quot; of
+     &lt;filename&gt;papers/pooma.ps&lt;/filename&gt; provides a few uses of
+     stencils.&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;5, &quot;Performance,&quot; of
+     &lt;filename&gt;papers/iscope98.pdf&lt;/filename&gt; motivates and explains
+     stencils.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-contexts&quot;&gt;
+     &lt;title&gt;Contexts&lt;/title&gt;
+ 
+     &lt;blockquote&gt;
+      &lt;attribution&gt;&lt;filename
+      class=&quot;libraryfile&quot;&gt;background.html&lt;/filename&gt;&lt;/attribution&gt;
+      &lt;para&gt;In order to be able to cope with the variations in machine
+      architecture noted above, &pooma;'s distributed execution model
+      is defined in terms of one or more contexts, each of which may
+      host one or more threads. A context is a distinct region of
+      memory in some computer. The threads associated with the context
+      can access data in that memory region and can run on the
+      processors associated with that context. Threads running in
+      different contexts cannot access memory in other contexts.&lt;/para&gt;
+ 
+      &lt;para&gt;A single context may include several physical processors,
+      or just one. Conversely, different contexts do not have to be on
+      separate computers&mdash;for example, a 32-node SMP computer could
+      have up to 32 separate contexts. This release of &pooma; only
+      supports a single context for each application, but can use
+      multiple threads in the context on supported platforms. Support
+      for multiple contexts will be added in an upcoming
+      release.&lt;/para&gt;
+     &lt;/blockquote&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;concepts-utilities&quot;&gt;
+     &lt;title&gt;Utility Types: ???TITLE??&lt;/title&gt;
+ 
+     &lt;section id=&quot;concepts-containers-vector&quot;&gt;
+      &lt;title&gt;&vector;&lt;/title&gt;
+ 
+      &lt;para&gt;Section&nbsp;3.2.2 of
+      &lt;filename&gt;papers/pooma.ps&lt;/filename&gt; describes &vector;s and
+      matrix classes.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;sequential&quot;&gt;
+    &lt;title&gt;Writing Sequential Programs&lt;/title&gt;
+ 
+    &lt;para&gt;UNFINISHED&lt;/para&gt;
+ 
+    &lt;section id=&quot;sequential-benchmarks&quot;&gt;
+     &lt;title&gt;&benchmark; Programs&lt;/title&gt;
+ 
+     &lt;para&gt;Define a &benchmark; program vs. an example or an
+     executable.  Provide a short overview of how to run these
+     programs.  Provide an overview of how to write these programs.
+     See &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Utilities/Benchmark.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;sequential-inform&quot;&gt;
+     &lt;title&gt;Using &lt;type&gt;Inform&lt;/type&gt;s for Output&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;parallel&quot;&gt;
+    &lt;title&gt;Writing Distributed Programs&lt;/title&gt;
+ 
+    &lt;para&gt;Discuss the distributed model and guard cells.  See &lt;filename
+    class=&quot;libraryfile&quot;&gt;docs/parallelism.html&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;Does any of the parallel implementation described in
+    &lt;filename&gt;papers/SCPaper-95.html&lt;/filename&gt; still apply?&lt;/para&gt;
+ 
+    &lt;para&gt;?Tuning program for maximize parallel performance?&lt;/para&gt;
+ 
+    &lt;para&gt;external references to &mpi; and threads&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Are there interesting, short parallel programs in
+    any &mpi; book that we can convert to &pooma;?&lt;/para&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;Layouts&lt;/title&gt;
+ 
+     &lt;para&gt;An out-of-date description can be found in Section&nbsp;3.3,
+     especially 3.3.2, of &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;
+     describes the global/local interactions and parallel abstraction
+     layers.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;Parallel Communication&lt;/title&gt;
+ 
+     &lt;para&gt;An out-of-date description can be found in
+      Section&nbsp;3.3.3 of &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;Using Threads&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: Where do threads fit into the manual?  Do threads
+     even work?&lt;/para&gt;
+ 
+     &lt;para&gt;From Section&nbsp;4, of
+     &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt;&lt;/para&gt;
+ 
+     &lt;para&gt;&pooma;&nbsp;II will make use of a new parallel run-time
+     system called &smarts; that is under development at the ACL.
+     &smarts; supports lightweight threads, so the evaluator will be
+     able to farm out data communication tasks and the evaluation of
+     subsets of an expression to multiple threads, thus increasing the
+     overlap of communication and computation.  Threads will also be
+     available at the user level for situations in which a
+     task-parallel approach is deemed appropriate.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;under_the_hood&quot;&gt;
+    &lt;title&gt;Under the Hood: How &pooma; Works&lt;/title&gt;
+ 
+    &lt;para&gt;from point of view of &cc; interpreter&lt;/para&gt;
+ 
+    &lt;section id=&quot;under_the_hood-PETE&quot;&gt;
+     &lt;title&gt;&pete;&lt;/title&gt;
+ 
+     &lt;para&gt;Use the material in
+     &lt;filename&gt;papers/PETE_DDJ/ddj_article.html&lt;/filename&gt;, which gives
+     example code and descriptions of how the code works.&lt;/para&gt;
+ 
+     &lt;para&gt;See material in &lt;filename
+     class=&quot;libraryfile&quot;&gt;background.html&lt;/filename&gt;'s &lt;quote&gt;Expression
+     Templates.&lt;/quote&gt;&lt;/para&gt;
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;debugging_profiling&quot;&gt;
+    &lt;title&gt;Debugging and Profiling &pooma; Programs&lt;/title&gt;
+ 
+    &lt;para&gt;UNFINISHED&lt;/para&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;example&quot;&gt;
+    &lt;title&gt;Example Program: Jacobi Solver&lt;/title&gt;
+ 
+    &lt;para&gt;QUESTION: Is this chapter necessary?  Do we have enough
+    existing source code to write this chapter?&lt;/para&gt;
+ 
+   &lt;/chapter&gt;
+  &lt;/part&gt;
+ 
+  &lt;part id=&quot;reference&quot;&gt;
+   &lt;title&gt;&pooma; Reference Manual&lt;/title&gt;
+ 
+   &lt;chapter id=&quot;tmp_ref&quot;&gt;
+    &lt;title&gt;TMP: This Chapter Holds These Comments But Will Be Removed&lt;/title&gt;
+ 
+    &lt;para&gt;For each template parameter need to describe the constraints
+    on it.&lt;/para&gt;
+ 
+    &lt;para&gt;Remove this section when the following concerns have been
+    addressed.&lt;/para&gt;
+ 
+    &lt;para&gt;Add a partintro explaining file suffixes such as &lt;filename
+    class=&quot;headerfile&quot;&gt;.h&lt;/filename&gt;, &lt;filename
+    class=&quot;libraryfile&quot;&gt;.cpp&lt;/filename&gt;, &lt;filename
+    class=&quot;libraryfile&quot;&gt;.cmpl.cpp&lt;/filename&gt;, &lt;filename
+    class=&quot;libraryfile&quot;&gt;.mk&lt;/filename&gt;, &lt;filename
+    class=&quot;libraryfile&quot;&gt;.conf&lt;/filename&gt;.  Should we also explain use
+    of &lt;literal&gt;inline&lt;/literal&gt; even when necessary and the template
+    model, &lt;!-- FIXME: s/literal/keyword/ --&gt; e.g., including &lt;filename
+    class=&quot;libraryfile&quot;&gt;.cpp&lt;/filename&gt; files.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What are the key concepts around which to organize
+    the manual?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What format should the manual use?&lt;/para&gt;
+ 
+    &lt;blockquote&gt;
+     &lt;attribution&gt;Musser, Derge, and Sanai, &sect;20.0.&lt;/attribution&gt;
+     &lt;para&gt;It is important to state the requirements on the components
+     as generally as possible.  For example, instead of saying
+     &lt;quote&gt;class &lt;type&gt;X&lt;/type&gt; must define a member function
+     &lt;function&gt;operator++()&lt;/function&gt;,&lt;/quote&gt; we say &lt;quote&gt;for any
+     object&nbsp;&lt;varname&gt;x&lt;/varname&gt; of type&nbsp;&lt;type&gt;X&lt;/type&gt;,
+     &lt;classname&gt;++x&lt;/classname&gt; is defined.&lt;/quote&gt;&lt;/para&gt;
+    &lt;/blockquote&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;class_structure_ref&quot;&gt;
+    &lt;title&gt;A Typical &pooma; Class&lt;/title&gt;
+ 
+    &lt;variablelist&gt;
+     &lt;title&gt;Class Member Notation&lt;/title&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;&lt;fieldsynopsis&gt;
+        &lt;varname&gt;*_t&lt;/varname&gt;
+       &lt;/fieldsynopsis&gt;
+      &lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;type within a class.  QUESTION: What is the &cc; name for
+       this?&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;&lt;fieldsynopsis&gt;
+        &lt;varname&gt;*_m&lt;/varname&gt;
+       &lt;/fieldsynopsis&gt;
+      &lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;data member&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+    &lt;/variablelist&gt;
+ 
+    &lt;variablelist&gt;
+     &lt;title&gt;&pooma; Class Vocabulary&lt;/title&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;component&lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;one of several values packaged together.  For example, a
+       three-dimensional vector has three components, i.e., three
+       values.&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;element-wise&lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;applied to each element in the group, e.g., an array&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;reduction&lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;repeated application of a binary operator to all elements,
+       yielding one value&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;tag&lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;an enumerated value indicating inclusion in a particular
+       semantic class.  The set of values need not be explicitly
+       declared.&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+    &lt;/variablelist&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;installing_configuring_ref&quot;&gt;
+    &lt;title&gt;Installing and Configuring &pooma;&lt;/title&gt;
+ 
+    &lt;orderedlist&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;Installing &pooma;.&lt;/para&gt;
+     &lt;/listitem&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;Requirements for configuration files.&lt;/para&gt;
+     &lt;/listitem&gt;
+    &lt;/orderedlist&gt;
+ 
+    &lt;para&gt;Include descriptions of using &smarts;, &cheetah;, &tau;,
+    &pdt;.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Does it install on windows and on mac?  If so, what
+    are the instructions?  See also &lt;filename
+    class=&quot;libraryfile&quot;&gt;INSTALL.{mac,unix,windows}.&lt;/filename&gt;&lt;/para&gt;
+ 
+    &lt;para&gt;&lt;filename class=&quot;libraryfile&quot;&gt;README&lt;/filename&gt; has some
+    information on &cheetah; and threads in the &lt;quote&gt;Message-Based
+    Parallelism&lt;/quote&gt; section.&lt;/para&gt;
+ 
+    &lt;para&gt;Which additional packages are necessary and when?&lt;/para&gt;
+ 
+    &lt;para&gt;What configure options should we list?  See &lt;filename
+    class=&quot;libraryfile&quot;&gt;configure&lt;/filename&gt;.  Be sure to list
+    debugging option and how its output relates to &lt;filename
+    class=&quot;libraryfile&quot;&gt;config/LINUXgcc.suite.mk&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;&lt;filename class=&quot;directory&quot;&gt;config/arch&lt;/filename&gt; has files
+    for (OS, compiler) pairs.  Explain how to modify a configuration
+    file.  List requirements when making a new configuration file (low
+    priority).&lt;/para&gt;
+ 
+    &lt;para&gt;&lt;filename
+    class=&quot;libraryfile&quot;&gt;config/LINUXgcc.suite.mk&lt;/filename&gt; has output
+    from &lt;filename class=&quot;libraryfile&quot;&gt;configure&lt;/filename&gt;.  Useful to
+    relate to configuration files and &lt;filename
+    class=&quot;libraryfile&quot;&gt;configure&lt;/filename&gt;'s debugging output.&lt;/para&gt;
+    
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;compilation_ref&quot;&gt;
+    &lt;title&gt;Compilation and &make; Files&lt;/title&gt;
+ 
+    &lt;para&gt;We assume Gnu make.  Do we know what assumptions are made?&lt;/para&gt;
+ 
+    &lt;para&gt;How do all these files interact with each other?  Ala a make
+    interpreter, give an example of which files are read and
+    when.&lt;/para&gt;
+ 
+    &lt;variablelist&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/README.make&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;This has short descriptions of many files,
+     especially in &lt;filename
+     class=&quot;directory&quot;&gt;config/Shared&lt;/filename&gt;.&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;makefile&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;These appear throughout all directories.  What are
+     the equivalences classes and what are their
+     parts?&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;include.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;What does this do?  Occurs in many directories:
+     when?  Template seems to be &lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/include2.mk&lt;/filename&gt;.&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;subdir.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;list of subdirectories; occurs in several
+     directories: when?  &lt;filename
+     class=&quot;libraryfile&quot;&gt;src/subdir.mk&lt;/filename&gt; is a good
+     example.&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;
+      &lt;term&gt;&lt;filename class=&quot;libraryfile&quot;&gt;objfile.mk&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;list of object files to construct, presumably from
+       &lt;filename&gt;*.cmpl.cpp&lt;/filename&gt; files.
+       &lt;filename&gt;src/Utilities/objfile.mk&lt;/filename&gt; is an
+       example.&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/rules.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;most compiler rules&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/head.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;read at beginning of each
+     makefile?&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/tail.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;read at end of each makefile?&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/variables.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;Is this used?&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;config/Shared/compilerules.mk&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;table of origin and target suffixes and commands
+     for conversion&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+ 
+    &lt;/variablelist&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;arrays_ref&quot;&gt;
+    &lt;title&gt;&array;s&lt;/title&gt;
+ 
+    &lt;para&gt;Include &lt;filename
+ 			   class=&quot;headerfile&quot;&gt;src/Pooma/Arrays.h&lt;/filename&gt; to use &array;s.
+    The implementation source code is in &lt;filename
+ 						  class=&quot;directory&quot;&gt;src/Array&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: Define an array.  Introduce its parts.&lt;/para&gt;
+ 
+    &lt;para&gt;ADD: some mention of the maximum supported number of
+    dimensions somewhere.&lt;/para&gt;
+ 
+    &lt;section id=&quot;arrays_ref-array&quot;&gt;
+     &lt;title&gt;The &array; Container&lt;/title&gt;
+ 
+     &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	   orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+      &lt;title&gt;Template Parameters&lt;/title&gt;
+ 
+      &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+       &lt;thead&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;Parameter&lt;/entry&gt;
+ 	&lt;entry&gt;Interpretation&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/thead&gt;
+       &lt;tbody&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;varname&gt;Dim&lt;/varname&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;dimension&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;varname&gt;T&lt;/varname&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;array element type&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;EngineTag&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;type of computation engine object&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/tbody&gt;
+      &lt;/tgroup&gt;
+     &lt;/table&gt;
+ 
+     &lt;para&gt;QUESTION: How do I introduce class type definitions, when
+     they are used, i.e., compile-time or run-time, and when
+     programmers should use them?&lt;/para&gt;
+ 
+     &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	   orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+      &lt;title&gt;Compile-Time Types and Values&lt;/title&gt;
+ 
+      &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+       &lt;thead&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;Type or Value&lt;/entry&gt;
+ 	&lt;entry&gt;Interpretation&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/thead&gt;
+       &lt;tbody&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;This_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;the &array; object's type&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;Engine_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;the &array; object's engine's type&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;EngineTag_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;indication of engine's category&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;Element_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;the type of the array elements, i.e., &lt;type&gt;T&lt;/type&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;ElementRef_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;the type of a reference to an array element,
+ 	i.e., &lt;type&gt;T&amp;&lt;/type&gt;.  Equivalently, the type to write to a
+ 	single element.&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;Domain_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;the array's domain's type, i.e., the type of the
+ 	union of all array indices&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;Layout_t&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;unknown&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;dimensions&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;integer equalling the number of dimensions, i.e.,
+ 	&lt;varname&gt;Dim&lt;/varname&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;fieldsynopsis&gt;&lt;varname&gt;rank&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;integer equalling the number of dimensions, i.e.,
+ 	&lt;varname&gt;Dim&lt;/varname&gt;; a synonym for &lt;fieldsynopsis&gt;
+ 	   &lt;varname&gt;dimensions&lt;/varname&gt;&lt;/fieldsynopsis&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/tbody&gt;
+      &lt;/tgroup&gt;
+     &lt;/table&gt;
+ 
+     &lt;section id=&quot;arrays_ref-array-constructors&quot;&gt;
+      &lt;title&gt;Constructors and Destructors&lt;/title&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;Constructors and Destructors&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Function&lt;/entry&gt;
+ 	 &lt;entry&gt;Effect&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;constructorsynopsis&gt;
+ 	   &lt;methodname&gt;Array&lt;/methodname&gt;
+ 	   &lt;void&gt;&lt;/void&gt;
+ 	  &lt;/constructorsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;Creates an array that will be resized
+ 	 later.&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;constructorsynopsis&gt;
+ 	   &lt;methodname&gt;Array&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;&lt;modifier&gt;const&lt;/modifier&gt; &lt;type&gt;Engine_t&amp;&lt;/type&gt;
+ 	    &lt;parameter&gt;engine&lt;/parameter&gt;&lt;/methodparam&gt;
+ 	  &lt;/constructorsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;Creates an array with an engine equivalent to
+          the &lt;parameter&gt;engine&lt;/parameter&gt;.  This array will have the
+          same values as &lt;parameter&gt;engine&lt;/parameter&gt;.  QUESTION: Why
+          would a user every want to use this
+          constructor?&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;constructorsynopsis&gt;
+ 	   &lt;methodname&gt;Array&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt; Engine&lt;Dim2, T2, EngineTag2&gt;&amp;&lt;/type&gt;
+ 	    &lt;parameter&gt;engine&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt;Initializer&amp;&lt;/type&gt; &lt;parameter&gt;init&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	  &lt;/constructorsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;What does this do?&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;ADD ALL CONSTRUCTORS AND DESTRUCTORS.&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-array-initializers&quot;&gt;
+      &lt;title&gt;Initializers&lt;/title&gt;
+ 
+      &lt;para&gt;Add a table.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-array-access&quot;&gt;
+      &lt;title&gt;Element Access&lt;/title&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;&array; Element Access&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Function&lt;/entry&gt;
+ 	 &lt;entry&gt;Effect&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;Element_t&lt;/type&gt; &lt;methodname&gt;read&lt;/methodname&gt;
+ 	   &lt;void&gt;&lt;/void&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;unknown: See line 1839.&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;Element_t&lt;/type&gt; &lt;methodname&gt;read&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt;Sub1&amp;&lt;/type&gt; &lt;parameter&gt;s1&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt; Sub2&amp;&lt;/type&gt; &lt;parameter&gt;s2&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;How does the version with template parameters,
+          e.g., &lt;type&gt;Sub1&lt;/type&gt; differ from the &lt;type&gt;int&lt;/type&gt;
+          version?&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;Element_t&lt;/type&gt; &lt;methodname&gt;operator()&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt;Sub1&amp;&lt;/type&gt; &lt;parameter&gt;s1&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt;Sub2&amp;&lt;/type&gt; &lt;parameter&gt;s2&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;How does this differ from &lt;statement&gt;read(const
+           Sub1&amp; s1, const Sub2&amp; s2)&lt;/statement&gt;?  &lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;ADD ALL &lt;function&gt;read&lt;/function&gt;s and
+ 	 &lt;function&gt;operator()&lt;/function&gt;s.&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-array-component&quot;&gt;
+      &lt;title&gt;Component Access&lt;/title&gt;
+ 
+      &lt;para&gt;When an array stores elements having components, e.g., an
+      array of vectors, tensors, or arrays, the
+      &lt;methodname&gt;comp&lt;/methodname&gt; returns an array consisting of the
+      specified components.  The original and component array share the
+      same engine so changing the values in one affects values in the
+      other.&lt;/para&gt;
+ 
+      &lt;para&gt;For example, if &n; &times; &n; array &lt;varname&gt;a&lt;/varname&gt;
+      consists of three-dimensional real-valued vectors,
+      &lt;statement&gt;a.comp(1)&lt;/statement&gt; returns a &n; &times; &n;
+      real-valued array of all the middle vector components.  Assigning
+      to the component array will also modify the middle components of
+      the vectors in &lt;varname&gt;a&lt;/varname&gt;.&lt;/para&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;&array; Component Access&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Function&lt;/entry&gt;
+ 	 &lt;entry&gt;Effect&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;UNKNOWN compute this&lt;/type&gt; &lt;methodname&gt;comp&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;modifier&gt;const&lt;/modifier&gt;
+ 	    &lt;type&gt;int&amp;&lt;/type&gt;
+ 	    &lt;parameter&gt;i1&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;unknown: See line 1989.&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;ADD ALL &lt;methodname&gt;comp&lt;/methodname&gt;s.&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+     &lt;/section&gt;
+ 
+     &lt;section id=&quot;arrays_ref-array-accessors&quot;&gt;
+      &lt;title&gt;Accessors&lt;/title&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;&array; Accessor Methods&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Function&lt;/entry&gt;
+ 	 &lt;entry&gt;Effect&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;int&lt;/type&gt; &lt;methodname&gt;first&lt;/methodname&gt;
+ 	   &lt;methodparam&gt;
+ 	    &lt;type&gt;int&lt;/type&gt;
+ 	    &lt;parameter&gt;d&lt;/parameter&gt;
+ 	   &lt;/methodparam&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;unknown: See line 2050&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;ADD ALL other accessor methods, including
+ 	 &lt;methodname&gt;engine&lt;/methodname&gt;.&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-array-copying&quot;&gt;
+      &lt;title&gt;Copying &array;s&lt;/title&gt;
+ 
+      &lt;para&gt;Explain how copied arrays and views of arrays share the
+      same underlying engine so changing values in one also affects the
+      other.  This is called a shallow copy.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-array-utilities&quot;&gt;
+      &lt;title&gt;Utility Methods&lt;/title&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;&array; Utility Methods&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Function&lt;/entry&gt;
+ 	 &lt;entry&gt;Effect&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;methodsynopsis&gt;
+ 	   &lt;type&gt;void&lt;/type&gt; &lt;methodname&gt;makeOwnCopy&lt;/methodname&gt;
+ 	   &lt;void&gt;&lt;/void&gt;
+ 	  &lt;/methodsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;unknown: See line 2044&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;ADD ALL other utility methods.&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+     &lt;/section&gt;
+ 
+     
+     &lt;section id=&quot;arrays_ref-array-implementation&quot;&gt;
+      &lt;title&gt;Implementation Details&lt;/title&gt;
+ 
+      &lt;para&gt;As a container, an &array;'s implementation is quite
+      simple.  Its &lt;keywordname&gt;private&lt;/keywordname&gt;data consists of
+      an engine, and it has no &lt;keywordname&gt;private&lt;/keywordname&gt;
+      functions.&lt;/para&gt;
+ 
+      &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	    orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+       &lt;title&gt;&array; Implementation Data&lt;/title&gt;
+ 
+       &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+        &lt;thead&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;Data Member&lt;/entry&gt;
+ 	 &lt;entry&gt;Meaning&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/thead&gt;
+        &lt;tbody&gt;
+ 	&lt;row&gt;
+ 	 &lt;entry&gt;
+           &lt;fieldsynopsis&gt;
+ 	   &lt;modifier&gt;private&lt;/modifier&gt;
+ 	   &lt;type&gt;Engine_t&lt;/type&gt; &lt;varname&gt;engine_m&lt;/varname&gt;
+ 	  &lt;/fieldsynopsis&gt;
+          &lt;/entry&gt;
+ 	 &lt;entry&gt;&lt;para&gt;engine computing the array's values&lt;/para&gt;&lt;/entry&gt;
+ 	&lt;/row&gt;
+        &lt;/tbody&gt;
+       &lt;/tgroup&gt;
+      &lt;/table&gt;
+ 
+     &lt;/section&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-dynamicarray&quot;&gt;
+     &lt;title&gt;&dynamicarray;s: Dynamically-Sized Domains&lt;/title&gt;
+ 
+     &lt;para&gt;A DynamicArray is a read-write array with extra
+     create/destroy methods.  It can act just like a regular Array, but
+     can have a dynamically-changing domain.  See &lt;filename
+ 							   class=&quot;headerfile&quot;&gt;src/DynamicArray/DynamicArray.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;ADD: Briefly describe what the class does and an example of
+     where it is used.&lt;/para&gt;
+ 
+     &lt;para&gt;ADD: Check that its interface is actually the same as for
+     &array;.&lt;/para&gt;
+ 
+     &lt;para&gt;ADD: Check that the operations on dynamic arrays are
+     actually the same as for &array;.  See &lt;filename
+ 						     class=&quot;headerfile&quot;&gt;src/DynamicArray/DynamicArrayOperators.h&lt;/filename&gt;,
+     &lt;filename
+ 	      class=&quot;headerfile&quot;&gt;src/DynamicArray/PoomaDynamicArrayOperators.h&lt;/filename&gt;,
+     and &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/DynamicArray/VectorDynamicArrayOperators.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     
+     &lt;section id=&quot;arrays_ref-dynamicarray-implementation&quot;&gt;
+      &lt;title&gt;Implementation Details&lt;/title&gt;
+ 
+      &lt;para&gt;&lt;type&gt;DynamicArray&lt;/type&gt; has no
+      &lt;keywordname&gt;protected&lt;/keywordname&gt; or
+      &lt;keywordname&gt;private&lt;/keywordname&gt; members.&lt;/para&gt;
+     &lt;/section&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-views&quot;&gt;
+     &lt;title&gt;Views of &array;s&lt;/title&gt;
+ 
+     &lt;para&gt;UNFINISHED&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-assignment&quot;&gt;
+     &lt;title&gt;&array; Assignments&lt;/title&gt;
+ 
+     &lt;para&gt;&pooma; supports assignments to &array;s of other &array;s
+     and scalar values.  QUESTION: Is the following correct?  For the
+     former, the right-hand side array's domain must be at least as
+     large as the left-hand side array's domain.  Corresponding values
+     are copied.  Assigning a scalar value to an array ensures all the
+     array elements have the same scalar value.&lt;/para&gt;
+ 
+     &lt;para&gt;UNFINISHED: Add a table containing assignment operators
+     found one lines 2097&ndash;2202.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-print&quot;&gt;
+     &lt;title&gt;Printing &array;s&lt;/title&gt;
+ 
+     &lt;para&gt;&array;s support output to but not input from IO streams.
+     In particular, output to &lt;type&gt;ostream&lt;/type&gt;s and file streams is
+     supported.&lt;/para&gt;
+ 
+     &lt;para&gt;Add a table, using &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Array/Array.h&lt;/filename&gt;, lines
+     2408&ndash;2421.  See the implementation in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Array/PrintArray.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: How does one print a &dynamicarray;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section&gt;
+     &lt;title&gt;Expressions Involving &array;s&lt;/title&gt;
+ 
+     &lt;para&gt;In &pooma;, expressions may contain entire &array;s.  That
+     is, &array;s are first-class objects with respect to expressions.
+     For example, given &array;s &lt;varname&gt;a&lt;/varname&gt; and
+     &lt;varname&gt;b&lt;/varname&gt;, the expression &lt;statement&gt;a + b&lt;/statement&gt;
+     is equivalent to an array containing the element-wise sum of the
+     two arrays.&lt;/para&gt;
+ 
+     &lt;para&gt;Any finite number of the operators listed below can be used
+     in an expression.  The precedence and order of operation is the
+     same as with ordinary built-in types.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Do &field;s also support the same set of
+     operations?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Some operations in &lt;filename
+ 						 class=&quot;headerfile&quot;&gt;src/Field/FieldOperators.h&lt;/filename&gt; use both
+     &array; and &field;.  Do we list them here or in the &field;
+     section or both or somewhere else?&lt;/para&gt;
+ 
+     &lt;para&gt;In the table below, &array; supplants the exact return types
+     because they are complicated and rarely need to be explicitly
+     written down.&lt;/para&gt;
+ 
+     &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	   orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+      &lt;title&gt;Operators on &array;&lt;/title&gt;
+ 
+      &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+       &lt;thead&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;Operator&lt;/entry&gt;
+ 	&lt;entry&gt;Value&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/thead&gt;
+       &lt;tbody&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;
+           &lt;funcsynopsis&gt;
+ 	  &lt;funcprototype&gt;
+ 	   &lt;funcdef&gt;Array &lt;function&gt;acos&lt;/function&gt;&lt;/funcdef&gt;
+ 	   &lt;paramdef&gt;const &lt;parameter&gt;Array&lt;Dim,T,EngineTag&gt;&amp; a&lt;/parameter&gt;&lt;/paramdef&gt;
+ 	  &lt;/funcprototype&gt;
+ 	 &lt;/funcsynopsis&gt;
+          &lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;an array containing the element-wise inverse
+          cosine of the array &lt;parameter&gt;a&lt;/parameter&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;ADD ALL other operators appearing in &lt;filename
+ 							      class=&quot;headerfile&quot;&gt;src/Array/ArrayOperators.h&lt;/filename&gt;,
+         &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Array/ArrayOperatorSpecializations.h&lt;/filename&gt;,
+         &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Array/PoomaArrayOperators.h&lt;/filename&gt;,
+         and &lt;filename
+ 		      class=&quot;headerfile&quot;&gt;src/Array/VectorArrayOperators.h&lt;/filename&gt;.&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/tbody&gt;
+      &lt;/tgroup&gt;
+     &lt;/table&gt;
+ 
+     &lt;para&gt;FINISH: Write one or two examples or refer to ones
+     previously in the text.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-reductions&quot;&gt;
+     &lt;title&gt;Reducing All &array; Elements to One Value&lt;/title&gt;
+ 
+     &lt;para&gt;These reduction functions repeatedly apply a binary
+     operation to all array elements to yield a value.  These functions
+     are similar to the Standard Template Library's
+     &lt;function&gt;accumulate&lt;/function&gt; function.  For example,
+     &lt;function&gt;sum&lt;/function&gt; repeatedly applies the binary plus
+     operator to all array elements, yielding the sum of all array
+     elements.&lt;/para&gt;
+ 
+     &lt;para&gt;FINISH: What order of operation, if any, is
+     guaranteed?&lt;/para&gt;
+ 
+     &lt;para&gt;FINISH: Add a table of the functions in &lt;filename
+ 							    class=&quot;headerfile&quot;&gt;src/Array/Reductions.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;How does one use one's own binary function?  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Engine/Reduction.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-utilities&quot;&gt;
+     &lt;title&gt;Utility Functions&lt;/title&gt;
+ 
+     &lt;section id=&quot;arrays_ref-utilities-compression&quot;&gt;
+      &lt;title&gt;Compressed Data&lt;/title&gt;
+ 
+      &lt;para&gt;Add a table containing
+      &lt;function&gt;elementsCompressed&lt;/function&gt;,
+      &lt;function&gt;compressed&lt;/function&gt;, &lt;function&gt;compress&lt;/function&gt;,
+      and &lt;function&gt;uncompress&lt;/function&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;arrays_ref-utilities-sizes&quot;&gt;
+      &lt;title&gt;Centering Sizes and Number of Materials&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a description of &lt;function&gt;numMaterials&lt;/function&gt; and
+      &lt;function&gt;centeringSize&lt;/function&gt; found in &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;.  These functions
+      are meaningless for &array; but are provided for consistency with
+      &field;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+     &lt;section id=&quot;arrays_ref-utilities-subfield&quot;&gt;
+      &lt;title&gt;Obtaining Subfields&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a description of &lt;function&gt;subField&lt;/function&gt; found
+      in &lt;filename class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;.
+      This function, meaningless for &array;, is provided for
+      consistency with &field;.&lt;/para&gt;
+     &lt;/section&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;arrays_ref-tmp&quot;&gt;
+     &lt;title&gt;TMP: What do we do with these &hellip;? Remove this
+     section.&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: Do we describe the &leaffunctor;s specialized for
+     &array;s in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Array/Array.h&lt;/filename&gt; or in the &pete;
+     reference section?  What about the functions in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Array/CreateLeaf.h&lt;/filename&gt;?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What is an &lt;type&gt;EngineFunctor&lt;/type&gt;?  We
+     probably should describe it in an analogous way as for
+     &leaffunctor;s.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Where do we write about
+     &lt;type&gt;ExpressionTraits&lt;/type&gt; for &array;s?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Do we describe the &lt;type&gt;ElementProperties&lt;/type&gt;
+     specialization at this place or in its section?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Do we describe the &lt;type&gt;Patch&lt;/type&gt;
+     specialization for &array;s (&lt;filename
+     class=&quot;headerfile&quot;&gt;src/Array/Array.h&lt;/filename&gt;:1300) in this
+     place or in a section for patches?&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;fields_ref&quot;&gt;
+    &lt;title&gt;&field;s&lt;/title&gt;
+ 
+    &lt;para&gt;An &array; is a set of values indexed by
+    coordinates, one value per coordinate.  It models the computer
+    science idea of an array.  Similarly, a &field; is a set of values
+    indexed by coordinate.  It models the mathematical and physical
+    idea of a field represented by a grid of rectangular cells, each
+    having at least one value.  A &field;'s functionality is a superset
+    of an &array;'s functionality because:
+     &lt;itemizedlist&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;A &field; is distributed through space so one can compute
+       the distances between cells.&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;Each cell can hold multiple values.  For example, a
+       rectangular cell can have one value on each of its faces.&lt;/para&gt;
+      &lt;/listitem&gt;
+      &lt;listitem&gt;
+       &lt;para&gt;Multiple materials can share the same cell.  For example,
+       different values can be stored in the same cell for carbon,
+       oxygen, and nitrogen.&lt;/para&gt;
+      &lt;/listitem&gt;
+     &lt;/itemizedlist&gt;
+    Also, &field;s' values can be related by relations.  Thus, if one
+    field's values change, a dependent field's values can be
+    automatically computed when needed.  FIXME: See also the unfinished
+    works chapter's entry concerning relations and arrays.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Should we add a picture comparing and contrasting
+    an array and a field?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: How much structure can be copied from the &array;
+    chapter?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Where is &lt;type&gt;NewMeshTag&lt;/type&gt;, defined in
+    &lt;filename class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;,
+    used?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Do we describe the &leaffunctor;s specialized for
+    &field;s in &lt;filename
+    class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt; or in the &pete;
+    reference section?  Use the same decision for &array;s.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What do the structure and functions in &lt;filename
+    class=&quot;headerfile&quot;&gt;src/Field/Mesh/PositionFunctions.h&lt;/filename&gt;
+    do?&lt;/para&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-field&quot;&gt;
+     &lt;title&gt;The &field; Container&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: table of template parameters and table of compile-time
+     types and values.&lt;/para&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-constructors&quot;&gt;
+      &lt;title&gt;Constructors and Destructors&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: this section similar to &array;s's constructor and
+      destructor section.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+     &lt;section id=&quot;fields_ref-field-initializers&quot;&gt;
+      &lt;title&gt;Initializers&lt;/title&gt;
+ 
+      &lt;para&gt;Add a table.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-access&quot;&gt;
+      &lt;title&gt;Element Access&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table ala &array;.  Be sure to include
+      &lt;methodname&gt;all&lt;/methodname&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-component&quot;&gt;
+      &lt;title&gt;Component Access&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table ala &array;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-subfields&quot;&gt;
+      &lt;title&gt;Obtaining Subfields&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: discussion and a table listing ways to obtain
+       subfields.  Although the implementation may treat subfield views
+       and other field views similarly (?Is this true?), they are
+       conceptually different ideas so we present them
+       separately.&lt;/para&gt;
+ 
+      &lt;para&gt;See &lt;filename
+ 			 class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;'s
+       &lt;methodname&gt;operator[]&lt;/methodname&gt;,
+       &lt;methodname&gt;subField&lt;/methodname&gt;, &hellip;,
+       &lt;methodname&gt;material&lt;/methodname&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-relations&quot;&gt;
+      &lt;title&gt;Supporting Relations&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table with the member functions including
+      &lt;methodname&gt;addRelation&lt;/methodname&gt;,
+      &lt;methodname&gt;removeRelations&lt;/methodname&gt;,
+      &lt;methodname&gt;applyRelations&lt;/methodname&gt;, and
+      &lt;methodname&gt;setDirty&lt;/methodname&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-accessors&quot;&gt;
+      &lt;title&gt;Accessors&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table using lines like &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;:1243&ndash;1333.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-utilities&quot;&gt;
+      &lt;title&gt;Utility Methods&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table including
+       &lt;methodname&gt;makeOwnCopy&lt;/methodname&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-field-implementation&quot;&gt;
+      &lt;title&gt;Implementation Details&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table similar to &array;'s.&lt;/para&gt;
+ 
+     &lt;/section&gt;
+ 
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-views&quot;&gt;
+     &lt;title&gt;Views of &field;s&lt;/title&gt;
+ 
+     &lt;para&gt;Be sure to relate to &array; views.  Note only three
+     dimensions are supported.&lt;/para&gt;
+ 
+     &lt;para&gt;Be sure to describe &lt;statement&gt;f[i]&lt;/statement&gt;.  Does this
+     refer to a particular material or a particular value within a
+     cell?  I do not remember.  See &lt;type&gt;SubFieldView&lt;/type&gt; in
+     &lt;filename class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-assignment&quot;&gt;
+     &lt;title&gt;&field; Assignments&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: Describe supported assignments, relating to &array;'s
+     assignments.&lt;/para&gt;
+ 
+     &lt;para&gt;UNFINISHED: Add a table containing assignment operators
+     found on &lt;filename
+ 		       class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;:2097&ndash;2202
+     and 1512&ndash;1611.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-print&quot;&gt;
+     &lt;title&gt;Printing &field;s&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: How similar is this to printing &array;s?&lt;/para&gt;
+ 
+     &lt;para&gt;&field;s support output to but not input from IO streams.
+     In particular, output to &lt;type&gt;ostream&lt;/type&gt;s and file streams is
+     supported.&lt;/para&gt;
+ 
+     &lt;para&gt;Add a table, using &lt;filename
+ 				       class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;, lines
+     1996&ndash;2009.  See the implementation in &lt;filename
+ 							  class=&quot;headerfile&quot;&gt;src/Field/PrintField.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-reductions&quot;&gt;
+     &lt;title&gt;Combining &field; Elements&lt;/title&gt;
+ 
+     &lt;para&gt;Like &array;s, &field;s support reduction of all elements to
+     one value.  Additionally, the latter supports computing a field's
+     values using field stencils.  QUESTION: How do I describe this
+     with a minimum of jargon?&lt;/para&gt;
+ 
+     &lt;para&gt;ADD: something similar to &array; reductions.&lt;/para&gt;
+ 
+     &lt;para&gt;FINISH: Add a table of the functions in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldReductions.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;FINISH: Add a table of the functions in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/DiffOps/FieldOffsetReductions.h&lt;/filename&gt;.
+     QUESTION: Why is only &lt;function&gt;sum&lt;/function&gt; defined?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-expressions&quot;&gt;
+     &lt;title&gt;Expressions Involving &field;s&lt;/title&gt;
+ 
+     &lt;para&gt;Do something similar to &array;'s section.  See the
+     operations defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldOperators.h&lt;/filename&gt;,
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldOperatorSpecializations.h&lt;/filename&gt;,
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/PoomaFieldOperators.h&lt;/filename&gt;, and
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/VectorFieldOperators.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Some operations involve both &array; and &field;
+     parameters.  Where do we list them?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-stencils&quot;&gt;
+     &lt;title&gt;&field; Stencils: Faster, Local Computations&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a description of a stencil.  Why is it needed?  How
+     does a user use it?  How does a user know when to use one?  Add
+     documentation of the material from &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/DiffOps/FieldStencil.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;How is &lt;type&gt;FieldShiftEngine&lt;/type&gt; used by &field;
+     stencils?  Should it be described here or in the &engine; section?
+     See the the code in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/DiffOps/FieldShiftEngine.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section&gt;
+     &lt;title&gt;Cell Volumes, Face Areas, Edge Lengths, Normals&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a description of these functions.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/Mesh/MeshFunctions.h&lt;/filename&gt;.
+     These are initialized in, e.g., &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/Mesh/UniformRectilinearMesh.h&lt;/filename&gt;.
+     Note that these do not work for &lt;type&gt;NoMesh&lt;/type&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-div&quot;&gt;
+     &lt;title&gt;Divergence Operators&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table having divergence operators, explaining the
+     current restrictions imposed by what is implemented.  See
+     &lt;filename class=&quot;headerfile&quot;&gt;src/Field/DiffOps/Div.h&lt;/filename&gt;
+     and &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/DiffOps/Div.UR.h&lt;/filename&gt;.  What
+     restrictions does &lt;quote&gt;UR&lt;/quote&gt; (mesh) connote?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-utilities&quot;&gt;
+     &lt;title&gt;Utility Functions&lt;/title&gt;
+ 
+     &lt;section id=&quot;fields_ref-utilities-compression&quot;&gt;
+      &lt;title&gt;Compressed Data&lt;/title&gt;
+ 
+      &lt;para&gt;Add a table containing
+      &lt;function&gt;elementsCompressed&lt;/function&gt;,
+      &lt;function&gt;compressed&lt;/function&gt;, &lt;function&gt;compress&lt;/function&gt;,
+      and &lt;function&gt;uncompress&lt;/function&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-utilities-sizes&quot;&gt;
+      &lt;title&gt;Centering Sizes and Number of Materials&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a description of &lt;function&gt;numMaterials&lt;/function&gt; and
+      &lt;function&gt;centeringSize&lt;/function&gt; found in &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+      &lt;para&gt;QUESTION: How do these relate to any method functions?&lt;/para&gt;
+     &lt;/section&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-utilities-subfield&quot;&gt;
+      &lt;title&gt;Obtaining Subfields&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a description of &lt;function&gt;subField&lt;/function&gt; found
+      in &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Field/Field.h&lt;/filename&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-centerings&quot;&gt;
+     &lt;title&gt;&field; Centerings&lt;/title&gt;
+ 
+     &lt;para&gt;DO: Describe the purpose of a centering and its definition.
+     Describe the ability to obtain canonical centerings.  Explain how
+     to construct a unique centering.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldDentering.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-fieldoffsets&quot;&gt;
+     &lt;title&gt;Relative &field; Positions&lt;/title&gt;
+ 
+     &lt;para&gt;Permit specifying field positions relative to a field
+     location.  Describe &lt;type&gt;FieldOffset&lt;/type&gt; and
+     &lt;type&gt;FieldOffsetList&lt;/type&gt;.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldOffset.h&lt;/filename&gt;&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-nearestneighbors&quot;&gt;
+     &lt;title&gt;Computing Close-by Field Positions&lt;/title&gt;
+ 
+     &lt;para&gt;Given a field location, return the set of field locations
+     that are closest using ?Manhattan? distance.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/NearestNeighbors.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-mesh&quot;&gt;
+     &lt;title&gt;Mesh ???&lt;/title&gt;
+ 
+     &lt;para&gt;Unlike &array;s, &field;s are distributed throughout space
+     so distances between values within the &amp;field can be computed.  A
+     &field;'s mesh stores this spatial distribution.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What do we need to write about meshes?  What is
+     unimportant implementation and what should be described in this
+     reference section?&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Where in here should emphasize vertex, not cell,
+     positions?  &lt;quote&gt;VERTEX&lt;/quote&gt; appears repeatedly in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/Mesh/NoMesh.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	   orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+      &lt;title&gt;Mesh Types&lt;/title&gt;
+ 
+      &lt;tgroup cols=&quot;2&quot; align=&quot;left&quot;&gt;
+       &lt;thead&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;Mesh Type&lt;/entry&gt;
+ 	&lt;entry&gt;Description&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/thead&gt;
+       &lt;tbody&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;type&gt;NoMesh&lt;Dim&gt;&lt;/type&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;no physical spacing, causing a &field; to mimic
+ 	an &array; with multiple engines.&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+        &lt;row&gt;
+ 	&lt;entry&gt;&lt;type&gt;UniformRectilinearMesh&lt;Dim,T&gt;&lt;/type&gt;&lt;/entry&gt;
+ 	&lt;entry&gt;&lt;para&gt;physical spacing formed by the Cartesian product
+ 	of ????.&lt;/para&gt;&lt;/entry&gt;
+        &lt;/row&gt;
+       &lt;/tbody&gt;
+      &lt;/tgroup&gt;
+     &lt;/table&gt;
+ 
+ 
+     &lt;section id=&quot;fields_ref-mesh-accessors&quot;&gt;
+      &lt;title&gt;Mesh Accessors&lt;/title&gt;
+ 
+      &lt;para&gt;ADD: a table listing accessors, explaining the difference
+      between (physical and total) and (cell and vertex) domains.  See
+      &lt;filename class=&quot;headerfile&quot;&gt;src/Field/Mesh/NoMesh.h&lt;/filename&gt;.
+      Also, include &lt;function&gt;spacings&lt;/function&gt; and
+      &lt;function&gt;origin&lt;/function&gt; in &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Field/Mesh/UniformRectilinearMesh.h&lt;/filename&gt;.
+      Note &lt;type&gt;NoMesh&lt;/type&gt; does not provide the latter two.&lt;/para&gt;
+     &lt;/section&gt;
+ 
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;fields_ref-tmp&quot;&gt;
+     &lt;title&gt;TMP: What do we do with these &hellip;? Remove this
+     section.&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: Do we describe the &lt;type&gt;Patch&lt;/type&gt;
+     specialization for &field; at this place or in some common place?
+     Follow &array;'s lead.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: Where do we describe &lt;type&gt;CreateLeaf&lt;/type&gt; and
+     &lt;type&gt;MakeFieldReturn&lt;/type&gt; in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldCreateLeaf.h&lt;/filename&gt; and
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldMakeReturn.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What do we do with &lt;type&gt;FieldEnginePatch&lt;/type&gt;
+     in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Field/FieldEngine/FieldEnginePatch.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;engines_ref&quot;&gt;
+    &lt;title&gt;&engine;s&lt;/title&gt;
+ 
+    &lt;para&gt;From a user's point of view, a container makes data available
+    for reading and writing.  In fact, the container's &engine; stores
+    the data or, if the data is computed, performs a computation to
+    yield the data.&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: Introduce the various types of engines.  Add a table
+    with a short description of each engine type.&lt;/para&gt;
+ 
+    &lt;para&gt;FINISH: First, we specify a generic &engine;'s interface.
+    Then, we present &engine; specializations.&lt;/para&gt;
+    
+    &lt;table frame=&quot;none&quot; colsep=&quot;0&quot; rowsep=&quot;0&quot; tocentry=&quot;1&quot;
+ 	  orient=&quot;port&quot; pgwide=&quot;0&quot;&gt;
+     &lt;title&gt;Types of &engine;s&lt;/title&gt;
+ 
+     &lt;tgroup cols=&quot;3&quot; align=&quot;left&quot;&gt;
+      &lt;thead&gt;
+       &lt;row&gt;
+        &lt;entry&gt;Engine Type&lt;/entry&gt;
+        &lt;entry&gt;Engine Tag&lt;/entry&gt;
+        &lt;entry&gt;Description&lt;/entry&gt;
+       &lt;/row&gt;
+      &lt;/thead&gt;
+      &lt;tbody&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Brick&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;Brick&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Explicitly store all elements in, e.g., a &cc;
+ 	array.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Compressible&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;CompressibleBrick&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;If all values are the same, use constant storage
+ 	for that single value.  Otherwise, explicitly store all
+ 	elements.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Constant&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;ConstantFunction&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Returns the same constant value for all
+        indices.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Dynamic&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;Dynamic&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Manages a contiguous, local, one-dimensional,
+        dynamically resizable block of data.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Component Forwarding&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;CompFwd&lt;EngineTag,
+        Components&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Returns the specified components from
+        &lt;literal&gt;EngineTag&lt;/literal&gt;'s engine.  Components are
+        &lt;quote&gt;pieces&lt;/quote&gt; of multi-value elements such as vectors
+        and tensors.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Expression&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;ExpressionTag&lt;Expr&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Returns the value of the specified &pete;
+        expression.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Index Function&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;IndexFunction&lt;Functor&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Makes the function
+        &lt;literal&gt;Functor&lt;/literal&gt;accepting indices mimic an
+        array.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;MultiPatch&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;MultiPatch&lt;LayoutTag,PatchTag&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Support distributed computation using several
+        processors (???contexts???).  &lt;literal&gt;LayoutTag&lt;/literal&gt;
+        indicates how the entire array is distributed among the
+        processors.  Each processor uses a &lt;literal&gt;PatchTag&lt;/literal&gt;
+        engine.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Remote&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;Remote&lt;EngineTag&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;unknown&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Remote Dynamic&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;Remote&lt;Dynamic&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;unknown: specialization&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;Stencil&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;StencilEngine&lt;Function,
+        Expression&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;Returns values computed by applying the
+        user-specified function to sets of contiguous values in the
+        given engine or container.  Compare with user function
+        engines.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+       &lt;row&gt;
+        &lt;entry&gt;&lt;para&gt;User Function&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt;&lt;literal&gt;UserFunctionEngine&lt;UserFunction,Expression&gt;&lt;/literal&gt;&lt;/para&gt;&lt;/entry&gt;
+        &lt;entry&gt;&lt;para&gt; Returns values computed by applying the
+        user-specified function to the given engine or container.
+        QUESTION: Is the following claim correct? For each returned
+        value, only one value from the engine or container is
+        used.&lt;/para&gt;&lt;/entry&gt;
+       &lt;/row&gt;
+      &lt;/tbody&gt;
+     &lt;/tgroup&gt;
+    &lt;/table&gt;
+ 
+    &lt;para&gt;QUESTION: Where do we describe views?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What does &lt;type&gt;NewEngine&lt;/type&gt; do?  Should it be
+     described when describing views?  Should it be omitted as an
+     implementation detail?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Where do we describe &engine; patches found in
+    &lt;filename class=&quot;headerfile&quot;&gt;src/Engine/EnginePatch.h&lt;/filename&gt;?
+    All patch data in a separate chapter or engine-specific pieces in
+    this chapter?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What is &lt;function&gt;notifyEngineWrite&lt;/function&gt;?
+    See also &lt;filename
+ 		      class=&quot;headerfile&quot;&gt;src/Engine/NotifyEngineWrite.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What aspect of MultiPatch uses &lt;type&gt;IsValid&lt;/type&gt; in
+    &lt;filename
+ 	     class=&quot;headerfile&quot;&gt;src/Engine/IsValidLocation.h&lt;/filename&gt;?&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: Who uses intersections?  Where should this be
+    described?  See &lt;filename
+ 			     class=&quot;headerfile&quot;&gt;src/Engine/Intersector.h&lt;/filename&gt;, &lt;filename
+ 											       class=&quot;headerfile&quot;&gt;src/Engine/IntersectEngine.h&lt;/filename&gt;, and
+    &lt;filename
+ 	     class=&quot;headerfile&quot;&gt;src/Engine/ViewEngine.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;section id=&quot;engines_ref-compile_time_interface&quot;&gt;
+     &lt;title&gt;&engine; Compile-Time Interface&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table of template parameters ala &array;.  ADD:
+     compile-time types and values.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-constructors&quot;&gt;
+     &lt;title&gt;Constructors and Destructors&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table of constructors and destructors ala
+     &array;'s.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-access&quot;&gt;
+     &lt;title&gt;Element Access&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table with &lt;methodname&gt;read&lt;/methodname&gt; and
+     &lt;methodname&gt;operator()&lt;/methodname&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-accessors&quot;&gt;
+     &lt;title&gt;Accessors&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table of accessors.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-assignments&quot;&gt;
+     &lt;title&gt;&engine; Assignments&lt;/title&gt;
+ 
+     &lt;para&gt;similar to &array;'s assignments.  shallow copies.  ADD: a
+     table with one entry&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-utilities&quot;&gt;
+     &lt;title&gt;Utility Methods&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: a table including
+     &lt;methodname&gt;makeOwnCopy&lt;/methodname&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What are &lt;methodname&gt;dataObject&lt;/methodname&gt;,
+     &lt;methodname&gt;isShared&lt;/methodname&gt;, and related methods?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-implementation&quot;&gt;
+     &lt;title&gt;Implementation Details&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: this section.  Explain that
+     &lt;varname&gt;dataBlock_m&lt;/varname&gt; and &lt;varname&gt;data_m&lt;/varname&gt; point
+     to the same place.  The latter speeds access, but what is the
+     purpose of the former?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-brick&quot;&gt;
+     &lt;title&gt;Brick and BrickView Engines&lt;/title&gt;
+ 
+     &lt;para&gt;ADD: description of what a brick means.  ADD: whatever
+     specializations the class has, e.g.,
+     &lt;methodname&gt;offset&lt;/methodname&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;QUESTION: What does &lt;type&gt;DoubleSliceHelper&lt;/type&gt; do?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-compressible&quot;&gt;
+     &lt;title&gt;Compressible Brick and BrickView Engines&lt;/title&gt;
+ 
+     &lt;para&gt;ADD this.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-dynamic&quot;&gt;
+     &lt;title&gt;Dynamic and DynamicView Engines:&lt;/title&gt;
+ 
+     &lt;para&gt;ADD this.  Manages a contiguous, local, resizable, 1D block
+     of data.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-components&quot;&gt;
+     &lt;title&gt;Component Engines&lt;/title&gt;
+ 
+     &lt;para&gt;I believe these implement array component-forwarding.  See
+     &lt;filename
+ 	      class=&quot;headerfile&quot;&gt;src/Engine/ForwardingEngine.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-expressions&quot;&gt;
+     &lt;title&gt;Expression Engines&lt;/title&gt;
+ 
+     &lt;para&gt;Should this be described in the &pete; section?  Unlikely.
+     See &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Engine/ExpressionEngine.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-enginefunctor&quot;&gt;
+     &lt;title&gt;&engine; Functors&lt;/title&gt;
+ 
+     &lt;para&gt;QUESTION: What is an &lt;type&gt;EngineFunctor&lt;/type&gt;?  Should it
+     have its own section?  See &lt;filename
+ 					 class=&quot;headerfile&quot;&gt;src/Engine/EngineFunctor.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;engines_ref-fieldengines&quot;&gt;
+     &lt;title&gt;&lt;type&gt;FieldEngine&lt;/type&gt;: A Hierarchy of &engine;s&lt;/title&gt;
+ 
+     &lt;para&gt;A &field; consists of a hierarchy of materials and
+     centerings.  These are implemented using a hierarchy of engines.
+     See &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Field/FieldEngine/FieldEngine.h&lt;/filename&gt;
+     and &lt;filename
+ 		  class=&quot;headerfile&quot;&gt;src/Field/FieldEngine/FieldEngine.ExprEngine.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;benchmarks_ref&quot;&gt;
+    &lt;title&gt;&benchmark; Programs&lt;/title&gt;
+ 
+    &lt;para&gt;Explain how to use &benchmark; programs, especially the
+    options.  Explain how to write a &benchmark; program.  See also
+    &lt;filename class=&quot;headerfile&quot;&gt;src/Utilities/Benchmark.h&lt;/filename&gt;
+    and &lt;filename
+    class=&quot;libraryfile&quot;&gt;src/Utilities/Benchmark.cmpl.cpp&lt;/filename&gt;.&lt;/para&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;layouts_ref&quot;&gt;
+    &lt;title&gt;Layouts and Partitions: Distribute Computation Among
+    Contexts&lt;/title&gt;
+ 
+    &lt;para&gt;QUESTION: What is the difference between
+    &lt;type&gt;ReplicatedTag&lt;/type&gt; and &lt;type&gt;DistributedTag&lt;/type&gt;?&lt;/para&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;pete_ref&quot;&gt;
+    &lt;title&gt;&pete;: Evaluating Parallel Expressions&lt;/title&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;UNKNOWN&lt;/title&gt;
+ 
+     &lt;section id=&quot;pete_ref-unknown-leaf-tags&quot;&gt;
+      &lt;title&gt;Leaf Tag Classes&lt;/title&gt;
+ 
+      &lt;para&gt;&lt;type&gt;NotifyPreReadTag&lt;/type&gt; indicates a term is about to
+      be read.  Why is this needed?  Defined in &lt;filename
+      class=&quot;headerfile&quot;&gt;src/Utilities/NotifyPreRead.h&lt;/filename&gt;.&lt;/para&gt;
+     &lt;/section&gt;
+    &lt;/section&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;views_ref&quot;&gt;
+    &lt;title&gt;Views&lt;/title&gt;
+ 
+    &lt;para&gt;QUESTION: Should this have its own chapter or be part of a
+    container chapter?&lt;/para&gt;
+ 
+    &lt;para&gt;Describe &lt;type&gt;View0&lt;/type&gt;, &lt;type&gt;View1&lt;/type&gt;, &hellip;,
+    &lt;type&gt;View7&lt;/type&gt; and &lt;type&gt;View1Implementation&lt;/type&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;QUESTION: What causes the need for &lt;type&gt;AltView0&lt;/type&gt; and
+    &lt;type&gt;AltComponentView&lt;/type&gt;?&lt;/para&gt;
+ 
+    &lt;para&gt;Be sure to describe &lt;type&gt;ComponentView&lt;/type&gt; in the same
+    place.  This is specialized for &array;s in &lt;filename
+    class=&quot;headerfile&quot;&gt;src/Array/Array.h&lt;/filename&gt;:1323&ndash;1382.&lt;/para&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;&lt;type&gt;ViewIndexer&lt;Dim,Dim2&gt;&lt;/type&gt;&lt;/title&gt;
+ 
+     &lt;para&gt;Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/ViewIndexer.h&lt;/filename&gt;, this
+     type translates indices between a domain and a view of it.&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+   &lt;chapter id=&quot;threads_ref&quot;&gt;
+    &lt;title&gt;Threads&lt;/title&gt;
+ 
+    &lt;para&gt;Perhaps include information in &lt;filename
+    class=&quot;headerfile&quot;&gt;src/Engine/DataObject.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;para&gt;&pooma; options include UNFINISHED&lt;/para&gt;
+ 
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;utilities_ref&quot;&gt;
+    &lt;title&gt;Utility Types&lt;/title&gt;
+ 
+    &lt;para&gt;TMP: What is a good order?&lt;/para&gt;
+ 
+    &lt;section id=&quot;utilities_ref-options&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Options&lt;/type&gt;: Varying Run-Time Execution&lt;/title&gt;
+ 
+     &lt;para&gt;Each &pooma; executable has a &lt;type&gt;Options&lt;/type&gt; object,
+     created by &lt;function&gt;Pooma::initialize&lt;/function&gt;, storing
+     run-time configurable values found in &lt;varname&gt;argv&lt;/varname&gt;.
+     Default options are found in
+     &lt;methodname&gt;Options::usage&lt;/methodname&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Options.h&lt;/filename&gt; and
+     &lt;filename
+     class=&quot;libraryfile&quot;&gt;src/Utilities/Options.cmpl.cpp&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;Scatter the specific options to other parts of the
+     manual.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;utilities_ref-assertions&quot;&gt;
+     &lt;title&gt;Check Correctness: &lt;type&gt;CTAssert&lt;/type&gt;,
+     &lt;type&gt;PAssert&lt;/type&gt;, &lt;type&gt;PInsist&lt;/type&gt;,
+     &lt;type&gt;SameType&lt;/type&gt;&lt;/title&gt;
+ 
+     &lt;para&gt;Assertions ensure program invariants are obeyed.
+     &lt;type&gt;CTAssert&lt;/type&gt;, checked at compile time, incur no run-time
+     cost.  &lt;type&gt;PAssert&lt;/type&gt; and &lt;type&gt;PInsist&lt;/type&gt; are checked
+     to run-time, the latter producing an explanatory message if the
+     assertion fails.  Compiling with &lt;envar&gt;NOCTAssert&lt;/envar&gt; and
+     &lt;envar&gt;NOPTAssert&lt;/envar&gt; disable these checks.  Compiling with just
+     &lt;envar&gt;NOPTAssert&lt;/envar&gt; disables only the run-time checks.&lt;/para&gt;
+ 
+     &lt;para&gt;&lt;type&gt;SameType&lt;/type&gt; ensures, at compile-time, two types
+     are the same.&lt;/para&gt;
+ 
+     &lt;para&gt;These are implemented in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/PAssert.h&lt;/filename&gt; and
+     &lt;filename
+     class=&quot;libraryfile&quot;&gt;src/Utilities/PAssert.cmpl.cpp&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;utilities_ref-clock&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Clock&lt;/type&gt;: Measuring a Program's Execution Time&lt;/title&gt;
+ 
+     &lt;para&gt;See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Clock.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+ 
+    &lt;section id=&quot;utilities_ref-smart_pointers&quot;&gt;
+     &lt;title&gt;Smart Pointers: &lt;type&gt;RefCountedPtr&lt;/type&gt;,
+     &lt;type&gt;RefCountedBlockPtr&lt;/type&gt;, and
+     &lt;type&gt;DataBlockPtr&lt;/type&gt;&lt;/title&gt;
+ 
+     &lt;para&gt;See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/{RefCountedPtr,RefCountedBlockPtr,DataBlockPtr}.h&lt;/filename&gt;.
+     &lt;filename class=&quot;headerfile&quot;&gt;src/Utilities/RefCounted.h&lt;/filename&gt;
+     helps implement it.  &lt;type&gt;DataBlockPtr&lt;/type&gt; uses
+     &smarts;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;utilities_ref-inform&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Inform&lt;/type&gt;: Formatted Output for Multi-context
+     Execution&lt;/title&gt;
+ 
+     &lt;para&gt;See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Inform.h&lt;/filename&gt; and &lt;filename
+     class=&quot;libraryfile&quot;&gt;src/Utilities/Inform.cmpl.cpp&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;utilities_ref-statistics&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Statistics&lt;/type&gt;: Report &pooma; Execution Statistics&lt;/title&gt;
+ 
+     &lt;para&gt;Collect and print execution statistics.  Defined in
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Statistics.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;utilities_ref-random_numbers&quot;&gt;
+     &lt;title&gt;Random Numbers: &lt;type&gt;Unique&lt;/type&gt;&lt;/title&gt;
+ 
+     &lt;para&gt;See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Unique.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;implementation_types_ref&quot;&gt;
+    &lt;title&gt;Types for Implementing &pooma;&lt;/title&gt;
+ 
+    &lt;para&gt;TMP: What is a good order?&lt;/para&gt;
+ 
+    &lt;para&gt;Describe types defined to implement &pooma; but that users do
+    not directly use.  This chapter has lower priority than other
+    chapters since users (hopefully) do not need to know about these
+    classes.&lt;/para&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-tester&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Tester&lt;/type&gt;: Check Implementation Correctness&lt;/title&gt;
+ 
+     &lt;para&gt;&pooma; implementation test programs frequently consist of a
+     series of operations followed by correctness checks.  The
+     &lt;type&gt;Tester&lt;/type&gt; object supports these tests, returning a
+     boolean whether all the correctness checks yield true.  Under
+     verbose output, messages are printed for each test.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Tester.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-elementproperties&quot;&gt;
+     &lt;title&gt;&lt;type&gt;ElementProperties&lt;T&gt;&lt;/type&gt;: Properties a Type
+     Supports&lt;/title&gt;
+ 
+     &lt;para&gt;This traits class permits optimizations in other templated
+     classes.  See &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/ElementProperties.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-typeinfo&quot;&gt;
+     &lt;title&gt;&lt;type&gt;TypeInfo&lt;T&gt;&lt;/type&gt;: Print a String Describing
+     the Type&lt;/title&gt;
+ 
+     &lt;para&gt;Print a string describing the type.  Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/TypeInfo.h&lt;/filename&gt;.  It is
+     specialized for other types in other files, e.g., &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Engine/EngineTypeInfo.h&lt;/filename&gt; and
+     &lt;filename class=&quot;headerfile&quot;&gt;src/Field/FieldTypeInfo.h&lt;/filename&gt;.
+     Is this a compile-time version of RTTI?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-looputils&quot;&gt;
+     &lt;title&gt;&lt;type&gt;LoopUtils&lt;/type&gt;: Loop Computations at Compile Time&lt;/title&gt;
+ 
+     &lt;para&gt;At compile time, &lt;type&gt;LoopUtils&lt;/type&gt; supports copying
+     between arrays and computing the dot product of arrays.  See
+     &lt;filename
+ 	      class=&quot;headerfile&quot;&gt;src/Utilities/MetaProg.h&lt;/filename&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-modelelement&quot;&gt;
+     &lt;title&gt;&lt;type&gt;ModelElement&lt;T&gt;&lt;/type&gt;: Wrap a Type&lt;/title&gt;
+ 
+     &lt;para&gt;A wrapper class used to differentiate overloaded functions.
+     Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/ModelElement.h&lt;/filename&gt;.  Used
+     only by &array; and &lt;type&gt;DynamicArray&lt;/type&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-wrappedint&quot;&gt;
+     &lt;title&gt;&lt;type&gt;WrappedInt&lt;int&gt;&lt;/type&gt;: Wrap a Number&lt;/title&gt;
+ 
+     &lt;para&gt;A wrapper class used to differentiate overloaded functions
+     among different integers.  Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/WrappedInt.h&lt;/filename&gt;.  Is this
+     class deprecated?  Is it even necessary?&lt;/para&gt;
+    &lt;/section&gt;
+    
+    &lt;section id=&quot;implementation_types_ref-empty_classes&quot;&gt;
+     &lt;title&gt;Supporting Empty Classes&lt;/title&gt;
+ 
+     &lt;para&gt;The &lt;type&gt;NoInit&lt;/type&gt; tag class indicates certain
+     initializations should be skipped.  Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/NoInit.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+     &lt;para&gt;FIXME: Should be macro, not function.
+     &lt;function&gt;POOMA_PURIFY_CONSTRUCTORS&lt;/function&gt; generates an empty
+     constructor, copy constructor, and destructor to avoid &purify;
+     warnings.  Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/PurifyConstructors.h&lt;/filename&gt;.&lt;/para&gt;
+ 
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-pool&quot;&gt;
+     &lt;title&gt;&lt;type&gt;Pooled&lt;T&gt;&lt;/type&gt;: Fast Memory Allocation of
+     Small Blocks&lt;/title&gt;
+ 
+     &lt;para&gt;&lt;type&gt;Pooled&lt;T&gt;&lt;/type&gt; speeds allocation and
+     deallocation of memory blocks for small objects with
+     type&nbsp;&lt;type&gt;T&lt;/type&gt;.  Defined in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Pooled.h&lt;/filename&gt;, it is
+     implemented in &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/Pool.h&lt;/filename&gt; and &lt;filename
+     class=&quot;libraryfile&quot;&gt;src/Utilities/Pool.cmpl.cpp&lt;/filename&gt;.
+     &lt;filename class=&quot;headerfile&quot;&gt;src/Utilities/StaticPool.h&lt;/filename&gt;
+     no longer seems to be used.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;implementation_types_ref-uninitialized_vector&quot;&gt;
+     &lt;title&gt;&lt;type&gt;UninitializedVector&lt;T,Dim&gt;&lt;/type&gt;: Create
+     Without Initializing&lt;/title&gt;
+ 
+     &lt;para&gt;This class optimizes creation of an array of objects by
+     avoiding running the default constructors.  Later initialization
+     can occur, perhaps using a loop that can be unrolled.  Defined in
+     &lt;filename
+     class=&quot;headerfile&quot;&gt;src/Utilities/UninitializedVector.h&lt;/filename&gt;,
+     this is used only by &lt;type&gt;DomainTraits&lt;/type&gt;.&lt;/para&gt;
+    &lt;/section&gt;
+   &lt;/chapter&gt;
+ 
+   &lt;chapter id=&quot;implementation_algorithms_ref&quot;&gt;
+    &lt;title&gt;Algorithms for Implementing &pooma;&lt;/title&gt;
+ 
+    &lt;para&gt;In &lt;filename&gt;src/Utilities/algorithms.h&lt;/filename&gt;,
+    &lt;function&gt;copy&lt;/function&gt;, &lt;function&gt;delete_back&lt;/function&gt;, and
+    &lt;function&gt;delete_shiftup&lt;/function&gt; provide additional algorithms
+    using iterators.&lt;/para&gt;
+   &lt;/chapter&gt;
+ 
+ 
+   &lt;chapter id=&quot;where-place-these_ref&quot;&gt;
+    &lt;title&gt;TMP: Where do we describe these files?&lt;/title&gt;
+ 
+    &lt;itemizedlist&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;&lt;filename
+ 		     class=&quot;headerfile&quot;&gt;src/Utilities/Conform.h&lt;/filename&gt;: tag for
+      checking whether terms in expression have conforming
+      domains&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;&lt;filename
+ 		     class=&quot;headerfile&quot;&gt;src/Utilities/DerefIterator.h&lt;/filename&gt;:
+      &lt;type&gt;DerefIterator&lt;T&gt;&lt;/type&gt; and
+      &lt;type&gt;ConstDerefIterator&lt;T&gt;&lt;/type&gt; automatically
+      dereference themselves to maintain &lt;literal&gt;const&lt;/literal&gt;
+      correctness.  &lt;!-- FIXME: s/literal/keyword/ --&gt;&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;&lt;filename
+ 		     class=&quot;headerfile&quot;&gt;src/Utilities/Observable.h&lt;/filename&gt;,
+      &lt;filename class=&quot;headerfile&quot;&gt;src/Utilities/Observer.h&lt;/filename&gt;,
+      and &lt;filename
+ 		   class=&quot;headerfile&quot;&gt;src/Utilities/ObserverEvent.h&lt;/filename&gt;:
+      &lt;type&gt;Observable&lt;T&gt;&lt;/type&gt;,
+      &lt;type&gt;SingleObserveable&lt;T&gt;&lt;/type&gt;,
+      &lt;type&gt;Observer&lt;T&gt;&lt;/type&gt;, and &lt;type&gt;ObserverEvent&lt;/type&gt;
+      implement the observer pattern.  What is the observer pattern?
+      Where is this used in the code?&lt;/para&gt;
+     &lt;/listitem&gt;
+    &lt;/itemizedlist&gt;
+ 
+   &lt;/chapter&gt;
+ 
+  &lt;/part&gt;
+ 
+ 
+  &lt;appendix id=&quot;future_development&quot;&gt;
+   &lt;title&gt;Future Development&lt;/title&gt;
+ 
+   &lt;section id=&quot;future_development-particles&quot;&gt;
+    &lt;title&gt;Particles&lt;/title&gt;
+ 
+    &lt;para&gt;&lt;filename
+ 		   class=&quot;libraryfile&quot;&gt;docs/ParticlesDoc.txt&lt;/filename&gt; has
+    out-of-date information.&lt;/para&gt;
+ 
+    &lt;para&gt;See Section&nbsp;3.2.3 of
+    &lt;filename&gt;papers/pooma.ps&lt;/filename&gt; for an out-of-date
+    description.&lt;/para&gt;
+ 
+    &lt;para&gt;&lt;filename&gt;papers/jvwr.ps&lt;/filename&gt; concerns mainly
+    particles.  &lt;filename&gt;papers/8thSIAMPOOMAParticles.pdf&lt;/filename&gt;,
+    by Julian Cummings and Bill Humphrey, concerns parallel particle
+    simulations.  &lt;filename&gt;papers/iscope98linac.pdf&lt;/filename&gt;
+    describes a particle beam simulation using &pooma;; it mainly
+    concerns particles.&lt;/para&gt;
+ 
+    &lt;section&gt;
+     &lt;title&gt;Particles&lt;/title&gt;
+ 
+     &lt;para&gt;Do we want to include such a section?&lt;/para&gt;
+ 
+     &lt;para&gt;Section&nbsp;3, &quot;Sample Applications&quot; of
+     &lt;filename&gt;papers/SiamOO98_paper.ps&lt;/filename&gt; describes porting a
+     particle program written using High-Performance Fortran to
+     &pooma; and presumably why particles were added to &pooma;.  It
+     also describes &lt;application&gt;MC++&lt;/application&gt;, a Monte Carlo
+     neutron transport code.&lt;/para&gt;
+ 
+    &lt;/section&gt;
+ 
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;future_development-composition_engine&quot;&gt;
+    &lt;title&gt;Composition of &engine;s&lt;/title&gt;
+ 
+    &lt;para&gt;The i,j-th element of the composition
+    &lt;varname&gt;a&lt;/varname&gt;&compfn;&lt;varname&gt;b&lt;/varname&gt; of two arrays
+    &lt;varname&gt;a&lt;/varname&gt; and &lt;varname&gt;b&lt;/varname&gt; equals a(b(i,j)).
+    The composition engine tagged &lt;literal&gt;IndirectionTag&lt;Array1,
+    Array2&gt;&lt;/literal&gt;, defined in &lt;filename
+ 					      class=&quot;headerfile&quot;&gt;src/Engine/IndirectionEngine.h&lt;/filename&gt; is
+    unfinished.&lt;/para&gt;
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;future_development-container_consistency&quot;&gt;
+    &lt;title&gt;Improving Consistency of Container Interfaces&lt;/title&gt;
+ 
+    &lt;section id=&quot;future_development-container_consistency-array_relations&quot;&gt;
+     &lt;title&gt;Relations for &array;s&lt;/title&gt;
+ 
+     &lt;para&gt;Do &array;s currently support relations?  If not, why not?
+    Should they be added?&lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;future_development-container_consistency-dimensions&quot;&gt;
+     &lt;title&gt;Supporting the Same Number of Dimensions&lt;/title&gt;
+ 
+     &lt;para&gt;&array; and &field; should support the same maximum number
+     of dimensions.  Currently, &array;s support seven dimensions and
+     &field;s support only three.  By definition, &dynamicarray;
+     supports only one dimension.&lt;/para&gt;
+ 
+     &lt;para&gt;Relations for &array;s.&lt;/para&gt;
+ 
+     &lt;para&gt;External guards for &array;s.&lt;/para&gt;
+    &lt;/section&gt;
+ 
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;future_development-where&quot;&gt;
+    &lt;title&gt;&lt;function&gt;where&lt;/function&gt; Proxies&lt;/title&gt;
+ 
+    &lt;para&gt;QUESTION: Do we even discuss this broken
+    &lt;quote&gt;feature&lt;/quote&gt;?  Where is it used?  Some related code is in
+    &lt;filename&gt;src/Array/Array.h&lt;/filename&gt;:2511&ndash;2520.&lt;/para&gt;
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;future_development-long_term&quot;&gt;
+    &lt;title&gt;Very Long Term Development Ideas&lt;/title&gt;
+ 
+    &lt;para&gt;Describe how to write a new configuration file.&lt;/para&gt;
+   &lt;/section&gt;
+ 
+  &lt;/appendix&gt;
+ 
+ 
+  &lt;appendix id=&quot;installation&quot;&gt;
+   &lt;title&gt;Obtaining and Installing &pooma;&lt;/title&gt;
+ 
+   &lt;para&gt;ADD: Write this section, including extensive instructions
+   for Unix, MS Windows, and MacOS.  List the configuration options.
+   Be sure to describe configuring for parallel execution.&lt;/para&gt;
+ 
+   &lt;section id=&quot;installation-distributed_computing&quot;&gt;
+    &lt;title&gt;Supporting Distributed Computation&lt;/title&gt;
+ 
+    &lt;para&gt;To use multiple processors with &pooma; requires installing
+    the &cheetah; messaging library and an underlying messaging library
+    such as the Message Passing Interface (&mpi;) Communications
+    Library or the &mm; Shared Memory Library.  In this section, we
+    first describe how to install &mm;.  Read the section only if using
+    &mm;, not &mpi;.  Then we describe how to install &cheetah; and
+    configure &pooma; to use it.&lt;/para&gt;
+ 
+    &lt;section id=&quot;installation-distributed_computing-mm&quot;&gt;
+     &lt;title&gt;Obtaining and Installing the &mm; Shared Memory Library&lt;/title&gt;
+ 
+     &lt;para&gt;&cheetah;, and thus &pooma;, can use Ralf Engelschall's &mm;
+     Shared Memory Library to pass messages between processors.  For
+     example, the &author; uses this library on a two-processor
+     computer running &linux;.  The library, available at
+     <A HREF="http://www.engelschall.com/sw/mm/,">http://www.engelschall.com/sw/mm/,</A> is available for free and has
+     been successfully tested on a variety of Unix platforms.&lt;/para&gt;
+ 
+     &lt;para&gt;We describe how to download and install the &mm; library.
+      &lt;orderedlist spacing=&quot;compact&quot;&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;Download the library from the &pooma; Download page
+          available off the &pooma; home page (&poomaHomePage;).&lt;/para&gt;
+ 	&lt;/listitem&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;Extract the source code using &lt;command&gt;tar xzvf
+          mm-1.1.3.tar.gz&lt;/command&gt;.  Move into the resulting source
+          code directory &lt;filename
+          class=&quot;directory&quot;&gt;mm-1.1.3&lt;/filename&gt;.&lt;/para&gt;
+ 	&lt;/listitem&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;Prepare to compile the source code by configuring it
+          using the &lt;command&gt;configure&lt;/command&gt; command.  To change
+          the default installation directory &lt;filename
+          class=&quot;directory&quot;&gt;/usr/local&lt;/filename&gt;, specify
+          &lt;command&gt;--prefix=&lt;replaceable&gt;directory&lt;/replaceable&gt;&lt;/command&gt;
+          option.  The other configuration options can be listed by
+          specifying the &lt;command&gt;--help&lt;/command&gt; option.  Since the
+          &author; prefers to keep all &pooma;-related code in his
+          &lt;filename class=&quot;directory&quot;&gt;pooma&lt;/filename&gt;subdirectory, he
+          uses &lt;command&gt;./configure
+          --prefix=${HOME}/pooma/mm-1.1.3&lt;/command&gt;.&lt;/para&gt;
+ 	&lt;/listitem&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;Create the library by issuing the &lt;command&gt;make&lt;/command&gt;
+      command.  This compiles the source code using a &c; compiler.  To
+      use a different compiler than the &mm; configuration chooses, set
+      the &lt;envar&gt;CC&lt;/envar&gt; to the compiler before configuring.&lt;/para&gt;
+       &lt;/listitem&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;Optionally test the library by issuing the &lt;command&gt;make
+      test&lt;/command&gt; command.  If successful, the penultimate line
+      should be &lt;computeroutput&gt;OK - ALL TESTS SUCCESSFULLY
+      PASSED&lt;/computeroutput&gt;.&lt;/para&gt;
+     &lt;/listitem&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;Install the &mm; Library by issuing the &lt;command&gt;make
+      install&lt;/command&gt; command.  This copies the library files to the
+      installation directory.  The &lt;filename
+      class=&quot;directory&quot;&gt;mm-1.1.3&lt;/filename&gt; directory containing the
+      source code may now be removed.&lt;/para&gt;
+     &lt;/listitem&gt;
+    &lt;/orderedlist&gt;
+    &lt;/para&gt;
+    &lt;/section&gt;
+ 
+    
+    &lt;section id=&quot;installation-distributed_computing-cheetah&quot;&gt;
+     &lt;title&gt;Obtaining and Installing the &cheetah; Messaging Library&lt;/title&gt;
+ 
+     &lt;para&gt;The &cheetah; Library decouples communication from
+     synchronization.  Using asynchronous messaging rather than
+     synchronous messaging permits a message sender to operate without
+     the cooperation of the message recipient.  Thus, implementing
+     message sending is simpler and processing is more efficiently
+     overlapped with it.  Remote method invocation is also supported.
+     The library was developed at the Los Alamos National Laboratory's
+     Advanced Computing Laboratory.&lt;/para&gt;
+ 
+     &lt;para&gt;&cheetah;'s messaging is implemented using an underlying
+     messaging library such as the Message Passing Interface (&mpi;)
+     Communications Library (FIXME: xref linkend=&quot;mpi99&quot;, &lt;ulink
+     url=&quot;<A HREF="http://www-unix.mcs.anl.gov/mpi/">http://www-unix.mcs.anl.gov/mpi/</A>&quot;&gt;&lt;/ulink&gt;) or the &mm;
+     Shared Memory Library.  &mpi; works on a wide variety of platforms
+     and has achieved widespread usage.  &mm; works under Unix on any
+     computer with shared memory.  Both libraries are available for
+     free.  The instructions below work for whichever library you
+     choose.&lt;/para&gt;
+ 
+     &lt;para&gt;We describe how to download and install &cheetah;.
+      &lt;orderedlist spacing=&quot;compact&quot;&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Download the library from the &pooma; Download page
+        available off the &pooma; home page (&poomaHomePage;).&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Extract the source code using &lt;command&gt;tar xzvf
+        cheetah-1.0.tgz&lt;/command&gt;.  Move into the resulting source code
+        directory &lt;filename
+        class=&quot;directory&quot;&gt;cheetah-1.0&lt;/filename&gt;.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Edit a configuration file corresponding to your operating
+        system and compiler.  These &lt;filename
+        class=&quot;libraryfile&quot;&gt;.conf&lt;/filename&gt; files are located in the
+        &lt;filename class=&quot;directory&quot;&gt;config&lt;/filename&gt; directory.  For
+        example, to use &gcc; with the &linux; operating system, use
+        &lt;filename
+        class=&quot;libraryfile&quot;&gt;config/LINUXGCC.conf&lt;/filename&gt;.&lt;/para&gt;
+ 
+        &lt;para&gt;The configuration file usually does not need
+        modification.  However, if you are using &mm;, ensure
+        &lt;varname&gt;shmem_default_dir&lt;/varname&gt; specifies its location.
+        For example, the &author; modified the value to
+        &lt;statement&gt;&quot;/home/oldham/pooma/mm-1.1.3&quot;&lt;/statement&gt;.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Prepare to compile the source code by configuring it
+        using the &lt;command&gt;configure&lt;/command&gt; command.  Specify the
+        configuration file using the &lt;command&gt;--arch&lt;/command&gt; option.
+        Its argument should be the configuration file's name, omitting
+        its &lt;filename class=&quot;libraryfile&quot;&gt;.conf&lt;/filename&gt; suffix.  For
+        example, &lt;command&gt;--arch LINUXGCC&lt;/command&gt;.  Some other
+        options include
+        &lt;variablelist&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--help&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;lists all the available options&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--shmem --nompi&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;indicates use of &mm;, not &mpi;&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--mpi --noshmem&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;indicates use of &mpi;, not &mm;&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--opt&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;causes the compiler to produce optimized source code&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--noex&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;prevents use of &cc; exceptions&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+        &lt;varlistentry&gt;
+ 	&lt;term&gt;--prefix &lt;replaceable&gt;directory&lt;/replaceable&gt;&lt;/term&gt;
+ 	&lt;listitem&gt;
+ 	 &lt;para&gt;specifies the installation directory where the
+ 	   library will be copied rather than the default.&lt;/para&gt;
+ 	&lt;/listitem&gt;
+        &lt;/varlistentry&gt;
+       &lt;/variablelist&gt;
+         For example, the &author; uses &lt;command&gt;./configure --arch
+         LINUXGCC --shmem --nompi --noex --prefix
+         ${HOME}/pooma/cheetah-1.0 --opt&lt;/command&gt;.  The
+         &lt;command&gt;--arch LINUXGCC&lt;/command&gt; indicates use of &gcc;
+         under a &linux; operating system.  The &mm; library is used,
+         but &cc; exceptions are not.  The latter choice matches
+         &pooma;'s default choice.  The library will be installed in
+         the &lt;filename
+ 		      class=&quot;directory&quot;&gt;${HOME}/pooma/cheetah-1.0&lt;/filename&gt;.
+         Finally, the library code will be optimized, hopefully running
+         faster than unoptimized code.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Follow the directions printed by
+        &lt;command&gt;configure&lt;/command&gt;: Change directories to the
+        &lt;filename class=&quot;directory&quot;&gt;lib&lt;/filename&gt; subdirectory named
+        by the &lt;command&gt;--arch&lt;/command&gt; argument and then type
+        &lt;command&gt;make&lt;/command&gt; to compile the source code and create
+        the library.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Optionally ensure the library works correctly by issuing
+        the &lt;command&gt;make tests&lt;/command&gt; command.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Install the library by issuing the &lt;command&gt;make
+        install&lt;/command&gt; command.  This copies the library files to
+        the installation directory.  The &lt;filename
+        class=&quot;directory&quot;&gt;cheetah-1.0&lt;/filename&gt; directory containing
+        the source code may now be removed.&lt;/para&gt;
+       &lt;/listitem&gt;
+      &lt;/orderedlist&gt;
+    &lt;/para&gt;
+    &lt;/section&gt;
+ 
+    &lt;section id=&quot;installation-distributed_computing-pooma&quot;&gt;
+     &lt;title&gt;Configuring &pooma; When Using &cheetah;&lt;/title&gt;
+ 
+     &lt;para&gt;To use &pooma; with &cheetah;, one must tell &pooma; the
+     location of the &cheetah; library using the
+     &lt;command&gt;--messaging&lt;/command&gt; configuration option.  To do this,
+      &lt;orderedlist spacing=&quot;compact&quot;&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;Set the &cheetah; directory environment variable
+         &lt;envar&gt;CHEETAHDIR&lt;/envar&gt; to the directory containing the
+         installed &cheetah; library.  For
+         example, &lt;command&gt;declare -x
+         CHEETAHDIR=${HOME}/pooma/cheetah-1.0&lt;/command&gt; specifies the
+         installation directory used in the previous section.&lt;/para&gt;
+       &lt;/listitem&gt;
+       &lt;listitem&gt;
+        &lt;para&gt;When configuring &pooma;, specify the
+        &lt;command&gt;--messaging&lt;/command&gt; option.  For example,
+        &lt;command&gt;./configure --arch LINUXgcc --opt
+        --messaging&lt;/command&gt; configures for &linux;, &gcc;, and an
+        optimized library using &cheetah;.&lt;/para&gt;
+       &lt;/listitem&gt;
+      &lt;/orderedlist&gt;
+     &lt;/para&gt;
+    &lt;/section&gt;
+ 
+ &lt;!-- HERE --&gt;
+   &lt;/section&gt;
+  &lt;/appendix&gt;
+ 
+ 
+  &lt;appendix id=&quot;compilation_errors&quot;&gt;
+   &lt;title&gt;Dealing with Compilation Errors&lt;/title&gt;
+ 
+   &lt;para&gt;Base this low-priority section on &lt;filename
+   class=&quot;libraryfile&quot;&gt;errors.html&lt;/filename&gt;.  QUESTION: Where is
+   &lt;filename class=&quot;libraryfile&quot;&gt;errors.html&lt;/filename&gt;?&lt;/para&gt;
+ 
+  &lt;/appendix&gt;
+ 
+ 
+  &lt;appendix id=&quot;tmp_appendix&quot;&gt;
+   &lt;title&gt;TMP: Notes to Myself&lt;/title&gt;
+ 
+   &lt;section id=&quot;tmp-miscellaneous&quot;&gt;
+    &lt;title&gt;Miscellaneous&lt;/title&gt;
+ 
+    &lt;orderedlist&gt;
+     &lt;listitem&gt;
+      &lt;para&gt;QUESTION: How do I know when to use a type name versus just
+      the concept?  For example, when do I use &lt;quote&gt;array&lt;/quote&gt;
+      versus &array;?&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;Krylov solvers are described in Section&nbsp;3.5.2 of
+      &lt;filename&gt;papers/pooma.ps&lt;/filename&gt;.&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;Section&nbsp;5, &quot;The Polygon Overlay Problem,&quot; describes
+      porting an &lt;acronym&gt;ANSI&lt;/acronym&gt; &c; program to &pooma;.&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;A good example book: &lt;emphasis&gt;STL Tutorial and Reference
+      Guide: &cc; Programming with the Standard Template
+      Library&lt;/emphasis&gt;, second edition, by David&nbsp;R. Musser,
+      Gillmer&nbsp;J. Derge, and Atul Sanai, ISBN 0-201-37923-6,
+      QA76.73.C153.M87 2001.&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;One STL reference book listed functions in margin notes,
+      easing finding material.  Do this.&lt;/para&gt;
+     &lt;/listitem&gt;
+ 
+     &lt;listitem&gt;
+      &lt;para&gt;QUESTION: Does Berna Massingill at Trinity University have
+      any interest ior access to any parallel computers?&lt;/para&gt;
+     &lt;/listitem&gt;
+    &lt;/orderedlist&gt;
+ 
+   &lt;/section&gt;
+ 
+ 
+   &lt;section id=&quot;tmp-html_tutorials&quot;&gt;
+    &lt;title&gt;Existing HTML Tutorials&lt;/title&gt;
+ 
+    &lt;para&gt;All these tutorials are out-of-date, but the ideas and text
+    may still be relevant.&lt;/para&gt;
+ 
+    &lt;variablelist&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;index.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;list of all tutorials.  No useful
+     material.&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;introduction.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;data-parallel Laplace solver using Jacobi
+     iteration ala &lt;command&gt;Doof2d&lt;/command&gt;&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;background.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;short, indirect introduction to &pete;; parallel
+     execution model; &cc;; templates; &stl;; expression
+     templates&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;tut-01.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;Layout.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;parallelism.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+ 				  class=&quot;libraryfile&quot;&gt;self-test.html&lt;/filename&gt;&lt;/term&gt;
+      &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;threading.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-03.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-04.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-05.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-06.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-07.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-08.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-09.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-10.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-11.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-12.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+     &lt;varlistentry&gt;&lt;term&gt;&lt;filename
+     class=&quot;libraryfile&quot;&gt;tut-13.html&lt;/filename&gt;&lt;/term&gt;
+     &lt;listitem&gt;&lt;para&gt;UNFINISHED&lt;/para&gt;&lt;/listitem&gt;
+     &lt;/varlistentry&gt;
+    &lt;/variablelist&gt;
+ 
+   &lt;/section&gt;
+ 
+  &lt;/appendix&gt;
+ 
+ 
+  &lt;!-- Bibliography --&gt;
+ 
+  &lt;bibliography id=&quot;bibliography&quot;&gt;
+   &lt;title&gt;Bibliography&lt;/title&gt;
+ 
+   &lt;para&gt;FIXME: How do I process these entries?&lt;/para&gt;
+ 
+   &lt;biblioentry&gt;
+    &lt;abbrev&gt;mpi99&lt;/abbrev&gt;
+    &lt;authorgroup&gt;
+     &lt;author&gt;
+      &lt;firstname&gt;William&lt;/firstname&gt;&lt;surname&gt;Gropp&lt;/surname&gt;
+     &lt;/author&gt;
+     &lt;author&gt;
+      &lt;firstname&gt;Ewing&lt;/firstname&gt;&lt;surname&gt;Lusk&lt;/surname&gt;
+     &lt;/author&gt;
+     &lt;author&gt;
+      &lt;firstname&gt;Anthony&lt;/firstname&gt;&lt;surname&gt;Skjellum&lt;/surname&gt;
+     &lt;/author&gt;
+    &lt;/authorgroup&gt;
+    &lt;copyright&gt;
+     &lt;year&gt;1999&lt;/year&gt;
+     &lt;holder&gt;Massachusetts Institute of Technology&lt;/holder&gt;
+    &lt;/copyright&gt;
+    &lt;isbn&gt;0-262-57132-3&lt;/isbn&gt;
+    &lt;publisher&gt;
+     &lt;publishername&gt;The MIT Press&lt;/publishername&gt;
+     &lt;address&gt;Cambridge, MA&lt;/address&gt;
+    &lt;/publisher&gt;
+    &lt;title&gt;Using MPI&lt;/title&gt;
+    &lt;subtitle&gt;Portable Parallel Programming with the Message-Passing Interface&lt;/subtitle&gt;
+    &lt;edition&gt;second edition&lt;/edition&gt;
+   &lt;/biblioentry&gt;
+  &lt;/bibliography&gt;
+ 
+ 
+  &lt;!-- Glossary --&gt;
+ 
+  &lt;glossary id=&quot;glossary&quot;&gt;
+   &lt;title&gt;Glossary&lt;/title&gt;
+ 
+   &lt;para&gt;ADD: Make sure all entries are indexed and perhaps point back
+   to their first use.  WARNING: This is constructed by hand so it is
+   likely to be full of inconsistencies and errors.&lt;/para&gt;
+ 
+   &lt;glossdiv&gt;
+    &lt;title&gt;S&lt;/title&gt;
+ 
+    &lt;glossentry id=&quot;glossary-suite_name&quot;&gt;
+     &lt;glossterm&gt;Suite Name&lt;/glossterm&gt;
+     &lt;glossdef&gt;
+      &lt;para&gt;An arbitrary string denoting a particular toolkit
+      configuration.  For example, the string
+      &lt;quote&gt;SUNKCC-debug&lt;/quote&gt; might indicate a configuration for
+      the &lt;trademark&gt;Sun&lt;/trademark&gt; &lt;productname&gt;Solaris&lt;/productname&gt;
+      operating system and the &kcc; &cc; compiler with debugging
+      support.  By default, the suite name it is equal to the
+      configuration's architecture name.&lt;/para&gt;
+     &lt;/glossdef&gt;
+    &lt;/glossentry&gt;
+   &lt;/glossdiv&gt;
+  &lt;/glossary&gt;
+  
+ 
+  &lt;!-- Index --&gt;
+ 
+   &amp;genindex.sgm;
+ 
+ &lt;/book&gt;
Index: docs/manual/figures/distributed.mp
===================================================================
RCS file: distributed.mp
diff -N distributed.mp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- distributed.mp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,195 ----
+ %% Oldham, Jeffrey D.
+ %% 2001Nov28
+ %% Pooma
+ 
+ %% Illustrations for Distributed Computing
+ 
+ %% Assumes TEX=latex.
+ 
+ input boxes;
+ 
+ verbatimtex
+ \documentclass[10pt]{article}
+ \begin{document}
+ etex
+ 
+ %% Parts of Distributed Computation
+ beginfig(101)
+   numeric unit; unit = 0.9cm;
+ 
+   %% Create the Container Storage Partition subfigure.
+   numeric arrayWidth; arrayWidth = 2; % as multiple of unit
+   numeric arrayHeight; arrayHeight = 4; % as multiple of unit
+   numeric guardWidth; guardWidth = 0.1; % as multiple of unit
+   numeric patchWidth; patchWidth = arrayWidth/3; % as multiple of unit
+   numeric patchHeight; patchHeight = arrayHeight/2; % as multiple of unit
+   numeric xPatchDistance; xPatchDistance = 0.9patchWidth; % as multiple of unit
+   numeric yPatchDistance; yPatchDistance = 0.5patchWidth; % as multiple of unit
+   numeric arrayPartitionDistance; arrayPartitionDistance = arrayWidth;
+ 				% distance between array and partition
+   numeric arrayLayoutDistance; arrayLayoutDistance = 0.5arrayHeight;
+ 				% distance between array and layout
+   numeric arrowLayoutDistance; arrowLayoutDistance = 0.5arrayLayoutDistance;
+ 				% distance between arrow and top of layout, not its label
+   numeric iota; iota = labeloffset;
+   numeric storageBoundaryWidth; storageBoundaryWidth = 1; % as multiple of unit
+ 				% gap between storage box and its internals
+   
+   % Create the Array.  Use box &quot;a&quot;.
+   boxit.a();
+   a.ne - a.sw = unit*(arrayWidth,arrayHeight);
+ 
+   % Create the partition.  Use boxes &quot;p[]&quot;.
+   for t = 0 upto 5:
+     boxit.p[t]();
+     p[t].ne - p[t].sw = unit*(1,1);
+   endfor;
+   for t = 0 upto 2:
+     p[t].sw=p[t+3].nw;
+     p[t].se=p[t+3].ne;
+     if t &lt; 2:
+       p[t].ne = p[t+1].nw;
+       p[t+3].ne = p[t+4].nw;
+     fi
+   endfor;
+   boxit.pt(btex \begin{tabular}{c} + \\ external guard layers \\ + \\ internal guard layers \end{tabular} etex);
+   pt.n = p[4].s;
+ 
+   % Create the layout patches &quot;l[]&quot; and their guard layers &quot;g[]&quot;.
+   for t = 0 upto 5:
+     boxit.l[t]();
+     boxit.g[t]();
+     l[t].ne - l[t].sw = unit*(patchWidth, patchHeight);
+     g[t].ne - l[t].ne = -(g[t].sw - l[t].sw) = unit*guardWidth*(1,1);
+   endfor
+   for t = 0 upto 2:
+     if t &lt; 2:
+       g[t+1].nw - g[t].ne = unit*(xPatchDistance,0);
+     fi
+     g[t].sw - g[t+3].nw = unit*(0,yPatchDistance);
+   endfor;
+ 
+   % Create the storage equation boxes.
+   boxit.containerPlus(btex + etex);
+   boxit.containerArrow(btex $\Big\Downarrow$ etex);
+ 
+   % Position the storage pieces.
+   p[0].nw - a.ne = unit*(arrayPartitionDistance,0);
+   containerPlus.c = (xpart(0.5[a.ne,p[0].nw]), ypart(a.c));
+   containerArrow.c = (xpart(containerPlus.c), ypart(l[1].n) + unit*arrowLayoutDistance);
+   ypart(a.s - l[1].n) = unit*arrayLayoutDistance;
+   xpart(containerPlus.c - l[1].n) = 0;
+ 
+   % Create a boundary box around storage partition.
+   boxit.storageBoundary();
+   ypart(storageBoundary.n - a.n) =
+   ypart(l[4].s - storageBoundary.s) = unit*2storageBoundaryWidth;
+   xpart(a.w - storageBoundary.w) = unit*storageBoundaryWidth;
+   xpart(storageBoundary.e - pt.e) = unit*storageBoundaryWidth;
+   
+   %% Create the Computer Configuration subfigure. 
+   numeric configurationBoundaryWidth; configurationBoundaryWidth = storageBoundaryWidth;
+ 				% gap between computer configuration box and its internals
+ 
+   for t = 0 upto 2:
+     circleit.c[t]();
+     c[t].n - c[t].s = 1.3(0,ypart(g[0].ne - g[3].sw));
+     c[t].e - c[t].w = 1.5(xpart(g[0].ne - g[3].sw),0);
+   endfor
+   c[2].c - c[1].c = c[1].c - c[0].c = g[1].c - g[0].c;
+ 
+   boxit.configurationBoundary();
+   ypart(configurationBoundary.n - configurationBoundary.s) =
+   ypart(storageBoundary.n - storageBoundary.s);
+   xpart(configurationBoundary.e - configurationBoundary.w) =
+   xpart(c[2].e - c[0].w)+2*unit*configurationBoundaryWidth;
+   configurationBoundary.c = c[1].c;
+ 
+   %% Create the Computation Configuration subfigure.
+   % Create the patches.
+   for t = 0 upto 5:
+     boxit.L[t]();
+     boxit.G[t]();
+     L[t].ne - L[t].sw = unit*(patchWidth, patchHeight);
+     G[t].ne - L[t].ne = -(G[t].sw - L[t].sw) = unit*guardWidth*(1,1);
+   endfor
+   for t = 0 upto 2:
+     if t &lt; 2:
+       G[t+1].nw - G[t].ne = unit*(xPatchDistance,0);
+     fi
+     G[t].sw - G[t+3].nw = unit*(0,yPatchDistance);
+   endfor;
+ 
+   % Create the contexts.
+   for t = 0 upto 2:
+     circleit.C[t]();
+     C[t].n - C[t].s = 1.3(0,ypart(G[0].ne - G[3].sw));
+     C[t].e - C[t].w = 1.5(xpart(G[0].ne - G[3].sw),0);
+   endfor
+   C[2].c - C[1].c = C[1].c - C[0].c = G[1].c - G[0].c;
+   C[0].c = 0.5[G[0].c,G[3].c];
+ 
+   %% Relate the subfigures.
+   numeric containerConfigurationDistance;
+   containerConfigurationDistance = arrayPartitionDistance;
+ 				% distance between container storage and computer configuration subfigures
+   numeric containerComputationDistance; containerComputationDistance = arrayLayoutDistance;
+ 				% distance between container storage subfigure and computation configuration subfigure
+   numeric arrowComputationDistance; arrowComputationDistance = arrowLayoutDistance;
+ 				% distance between arrow and top of computation configuration, not its label
+ 
+   boxit.figurePlus(btex + etex);
+   boxit.figureArrow(btex $\Big\Downarrow$ etex);
+ 
+   configurationBoundary.w - storageBoundary.e =
+   unit*(containerConfigurationDistance,0); %% HERE
+   figurePlus.c = 0.5[configurationBoundary.w, storageBoundary.e];
+   figureArrow.c = (xpart(0.5[configurationBoundary.e,storageBoundary.w]),
+     ypart(C[1].n) + unit*arrowComputationDistance);
+   
+   0.5[configurationBoundary.se,storageBoundary.sw] - C[1].n =
+   unit*(0,containerComputationDistance);
+   
+   %% Draw the Container Domain Partitioning structures.
+   drawboxed(a);  label.top(btex \begin{tabular}{c} container's\\ domain \end{tabular} etex, a.n);
+   for t = 0 upto 5:
+     drawboxed(p[t]);
+   endfor
+   drawunboxed(pt);
+   label.top(btex partition etex, p[1].n);
+   for t = 0 upto 5:
+     drawboxed(l[t],g[t]);
+   endfor
+   label.top(btex patches etex, g[1].n);
+   z0 = g[2].e + unit*(1,0);
+   drawarrow z0 -- (g[2].e+(iota,0));
+   label.rt(btex \begin{tabular}{l} patch with\\guard cells \end{tabular} etex, z0);
+   drawunboxed(containerPlus,containerArrow);
+   drawboxed(storageBoundary);
+   label.top(btex Partition Container's Domain etex, storageBoundary.n);
+ 
+   %% Draw the Computer Configuration structures.
+   for t = 0 upto 2:
+     drawboxed(c[t]);
+   endfor
+   label.top(btex contexts etex, c[1].n);
+   label.bot(btex \begin{tabular}{c} Each context has memory and\\ processors to execute a program. \end{tabular} etex, c[1].s);
+   drawboxed(configurationBoundary);
+   label.top(btex Computer Configuration etex, configurationBoundary.n);
+ 
+   %% Draw the Computer Computation structures.
+   for t = 0 upto 5:
+     drawboxed(L[t],G[t]);
+   endfor
+   for t = 0 upto 2:
+     drawboxed(C[t]);
+   endfor
+   label.top(btex Layout etex, C[1].n);
+   label.bot(btex Each context can contain several patches. etex, C[1].s);
+ 
+   %% Draw the subfigure relations structures.
+   drawunboxed(figurePlus,figureArrow);
+   label.rt(btex DistributedTag etex, figureArrow.e);
+ endfig;
+ 
+ bye
Index: docs/manual/figures/doof2d.mp
===================================================================
RCS file: doof2d.mp
diff -N doof2d.mp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- doof2d.mp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,257 ----
+ %% Oldham, Jeffrey D.
+ %% 2001Nov26
+ %% Pooma
+ 
+ %% Illustrations for the Tutorial Chapter (Chapter 2)
+ 
+ %% Assumes TEX=latex.
+ 
+ verbatimtex
+ \documentclass[10pt]{article}
+ \begin{document}
+ etex
+ 
+ % Draw a set of grid cells.
+ vardef drawGrid(expr nuCells, unit, llCorner) =
+   for i = 0 upto nuCells-1:
+     for j = 0 upto nuCells-1:
+       draw unitsquare scaled unit shifted (llCorner + unit*(i,j));
+     endfor
+   endfor
+ enddef;
+ 
+ % Label the specified grid, grid cell, or its edge.
+ % Place a value at the center of a grid cell.
+ vardef labelCell(expr lbl, xy, llCorner) =
+   label(lbl, llCorner + unit*(xy + 0.5*(1,1)));
+ enddef;
+ 
+ % Label the bottom of a grid cell.
+ vardef labelCellBottom(expr lbl, xy, llCorner) =
+   label.bot(lbl, llCorner + unit*(xy + 0.5*(1,0)));
+ enddef;
+ 
+ % Label the left side of a grid cell.
+ vardef labelCellLeft(expr lbl, xy, llCorner) =
+   label.lft(lbl, llCorner + unit*(xy + 0.5*(0,1)));
+ enddef;
+ 
+ % Label the top of a grid.
+ vardef labelGrid(expr lbl, nuCells, llCorner) =
+   label.top(lbl, llCorner + unit*(nuCells/2,nuCells));
+ enddef;
+ 
+ %% Global Declarations
+ numeric unit; unit = 0.9cm;	% width or height of an individual grid cell
+ 
+ 
+ %% Initial Configuration.
+ beginfig(201)
+   numeric nuCells; nuCells = 7;	% number of cells in each dimension
+ 				% This number should be odd.
+   % Draw the grid cells.
+   drawGrid(nuCells, unit, origin);
+ 
+   % Label the grid cells' values.
+   for i = 0 upto nuCells-1:
+     for j = 0 upto nuCells-1:
+       if ((i = nuCells div 2) and (j = nuCells div 2)):
+ 	labelCell(btex \footnotesize 1000.0 etex, (i,j), origin);
+       else:
+ 	labelCell(btex \footnotesize 0.0 etex, (i,j), origin);
+       fi
+     endfor
+   endfor
+ 
+   % Label the grid.
+   labelGrid(btex Array \texttt{b}: Initial Configuration etex, nuCells, origin);
+ endfig;
+ 
+ 
+ %% After the first averaging.
+ beginfig(202)
+   numeric nuCells; nuCells = 7;	% number of cells in each dimension
+ 				% This number should be odd.
+   % Draw the grid cells.
+   drawGrid(nuCells, unit, origin);
+ 
+   % Label the grid cells' values.
+   for i = 0, 1, nuCells-2, nuCells-1:
+     for j = 0 upto nuCells-1:
+       labelCell(btex \footnotesize 0.0 etex, (i,j), origin);
+     endfor
+   endfor
+   for j = 0, 1, nuCells-2, nuCells-1:
+     for i = 0 upto nuCells-1:
+       labelCell(btex \footnotesize 0.0 etex, (i,j), origin);
+     endfor
+   endfor
+   for i = (nuCells div 2)-1 upto (nuCells div 2)+1:
+     for j = (nuCells div 2)-1 upto (nuCells div 2)+1:
+       labelCell(btex \footnotesize 111.1 etex, (i, j), origin);
+     endfor
+   endfor
+   
+   % Label the grid.
+   labelGrid(btex Array \texttt{a}: After the first averaging etex, nuCells, origin);
+ endfig;
+ 
+ 
+ %% After the second averaging.
+ beginfig(203)
+   numeric nuCells; nuCells = 7;	% number of cells in each dimension
+ 				% This number should be odd.
+   % Draw the grid cells.
+   drawGrid(nuCells, unit, origin);
+ 
+   % Label the grid cells' values.
+   for i = 0, nuCells-1:
+     for j = 0 upto nuCells-1:
+       labelCell(btex \footnotesize 0.0 etex, (i,j), origin);
+     endfor
+   endfor
+   for j = 0, nuCells-1:
+     for i = 0 upto nuCells-1:
+       labelCell(btex \footnotesize 0.0 etex, (i,j), origin);
+     endfor
+   endfor
+   labelCell(btex \footnotesize 111.1 etex, (3,3), origin);
+   for t = (3,2), (4,3), (3,4), (2,3):
+     labelCell(btex \footnotesize 74.1 etex, t, origin);
+   endfor
+   for t = (2,2), (2,4), (4,4), (4,2):
+     labelCell(btex \footnotesize 49.4 etex, t, origin);
+   endfor
+   for t = (3,1), (5,3), (3,5), (1,3):
+     labelCell(btex \footnotesize 37.0 etex, t, origin);
+   endfor
+   for t = (1,2), (2,1), (4,1), (5,2), (5,4), (4,5), (2,5), (1,4):
+     labelCell(btex \footnotesize 24.7 etex, t, origin);
+   endfor
+   for t = (1,1), (5,1), (5,5), (1,5):
+     labelCell(btex \footnotesize 12.3 etex, t, origin);
+   endfor
+   
+   % Label the grid.
+   labelGrid(btex Array \texttt{b}: After the second averaging etex, nuCells, origin);
+ endfig;
+ 
+ 
+ %% Illustrate addition of arrays.
+ beginfig(210)
+   numeric nuCells; nuCells = 3;	% number of cells in each dimension
+ 				% This number should be odd.
+   numeric operatorWidth; operatorWidth = 1.5;
+   				% horizontal space for an operator as
+   				% a multiple of &quot;unit&quot;
+   
+   %% Determine the locations of the arrays.
+   z0 = origin;
+   z1 = z0 + unit * (nuCells+operatorWidth,0);
+   z2 - z1 = z1 - z0;
+ 
+   %% Draw the grid cells and the operators.
+   for t = 0 upto 2:
+     drawGrid(nuCells, unit, z[t]);
+   endfor
+   label(btex = etex, z1 + unit*(-0.9operatorWidth, 0.5nuCells));
+   label(btex + etex, z2 + unit*(-0.9operatorWidth, 0.5nuCells));
+   
+   %% Label the grid cells' values.
+   % Label b(I,J) grid values.
+   labelCell(btex \normalsize 9 etex, (0,0), z1);
+   labelCell(btex \normalsize 11 etex, (1,0), z1);
+   labelCell(btex \normalsize 13 etex, (2,0), z1);
+   labelCell(btex \normalsize 17 etex, (0,1), z1);
+   labelCell(btex \normalsize 19 etex, (1,1), z1);
+   labelCell(btex \normalsize 21 etex, (2,1), z1);
+   labelCell(btex \normalsize 25 etex, (0,2), z1);
+   labelCell(btex \normalsize 27 etex, (1,2), z1);
+   labelCell(btex \normalsize 29 etex, (2,2), z1);
+   % Label b(I+1,J-1) grid values.
+   labelCell(btex \normalsize 3 etex, (0,0), z2);
+   labelCell(btex \normalsize 5 etex, (1,0), z2);
+   labelCell(btex \normalsize 7 etex, (2,0), z2);
+   labelCell(btex \normalsize 11 etex, (0,1), z2);
+   labelCell(btex \normalsize 13 etex, (1,1), z2);
+   labelCell(btex \normalsize 15 etex, (2,1), z2);
+   labelCell(btex \normalsize 19 etex, (0,2), z2);
+   labelCell(btex \normalsize 21 etex, (1,2), z2);
+   labelCell(btex \normalsize 23 etex, (2,2), z2);
+   % Label b(I,J)+b(I+1,J-1) grid values.
+   labelCell(btex \normalsize 12 etex, (0,0), z0);
+   labelCell(btex \normalsize 16 etex, (1,0), z0);
+   labelCell(btex \normalsize 20 etex, (2,0), z0);
+   labelCell(btex \normalsize 28 etex, (0,1), z0);
+   labelCell(btex \normalsize 32 etex, (1,1), z0);
+   labelCell(btex \normalsize 36 etex, (2,1), z0);
+   labelCell(btex \normalsize 34 etex, (0,2), z0);
+   labelCell(btex \normalsize 38 etex, (1,2), z0);
+   labelCell(btex \normalsize 42 etex, (2,2), z0);
+ 
+   %% Label the indices.
+   % Label b(I,J) grid indices.
+   labelCellBottom(btex \footnotesize 1 etex, (0,0), z1);
+   labelCellBottom(btex \footnotesize 2 etex, (1,0), z1);
+   labelCellBottom(btex \footnotesize 3 etex, (2,0), z1);
+   labelCellLeft(btex \footnotesize 1 etex, (0,0), z1);
+   labelCellLeft(btex \footnotesize 2 etex, (0,1), z1);
+   labelCellLeft(btex \footnotesize 3 etex, (0,2), z1);
+   % Label b(I+1,J-1) grid indices.
+   labelCellBottom(btex \footnotesize 2 etex, (0,0), z2);
+   labelCellBottom(btex \footnotesize 3 etex, (1,0), z2);
+   labelCellBottom(btex \footnotesize 4 etex, (2,0), z2);
+   labelCellLeft(btex \footnotesize 0 etex, (0,0), z2);
+   labelCellLeft(btex \footnotesize 1 etex, (0,1), z2);
+   labelCellLeft(btex \footnotesize 2 etex, (0,2), z2);
+   
+   %% Label the grids.
+   labelGrid(btex $b(I,J)+b(I+1,J-1)$ etex, nuCells, z0);
+   labelGrid(btex $b(I,J)$ etex, nuCells, z1);
+   labelGrid(btex $b(I+1,J-1)$ etex, nuCells, z2);
+ endfig;
+ 
+ 
+ %% Illustrate application of a stencil.
+ beginfig(211)
+   numeric nuCells; nuCells = 5;	% number of cells in each dimension
+   numeric nuStencilCells; nuStencilCells = 3;
+ 				% number of stencil cells in each dimension
+   numeric stencilMultiple; stencilMultiple = 0.1;
+ 				% small multiple to make it visible
+   
+   % Draw the grid cells.
+   drawGrid(nuCells, unit, origin);
+ 
+   % Draw the stencil.
+   draw unitsquare scaled ((nuStencilCells-2stencilMultiple) * unit) shifted (unit*(stencilMultiple*(1,1)+(0,2)));
+   draw (unitsquare scaled ((1-stencilMultiple) * unit) shifted (unit*(0.5*stencilMultiple*(1,1)+(1,3)))) dashed evenly;
+ 
+   % Label the extents.
+   picture lbl;
+   ahlength := 0.4unit;
+   drawarrow unit*(2,4) -- unit*(3,5);
+   lbl = thelabel.lrt(btex \scriptsize upperExtent etex, unit*0.5[(2,4),(3,5)]);
+   unfill bbox lbl; draw lbl;
+   drawarrow unit*(1,3) -- unit*(0,2);
+   lbl := thelabel.lrt(btex \scriptsize lowerExtent etex, unit*0.5[(1,3),(0,2)]);
+   unfill bbox lbl; draw lbl;
+   
+   % Label the indices.
+   labelCellBottom(btex \footnotesize 0 etex, (0,0), origin);
+   labelCellBottom(btex \footnotesize 1 etex, (1,0), origin);
+   labelCellBottom(btex \footnotesize 2 etex, (2,0), origin);
+   labelCellBottom(btex \footnotesize 3 etex, (3,0), origin);
+   labelCellBottom(btex \footnotesize 4 etex, (4,0), origin);
+   labelCellLeft(btex \footnotesize 0 etex, (0,0), origin);
+   labelCellLeft(btex \footnotesize 1 etex, (0,1), origin);
+   labelCellLeft(btex \footnotesize 2 etex, (0,2), origin);
+   labelCellLeft(btex \footnotesize 3 etex, (0,3), origin);
+   labelCellLeft(btex \footnotesize 4 etex, (0,4), origin);
+ 
+   % Label the grid.
+   labelGrid(btex Applying a Stencil to Position (1,3) etex, nuCells, origin);
+   
+ endfig;
+ 
+ bye
Index: docs/manual/figures/makefile
===================================================================
RCS file: makefile
diff -N makefile
*** /dev/null	Fri Mar 23 21:37:44 2001
--- makefile	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,69 ----
+ ### Oldham, Jeffrey D.
+ ### 1997 Dec 26
+ ### misc
+ ###
+ ### LaTeX -&gt; PostScript/PDF/WWW
+ ### XML -&gt; TeX/DVI/PS/PDF
+ 
+ # Definitions for PostScript and WWW Creation
+ TEX=		latex
+ WWWHOMEDIR=	/u/oldham/www
+ LATEX2HTML=	latex2html
+ BASICLATEX2HTMLOPTIONS=	-info &quot;&quot; -no_footnode -no_math -html_version 3.2,math
+ #LATEX2HTMLOPTIONS=	-local_icons -split +1 $(BASICLATEX2HTMLOPTIONS)
+ LATEX2HTMLOPTIONS=	-no_navigation -split 0 $(BASICLATEX2HTMLOPTIONS)
+ MPOST=		mpost
+ 
+ # Definitions for Jade.
+ JADEDIR=		/usr/lib/sgml/stylesheets/docbook
+ PRINTDOCBOOKDSL=	print/docbook.dsl
+ HTMLDOCBOOKDSL=		html/docbook.dsl
+ XML=			dtds/decls/xml.dcl
+ INDEXOPTIONS=		-t 'Index' -i 'index' -g -p
+ 
+ CXXFLAGS= -g -Wall -pedantic -W -Wstrict-prototypes -Wpointer-arith -Wbad-function-cast -Wcast-align -Wconversion -Wnested-externs -Wundef -Winline -static
+ 
+ all: outline.ps
+ 
+ %.all:	%.ps %.pdf %.html
+ 	chmod 644 $*.ps $*.pdf
+ 	mv $*.ps $*.pdf $*
+ 
+ %.dvi:	%.ltx
+ 	$(TEX) $&lt;
+ 	# bibtex $*
+ 	# $(TEX) $&lt;
+ 	$(TEX) $&lt;
+ 
+ %.ps:	%.dvi
+ 	dvips -t letter $&lt; -o
+ 
+ %.pdf.ltx:	%.ltx
+ 	sed -e 's/^%\\usepackage{times}/\\usepackage{times}/' $&lt; &gt; $@
+ 
+ %.pdf:	%.pdf.ps
+ 	ps2pdf $&lt; $@
+ 
+ # This rule assumes index creation.
+ %.dvi:	%.xml genindex.sgm
+ 	jade -D$(JADEDIR) -t sgml -d $(HTMLDOCBOOKDSL) -V html-index $(XML) $&lt;
+ 	perl collateindex.pl $(INDEXOPTIONS) -o genindex.sgm HTML.index
+ 	jade -D$(JADEDIR) -t tex -d $(PRINTDOCBOOKDSL) $(XML) $&lt; &amp;&amp; jadetex $*.tex &amp;&amp; jadetex $*.tex &amp;&amp; jadetex $*.tex
+ 
+ genindex.sgm:
+ 	perl collateindex.pl $(INDEXOPTIONS) -N -o $@
+ 
+ %.html:	%.xml
+ 	jade -D$(JADEDIR) -t sgml -d $(HTMLDOCBOOKDSL) $(XML) $&lt;
+ 
+ %.pdf:	%.xml
+ 	jade -D$(JADEDIR) -t tex -d $(PRINTDOCBOOKDSL) $(XML) $&lt; &amp;&amp; pdfjadetex $*.tex &amp;&amp; pdfjadetex $*.tex
+ 
+ mproof-%.ps:	%.mp
+ 	declare -x TEX=latex &amp;&amp; $(MPOST) $&lt; &amp;&amp; tex mproof.tex $*.[0-9]* &amp;&amp; dvips mproof.dvi -o $@
+ 
+ %.txt:	%.ltx
+ 	detex $&lt; &gt; $@
+ 
+ clean:
+ 	rm -f *.dvi *.aux *.log *.toc *.bak *.blg *.bbl *.glo *.idx *.lof *.lot *.htm *.mpx mpxerr.tex HTML.index outline.tex
Index: docs/manual/programs/Doof2d-Array-distributed-annotated.patch
===================================================================
RCS file: Doof2d-Array-distributed-annotated.patch
diff -N Doof2d-Array-distributed-annotated.patch
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-distributed-annotated.patch	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,162 ----
+ *** Doof2d-Array-distributed.cpp	Wed Nov 28 07:46:56 2001
+ --- Doof2d-Array-distributed-annotated.cpp	Wed Nov 28 07:53:31 2001
+ ***************
+ *** 1,4 ****
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+ --- 1,5 ----
+ ! &lt;programlisting id=&quot;tutorial-array_distributed-doof2d-program&quot; linenumbering=&quot;numbered&quot; format=&quot;linespecific&quot;&gt;
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+ ***************
+ *** 15,19 ****
+     // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+     // operator with both Arrays and Fields.
+ !   template &lt;class C&gt;
+     inline
+     typename C::Element_t
+ --- 16,20 ----
+     // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+     // operator with both Arrays and Fields.
+ !   template &lt;class C&gt;
+     inline
+     typename C::Element_t
+ ***************
+ *** 40,52 ****
+     Pooma::initialize(argc,argv);
+     
+ !   // Ask the user for the number of processors.
+     long nuProcessors;
+ !   std::cout &lt;&lt; &quot;Please enter the number of processors: &quot;;
+ !   std::cin &gt;&gt; nuProcessors;
+   
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ --- 41,53 ----
+     Pooma::initialize(argc,argv);
+     
+ !   // Ask the user for the number of processors.  &lt;co id=&quot;tutorial-array_distributed-doof2d-nuprocessors&quot;&gt;&lt;/co&gt;
+     long nuProcessors;
+ !   std::cout &lt;&lt; &quot;Please enter the number of processors: &quot;;
+ !   std::cin &gt;&gt; nuProcessors;
+   
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ ***************
+ *** 54,67 ****
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+     // Set up interior domains [1,n-1) x [1,n-1) for computation.
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;2&gt; interiorDomain(I,I);
+   
+     // Create the distributed arrays.
+ --- 55,68 ----
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+     // Set up interior domains [1,n-1) x [1,n-1) for computation.
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;2&gt; interiorDomain(I,I);
+   
+     // Create the distributed arrays.
+ ***************
+ *** 70,85 ****
+     // dimension.  Guard layers optimize communication between patches.
+     // Internal guards surround each patch.  External guards surround
+ !   // the entire array domain.
+ !   UniformGridPartition&lt;2&gt; partition(Loc&lt;2&gt;(nuProcessors, nuProcessors),
+ ! 				    GuardLayers&lt;2&gt;(1),  // internal
+ ! 				    GuardLayers&lt;2&gt;(0)); // external
+ !   UniformGridLayout&lt;2&gt; layout(vertDomain, partition, DistributedTag());
+   
+     // The template parameters indicate 2 dimensions and a 'double'
+     // element type.  MultiPatch indicates multiple computation patches,
+     // i.e., distributed computation.  The UniformTag indicates the
+ !   // patches should have the same size.  Each patch has Brick type.
+ !   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; a(layout);
+ !   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; b(layout);
+   
+     // Set up the initial conditions.
+ --- 71,86 ----
+     // dimension.  Guard layers optimize communication between patches.
+     // Internal guards surround each patch.  External guards surround
+ !   // the entire array domain.  &lt;co id=&quot;tutorial-array_distributed-doof2d-layout&quot;&gt;&lt;/co&gt;
+ !   UniformGridPartition&lt;2&gt; partition(Loc&lt;2&gt;(nuProcessors, nuProcessors),
+ ! 				    GuardLayers&lt;2&gt;(1),  // internal
+ ! 				    GuardLayers&lt;2&gt;(0)); // external
+ !   UniformGridLayout&lt;2&gt; layout(vertDomain, partition, DistributedTag());
+   
+     // The template parameters indicate 2 dimensions and a 'double'
+     // element type.  MultiPatch indicates multiple computation patches,
+     // i.e., distributed computation.  The UniformTag indicates the
+ !   // patches should have the same size.  Each patch has Brick type.  &lt;co id=&quot;tutorial-array_distributed-doof2d-remote&quot;&gt;&lt;/co&gt;
+ !   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; a(layout);
+ !   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; b(layout);
+   
+     // Set up the initial conditions.
+ ***************
+ *** 89,97 ****
+   
+     // Create the stencil performing the computation.
+ !   Stencil&lt;DoofNinePt&gt; stencil;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.
+       a(interiorDomain) = stencil(b, interiorDomain);
+   
+ --- 90,98 ----
+   
+     // Create the stencil performing the computation.
+ !   Stencil&lt;DoofNinePt&gt; stencil;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.  &lt;co id=&quot;tutorial-array_distributed-doof2d-first_write&quot;&gt;&lt;/co&gt;
+       a(interiorDomain) = stencil(b, interiorDomain);
+   
+ ***************
+ *** 102,106 ****
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ --- 103,107 ----
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ ***************
+ *** 110,111 ****
+ --- 111,113 ----
+     return EXIT_SUCCESS;
+   }
+ + &lt;/programlisting&gt;
Index: docs/manual/programs/Doof2d-Array-element-annotated.patch
===================================================================
RCS file: Doof2d-Array-element-annotated.patch
diff -N Doof2d-Array-element-annotated.patch
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-element-annotated.patch	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,144 ----
+ *** Doof2d-Array-element.cpp	Tue Nov 27 11:04:04 2001
+ --- Doof2d-Array-element-annotated.cpp	Tue Nov 27 12:06:32 2001
+ ***************
+ *** 1,5 ****
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ ! #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+   // Doof2d: Pooma Arrays, element-wise implementation
+ --- 1,6 ----
+ ! &lt;programlisting id=&quot;tutorial-array_elementwise-doof2d-program&quot; linenumbering=&quot;numbered&quot; format=&quot;linespecific&quot;&gt;
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ ! #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array  &lt;co id=&quot;tutorial-array_elementwise-doof2d-header&quot;&gt;&lt;/co&gt;
+   
+   // Doof2d: Pooma Arrays, element-wise implementation
+ ***************
+ *** 7,17 ****
+   int main(int argc, char *argv[])
+   {
+ !   // Prepare the Pooma library for execution.
+     Pooma::initialize(argc,argv);
+     
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ --- 8,18 ----
+   int main(int argc, char *argv[])
+   {
+ !   // Prepare the Pooma library for execution.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-pooma_initialize&quot;&gt;&lt;/co&gt;
+     Pooma::initialize(argc,argv);
+     
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ ***************
+ *** 19,37 ****
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+ !   // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+ !   // Create the arrays.
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ !   // All grid values should be zero except for the central value.
+     a = b = 0.0;
+     b(n/2,n/2) = 1000.0;
+ --- 20,38 ----
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+ !   // Specify the arrays' domains [0,n) x [0,n).  &lt;co id=&quot;tutorial-array_elementwise-doof2d-domain&quot;&gt;&lt;/co&gt;
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+ !   // Create the arrays.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-array_creation&quot;&gt;&lt;/co&gt;
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ !   // All grid values should be zero except for the central value.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-initialization&quot;&gt;&lt;/co&gt;
+     a = b = 0.0;
+     b(n/2,n/2) = 1000.0;
+ ***************
+ *** 41,49 ****
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+       // Read from b.  Write to a.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+ !         a(i,j) = weight *
+             (b(i+1,j+1) + b(i+1,j  ) + b(i+1,j-1) +
+              b(i  ,j+1) + b(i  ,j  ) + b(i  ,j-1) +
+ --- 42,50 ----
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+       // Read from b.  Write to a.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+ !         a(i,j) = weight *  &lt;co id=&quot;tutorial-array_elementwise-doof2d-first_write&quot;&gt;&lt;/co&gt;
+             (b(i+1,j+1) + b(i+1,j  ) + b(i+1,j-1) +
+              b(i  ,j+1) + b(i  ,j  ) + b(i  ,j-1) +
+ ***************
+ *** 51,56 ****
+   
+       // Read from a.  Write to b.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           b(i,j) = weight *
+             (a(i+1,j+1) + a(i+1,j  ) + a(i+1,j-1) +
+ --- 52,57 ----
+   
+       // Read from a.  Write to b.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           b(i,j) = weight *
+             (a(i+1,j+1) + a(i+1,j  ) + a(i+1,j-1) +
+ ***************
+ *** 60,70 ****
+   
+     // Print out the final central value.
+ !   Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+ !   // The arrays are automatically deallocated.
+   
+ !   // Tell the Pooma library execution has finished.
+     Pooma::finalize();
+     return EXIT_SUCCESS;
+   }
+ --- 61,72 ----
+   
+     // Print out the final central value.
+ !   Pooma::blockAndEvaluate();	// Ensure all computation has finished.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-blockAndEvaluate&quot;&gt;&lt;/co&gt;
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+ !   // The arrays are automatically deallocated.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-deallocation&quot;&gt;&lt;/co&gt;
+   
+ !   // Tell the Pooma library execution has finished.  &lt;co id=&quot;tutorial-array_elementwise-doof2d-pooma_finish&quot;&gt;&lt;/co&gt;
+     Pooma::finalize();
+     return EXIT_SUCCESS;
+   }
+ + &lt;/programlisting&gt;
Index: docs/manual/programs/Doof2d-Array-parallel-annotated.patch
===================================================================
RCS file: Doof2d-Array-parallel-annotated.patch
diff -N Doof2d-Array-parallel-annotated.patch
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-parallel-annotated.patch	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,106 ----
+ *** Doof2d-Array-parallel.cpp	Tue Nov 27 13:00:09 2001
+ --- Doof2d-Array-parallel-annotated.cpp	Tue Nov 27 14:07:07 2001
+ ***************
+ *** 1,4 ****
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+ --- 1,5 ----
+ ! &lt;programlisting id=&quot;tutorial-array_parallel-doof2d-program&quot; linenumbering=&quot;numbered&quot; format=&quot;linespecific&quot;&gt;
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+ ***************
+ *** 12,17 ****
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ --- 13,18 ----
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ ***************
+ *** 19,38 ****
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+ !   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;1&gt; J(1,n-2);
+   
+     // Create the arrays.
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ --- 20,39 ----
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+ !   // Set up interior domains [1,n-1) x [1,n-1) for computation.  &lt;co id=&quot;tutorial-array_parallel-doof2d-innerdomain&quot;&gt;&lt;/co&gt;
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;1&gt; J(1,n-2);
+   
+     // Create the arrays.
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ ***************
+ *** 45,50 ****
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.
+       a(I,J) = weight *
+         (b(I+1,J+1) + b(I+1,J  ) + b(I+1,J-1) +
+ --- 46,51 ----
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.  &lt;co id=&quot;tutorial-array_parallel-doof2d-first_write&quot;&gt;&lt;/co&gt;
+       a(I,J) = weight *
+         (b(I+1,J+1) + b(I+1,J  ) + b(I+1,J-1) +
+ ***************
+ *** 61,65 ****
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ --- 62,66 ----
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ ***************
+ *** 69,70 ****
+ --- 70,72 ----
+     return EXIT_SUCCESS;
+   }
+ + &lt;/programlisting&gt;
Index: docs/manual/programs/Doof2d-Array-stencil-annotated.patch
===================================================================
RCS file: Doof2d-Array-stencil-annotated.patch
diff -N Doof2d-Array-stencil-annotated.patch
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-stencil-annotated.patch	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,152 ----
+ *** Doof2d-Array-stencil.cpp	Tue Nov 27 17:23:41 2001
+ --- Doof2d-Array-stencil-annotated.cpp	Tue Nov 27 17:36:13 2001
+ ***************
+ *** 1,9 ****
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+   // Doof2d: Pooma Arrays, stencil implementation
+   
+ ! // Define the stencil class performing the computation.
+   class DoofNinePt
+   {
+ --- 1,10 ----
+ ! &lt;programlisting id=&quot;tutorial-array_stencil-doof2d-program&quot; linenumbering=&quot;numbered&quot; format=&quot;linespecific&quot;&gt;
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+   
+   // Doof2d: Pooma Arrays, stencil implementation
+   
+ ! // Define the stencil class performing the computation.  &lt;co id=&quot;tutorial-array_stencil-doof2d-stencil&quot;&gt;&lt;/co&gt;
+   class DoofNinePt
+   {
+ ***************
+ *** 14,19 ****
+     // This stencil operator is applied to each interior domain position
+     // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+ !   // operator with both Arrays and Fields.
+ !   template &lt;class C&gt;
+     inline
+     typename C::Element_t
+ --- 15,20 ----
+     // This stencil operator is applied to each interior domain position
+     // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+ !   // operator with both Arrays and Fields.  &lt;co id=&quot;tutorial-array_stencil-doof2d-stencil_operator&quot;&gt;&lt;/co&gt;
+ !   template &lt;class C&gt;
+     inline
+     typename C::Element_t
+ ***************
+ *** 26,30 ****
+     }
+   
+ !   inline int lowerExtent(int) const { return 1; }
+     inline int upperExtent(int) const { return 1; }
+   
+ --- 27,31 ----
+     }
+   
+ !   inline int lowerExtent(int) const { return 1; }  &lt;co id=&quot;tutorial-array_stencil-doof2d-stencil_extent&quot;&gt;&lt;/co&gt;
+     inline int upperExtent(int) const { return 1; }
+   
+ ***************
+ *** 42,47 ****
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ --- 43,48 ----
+     // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ ***************
+ *** 49,68 ****
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+     // Set up interior domains [1,n-1) x [1,n-1) for computation.
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;2&gt; interiorDomain(I,I);
+   
+     // Create the arrays.
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ --- 50,69 ----
+     // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+     // Specify the arrays' domains [0,n) x [0,n).
+ !   Interval&lt;1&gt; N(0, n-1);
+ !   Interval&lt;2&gt; vertDomain(N, N);
+   
+     // Set up interior domains [1,n-1) x [1,n-1) for computation.
+ !   Interval&lt;1&gt; I(1,n-2);
+ !   Interval&lt;2&gt; interiorDomain(I,I);
+   
+     // Create the arrays.
+     // The template parameters indicate 2 dimensions, a 'double' element
+     // type, and ordinary 'Brick' storage.
+ !   Array&lt;2, double, Brick&gt; a(vertDomain);
+ !   Array&lt;2, double, Brick&gt; b(vertDomain);
+   
+     // Set up the initial conditions.
+ ***************
+ *** 71,80 ****
+     b(n/2,n/2) = 1000.0;
+   
+ !   // Create the stencil performing the computation.
+ !   Stencil&lt;DoofNinePt&gt; stencil;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.
+       a(interiorDomain) = stencil(b, interiorDomain);
+   
+ --- 72,81 ----
+     b(n/2,n/2) = 1000.0;
+   
+ !   // Create the stencil performing the computation.  &lt;co id=&quot;tutorial-array_stencil-doof2d-stencil_creation&quot;&gt;&lt;/co&gt;
+ !   Stencil&lt;DoofNinePt&gt; stencil;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.  &lt;co id=&quot;tutorial-array_stencil-doof2d-first_write&quot;&gt;&lt;/co&gt;
+       a(interiorDomain) = stencil(b, interiorDomain);
+   
+ ***************
+ *** 85,89 ****
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ --- 86,90 ----
+     // Print out the final central value.
+     Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+   
+     // The arrays are automatically deallocated.
+ ***************
+ *** 93,94 ****
+ --- 94,96 ----
+     return EXIT_SUCCESS;
+   }
+ + &lt;/programlisting&gt;
Index: docs/manual/programs/Doof2d-C-element-annotated.patch
===================================================================
RCS file: Doof2d-C-element-annotated.patch
diff -N Doof2d-C-element-annotated.patch
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-C-element-annotated.patch	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,150 ----
+ *** Doof2d-C-element.cpp	Tue Nov 27 08:36:38 2001
+ --- Doof2d-C-element-annotated.cpp	Tue Nov 27 12:08:03 2001
+ ***************
+ *** 1,4 ****
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   
+   // Doof2d: C-like, element-wise implementation
+ --- 1,5 ----
+ ! &lt;programlisting id=&quot;tutorial-hand_coded-doof2d-program&quot; linenumbering=&quot;numbered&quot; format=&quot;linespecific&quot;&gt;
+ ! #include &lt;iostream&gt;		// has std::cout, ...
+ ! #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+   
+   // Doof2d: C-like, element-wise implementation
+ ***************
+ *** 6,30 ****
+   int main()
+   {
+ !   // Ask the user for the number of averagings.
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ !   // Use two-dimensional grids of values.
+     double **a;
+     double **b;
+   
+     // Ask the user for the number n of elements along one dimension of
+ !   // the grid.
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+ !   // Allocate the arrays.
+     typedef double* doublePtr;
+     a = new doublePtr[n];
+     b = new doublePtr[n];
+ !   for (int i = 0; i &lt; n; i++) {
+       a[i] = new double[n];
+       b[i] = new double[n];
+ --- 7,31 ----
+   int main()
+   {
+ !   // Ask the user for the number of averagings.  &lt;co id=&quot;tutorial-hand_coded-doof2d-nuaveragings&quot;&gt;&lt;/co&gt;
+     long nuAveragings, nuIterations;
+ !   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+ !   std::cin &gt;&gt; nuAveragings;
+     nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+   
+ !   // Use two-dimensional grids of values.  &lt;co id=&quot;tutorial-hand_coded-doof2d-array_storage&quot;&gt;&lt;/co&gt;
+     double **a;
+     double **b;
+   
+     // Ask the user for the number n of elements along one dimension of
+ !   // the grid.  &lt;co id=&quot;tutorial-hand_coded-doof2d-grid_size&quot;&gt;&lt;/co&gt;
+     long n;
+ !   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+ !   std::cin &gt;&gt; n;
+   
+ !   // Allocate the arrays.  &lt;co id=&quot;tutorial-hand_coded-doof2d-allocation&quot;&gt;&lt;/co&gt;
+     typedef double* doublePtr;
+     a = new doublePtr[n];
+     b = new doublePtr[n];
+ !   for (int i = 0; i &lt; n; i++) {
+       a[i] = new double[n];
+       b[i] = new double[n];
+ ***************
+ *** 32,49 ****
+   
+     // Set up the initial conditions.
+ !   // All grid values should be zero except for the central value.
+ !   for (int j = 0; j &lt; n; j++)
+ !     for (int i = 0; i &lt; n; i++)
+         a[i][j] = b[i][j] = 0.0;
+     b[n/2][n/2] = 1000.0;
+   
+ !   // In the average, weight element with this value.
+     const double weight = 1.0/9.0;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           a[i][j] = weight *
+             (b[i+1][j+1] + b[i+1][j  ] + b[i+1][j-1] +
+ --- 33,50 ----
+   
+     // Set up the initial conditions.
+ !   // All grid values should be zero except for the central value.  &lt;co id=&quot;tutorial-hand_coded-doof2d-initialization&quot;&gt;&lt;/co&gt;
+ !   for (int j = 0; j &lt; n; j++)
+ !     for (int i = 0; i &lt; n; i++)
+         a[i][j] = b[i][j] = 0.0;
+     b[n/2][n/2] = 1000.0;
+   
+ !   // In the average, weight element with this value.  &lt;co id=&quot;tutorial-hand_coded-doof2d-constants&quot;&gt;&lt;/co&gt;
+     const double weight = 1.0/9.0;
+   
+     // Perform the simulation.
+ !   for (int k = 0; k &lt; nuIterations; ++k) {
+ !     // Read from b.  Write to a.  &lt;co id=&quot;tutorial-hand_coded-doof2d-first_write&quot;&gt;&lt;/co&gt;
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           a[i][j] = weight *
+             (b[i+1][j+1] + b[i+1][j  ] + b[i+1][j-1] +
+ ***************
+ *** 51,57 ****
+              b[i-1][j+1] + b[i-1][j  ] + b[i-1][j-1]);
+   
+ !     // Read from a.  Write to b.
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           b[i][j] = weight *
+             (a[i+1][j+1] + a[i+1][j  ] + a[i+1][j-1] +
+ --- 52,58 ----
+              b[i-1][j+1] + b[i-1][j  ] + b[i-1][j-1]);
+   
+ !     // Read from a.  Write to b.  &lt;co id=&quot;tutorial-hand_coded-doof2d-second_write&quot;&gt;&lt;/co&gt;
+ !     for (int j = 1; j &lt; n-1; j++)
+ !       for (int i = 1; i &lt; n-1; i++)
+           b[i][j] = weight *
+             (a[i+1][j+1] + a[i+1][j  ] + a[i+1][j-1] +
+ ***************
+ *** 60,68 ****
+     }
+   
+ !   // Print out the final central value.
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a[n/2][n/2] : b[n/2][n/2]) &lt;&lt; std::endl;
+   
+ !   // Deallocate the arrays.
+ !   for (int i = 0; i &lt; n; i++) {
+       delete [] a[i];
+       delete [] b[i];
+ --- 61,69 ----
+     }
+   
+ !   // Print out the final central value.  &lt;co id=&quot;tutorial-hand_coded-doof2d-answer&quot;&gt;&lt;/co&gt;
+ !   std::cout &lt;&lt; (nuAveragings % 2 ? a[n/2][n/2] : b[n/2][n/2]) &lt;&lt; std::endl;
+   
+ !   // Deallocate the arrays.  &lt;co id=&quot;tutorial-hand_coded-doof2d-deallocation&quot;&gt;&lt;/co&gt;
+ !   for (int i = 0; i &lt; n; i++) {
+       delete [] a[i];
+       delete [] b[i];
+ ***************
+ *** 73,74 ****
+ --- 74,76 ----
+     return EXIT_SUCCESS;
+   }
+ + &lt;/programlisting&gt;
Index: docs/manual/programs/makefile
===================================================================
RCS file: makefile
diff -N makefile
*** /dev/null	Fri Mar 23 21:37:44 2001
--- makefile	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,12 ----
+ ### Oldham, Jeffrey D.
+ ### 2001Nov27
+ ### Pooma
+ ###
+ ### Produce Annotated Source Code
+ 
+ all: Doof2d-C-element-annotated.cpp Doof2d-Array-element-annotated.cpp \
+      Doof2d-Array-parallel-annotated.cpp Doof2d-Array-stencil-annotated.cpp \
+      Doof2d-Array-distributed-annotated.cpp
+ 
+ %-annotated.cpp: %-annotated.patch %.cpp
+ 	patch -o $@ &lt; $&lt;
Index: examples/Manual/Doof2d/Doof2d-Array-distributed.cpp
===================================================================
RCS file: Doof2d-Array-distributed.cpp
diff -N Doof2d-Array-distributed.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-distributed.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,111 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+ 
+ // Doof2d: Pooma Arrays, stencil, multiple processor implementation
+ 
+ // Define the stencil class performing the computation.
+ class DoofNinePt
+ {
+ public:
+   // Initialize the constant average weighting.
+   DoofNinePt() : weight(1.0/9.0) {}
+ 
+   // This stencil operator is applied to each interior domain position
+   // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+   // operator with both Arrays and Fields.
+   template &lt;class C&gt;
+   inline
+   typename C::Element_t
+   operator()(const C&amp; x, int i, int j) const
+   {
+     return ( weight *
+              ( x.read(i+1,j+1) + x.read(i+1,j  ) + x.read(i+1,j-1) +
+                x.read(i  ,j+1) + x.read(i  ,j  ) + x.read(i  ,j-1) +
+                x.read(i-1,j+1) + x.read(i-1,j  ) + x.read(i-1,j-1) ) );
+   }
+ 
+   inline int lowerExtent(int) const { return 1; }
+   inline int upperExtent(int) const { return 1; }
+ 
+ private:
+ 
+   // In the average, weight element with this value.
+   const double weight;
+ };
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // Ask the user for the number of processors.
+   long nuProcessors;
+   std::cout &lt;&lt; &quot;Please enter the number of processors: &quot;;
+   std::cin &gt;&gt; nuProcessors;
+ 
+   // Ask the user for the number of averagings.
+   long nuAveragings, nuIterations;
+   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+   std::cin &gt;&gt; nuAveragings;
+   nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the arrays' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+   Interval&lt;1&gt; I(1,n-2);
+   Interval&lt;2&gt; interiorDomain(I,I);
+ 
+   // Create the distributed arrays.
+   // Partition the arrays' domains uniformly, i.e., each patch has the
+   // same size.  The first parameter tells how many patches for each
+   // dimension.  Guard layers optimize communication between patches.
+   // Internal guards surround each patch.  External guards surround
+   // the entire array domain.
+   UniformGridPartition&lt;2&gt; partition(Loc&lt;2&gt;(nuProcessors, nuProcessors),
+ 				    GuardLayers&lt;2&gt;(1),  // internal
+ 				    GuardLayers&lt;2&gt;(0)); // external
+   UniformGridLayout&lt;2&gt; layout(vertDomain, partition, DistributedTag());
+ 
+   // The template parameters indicate 2 dimensions and a 'double'
+   // element type.  MultiPatch indicates multiple computation patches,
+   // i.e., distributed computation.  The UniformTag indicates the
+   // patches should have the same size.  Each patch has Brick type.
+   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; a(layout);
+   Array&lt;2, double, MultiPatch&lt;UniformTag, Remote&lt;Brick&gt; &gt; &gt; b(layout);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // Create the stencil performing the computation.
+   Stencil&lt;DoofNinePt&gt; stencil;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     a(interiorDomain) = stencil(b, interiorDomain);
+ 
+     // Read from a.  Write to b.
+     b(interiorDomain) = stencil(a, interiorDomain);
+   }
+ 
+   // Print out the final central value.
+   Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+ 
+   // The arrays are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-Array-element.cpp
===================================================================
RCS file: Doof2d-Array-element.cpp
diff -N Doof2d-Array-element.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-element.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,70 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+ 
+ // Doof2d: Pooma Arrays, element-wise implementation
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // Ask the user for the number of averagings.
+   long nuAveragings, nuIterations;
+   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+   std::cin &gt;&gt; nuAveragings;
+   nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the arrays' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Create the arrays.
+   // The template parameters indicate 2 dimensions, a 'double' element
+   // type, and ordinary 'Brick' storage.
+   Array&lt;2, double, Brick&gt; a(vertDomain);
+   Array&lt;2, double, Brick&gt; b(vertDomain);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // In the average, weight element with this value.
+   const double weight = 1.0/9.0;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     for (int j = 1; j &lt; n-1; j++)
+       for (int i = 1; i &lt; n-1; i++)
+         a(i,j) = weight *
+           (b(i+1,j+1) + b(i+1,j  ) + b(i+1,j-1) +
+            b(i  ,j+1) + b(i  ,j  ) + b(i  ,j-1) +
+            b(i-1,j+1) + b(i-1,j  ) + b(i-1,j-1));
+ 
+     // Read from a.  Write to b.
+     for (int j = 1; j &lt; n-1; j++)
+       for (int i = 1; i &lt; n-1; i++)
+         b(i,j) = weight *
+           (a(i+1,j+1) + a(i+1,j  ) + a(i+1,j-1) +
+            a(i  ,j+1) + a(i  ,j  ) + a(i  ,j-1) +
+            a(i-1,j+1) + a(i-1,j  ) + a(i-1,j-1));
+   }
+ 
+   // Print out the final central value.
+   Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+ 
+   // The arrays are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-Array-parallel.cpp
===================================================================
RCS file: Doof2d-Array-parallel.cpp
diff -N Doof2d-Array-parallel.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-parallel.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,70 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+ 
+ // Doof2d: Pooma Arrays, data-parallel implementation
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // Ask the user for the number of averagings.
+   long nuAveragings, nuIterations;
+   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+   std::cin &gt;&gt; nuAveragings;
+   nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the arrays' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+   Interval&lt;1&gt; I(1,n-2);
+   Interval&lt;1&gt; J(1,n-2);
+ 
+   // Create the arrays.
+   // The template parameters indicate 2 dimensions, a 'double' element
+   // type, and ordinary 'Brick' storage.
+   Array&lt;2, double, Brick&gt; a(vertDomain);
+   Array&lt;2, double, Brick&gt; b(vertDomain);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // In the average, weight element with this value.
+   const double weight = 1.0/9.0;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     a(I,J) = weight *
+       (b(I+1,J+1) + b(I+1,J  ) + b(I+1,J-1) +
+        b(I  ,J+1) + b(I  ,J  ) + b(I  ,J-1) +
+        b(I-1,J+1) + b(I-1,J  ) + b(I-1,J-1));
+ 
+     // Read from a.  Write to b.
+     b(I,J) = weight *
+       (a(I+1,J+1) + a(I+1,J  ) + a(I+1,J-1) +
+        a(I  ,J+1) + a(I  ,J  ) + a(I  ,J-1) +
+        a(I-1,J+1) + a(I-1,J  ) + a(I-1,J-1));
+   }
+ 
+   // Print out the final central value.
+   Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+ 
+   // The arrays are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-Array-stencil.cpp
===================================================================
RCS file: Doof2d-Array-stencil.cpp
diff -N Doof2d-Array-stencil.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Array-stencil.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,94 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Arrays.h&quot;	// has Pooma's Array
+ 
+ // Doof2d: Pooma Arrays, stencil implementation
+ 
+ // Define the stencil class performing the computation.
+ class DoofNinePt
+ {
+ public:
+   // Initialize the constant average weighting.
+   DoofNinePt() : weight(1.0/9.0) {}
+ 
+   // This stencil operator is applied to each interior domain position
+   // (i,j).  The &quot;C&quot; template parameter permits use of this stencil
+   // operator with both Arrays and Fields.
+   template &lt;class C&gt;
+   inline
+   typename C::Element_t
+   operator()(const C&amp; c, int i, int j) const
+   {
+     return ( weight *
+              ( c.read(i+1,j+1) + c.read(i+1,j  ) + c.read(i+1,j-1) +
+                c.read(i  ,j+1) + c.read(i  ,j  ) + c.read(i  ,j-1) +
+                c.read(i-1,j+1) + c.read(i-1,j  ) + c.read(i-1,j-1) ) );
+   }
+ 
+   inline int lowerExtent(int) const { return 1; }
+   inline int upperExtent(int) const { return 1; }
+ 
+ private:
+ 
+   // In the average, weight element with this value.
+   const double weight;
+ };
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // Ask the user for the number of averagings.
+   long nuAveragings, nuIterations;
+   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+   std::cin &gt;&gt; nuAveragings;
+   nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the arrays' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+   Interval&lt;1&gt; I(1,n-2);
+   Interval&lt;2&gt; interiorDomain(I,I);
+ 
+   // Create the arrays.
+   // The template parameters indicate 2 dimensions, a 'double' element
+   // type, and ordinary 'Brick' storage.
+   Array&lt;2, double, Brick&gt; a(vertDomain);
+   Array&lt;2, double, Brick&gt; b(vertDomain);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // Create the stencil performing the computation.
+   Stencil&lt;DoofNinePt&gt; stencil;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     a(interiorDomain) = stencil(b, interiorDomain);
+ 
+     // Read from a.  Write to b.
+     b(interiorDomain) = stencil(a, interiorDomain);
+   }
+ 
+   // Print out the final central value.
+   Pooma::blockAndEvaluate();	// Ensure all computation has finished.
+   std::cout &lt;&lt; (nuAveragings % 2 ? a(n/2,n/2) : b(n/2,n/2)) &lt;&lt; std::endl;
+ 
+   // The arrays are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-C-element.cpp
===================================================================
RCS file: Doof2d-C-element.cpp
diff -N Doof2d-C-element.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-C-element.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,74 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ 
+ // Doof2d: C-like, element-wise implementation
+ 
+ int main()
+ {
+   // Ask the user for the number of averagings.
+   long nuAveragings, nuIterations;
+   std::cout &lt;&lt; &quot;Please enter the number of averagings: &quot;;
+   std::cin &gt;&gt; nuAveragings;
+   nuIterations = (nuAveragings+1)/2; // Each iteration performs two averagings.
+ 
+   // Use two-dimensional grids of values.
+   double **a;
+   double **b;
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Allocate the arrays.
+   typedef double* doublePtr;
+   a = new doublePtr[n];
+   b = new doublePtr[n];
+   for (int i = 0; i &lt; n; i++) {
+     a[i] = new double[n];
+     b[i] = new double[n];
+   }
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   for (int j = 0; j &lt; n; j++)
+     for (int i = 0; i &lt; n; i++)
+       a[i][j] = b[i][j] = 0.0;
+   b[n/2][n/2] = 1000.0;
+ 
+   // In the average, weight element with this value.
+   const double weight = 1.0/9.0;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     for (int j = 1; j &lt; n-1; j++)
+       for (int i = 1; i &lt; n-1; i++)
+         a[i][j] = weight *
+           (b[i+1][j+1] + b[i+1][j  ] + b[i+1][j-1] +
+            b[i  ][j+1] + b[i  ][j  ] + b[i  ][j-1] +
+            b[i-1][j+1] + b[i-1][j  ] + b[i-1][j-1]);
+ 
+     // Read from a.  Write to b.
+     for (int j = 1; j &lt; n-1; j++)
+       for (int i = 1; i &lt; n-1; i++)
+         b[i][j] = weight *
+           (a[i+1][j+1] + a[i+1][j  ] + a[i+1][j-1] +
+            a[i  ][j+1] + a[i  ][j  ] + a[i  ][j-1] +
+            a[i-1][j+1] + a[i-1][j  ] + a[i-1][j-1]);
+   }
+ 
+   // Print out the final central value.
+   std::cout &lt;&lt; (nuAveragings % 2 ? a[n/2][n/2] : b[n/2][n/2]) &lt;&lt; std::endl;
+ 
+   // Deallocate the arrays.
+   for (int i = 0; i &lt; n; i++) {
+     delete [] a[i];
+     delete [] b[i];
+   }
+   delete [] a;
+   delete [] b;
+ 
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-Field-distributed.cpp
===================================================================
RCS file: Doof2d-Field-distributed.cpp
diff -N Doof2d-Field-distributed.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Field-distributed.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,87 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Fields.h&quot;	// has Pooma's Field
+ 
+ // Doof2d: Pooma Fields, data-parallel, multiple processor implementation
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // nuIterations is the number of simulation iterations.
+   const int nuIterations = 10/2;
+ 
+   // In the average, weight element with this value.
+   const double weight = 1.0/9.0;
+ 
+   // nuProcessors is the number of processors along one dimension.
+   const int nuProcessors = 2;
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the fields' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+   Interval&lt;1&gt; I(1,n-2);
+   Interval&lt;1&gt; J(1,n-2);
+ 
+   // Partition the fields' domains uniformly, i.e., each patch has the
+   // same size.  The first parameter tells how many patches for each
+   // dimension.  Guard layers optimize communication between patches.
+   // Internal guards surround each patch.  External guards surround
+   // the entire field domain.
+   UniformGridPartition&lt;2&gt; partition(Loc&lt;2&gt;(nuProcessors, nuProcessors),
+ 				    GuardLayers&lt;2&gt;(1),  // internal
+ 				    GuardLayers&lt;2&gt;(0)); // external
+   UniformGridLayout&lt;2&gt; layout(vertDomain, partition, DistributedTag());
+ 
+   // Specify the fields' mesh, i.e., its spatial extent, and its
+   // centering type.
+   UniformRectilinearMesh&lt;2&gt; mesh(layout, Vector&lt;2&gt;(0.0), Vector&lt;2&gt;(1.0, 1.0));
+   Centering&lt;2&gt; cell = canonicalCentering&lt;2&gt;(CellType, Continuous, AllDim);
+ 
+   // The template parameters indicate a mesh and a 'double'
+   // element type.  MultiPatch indicates multiple computation patches,
+   // i.e., distributed computation.  The UniformTag indicates the
+   // patches should have the same size.  Each patch has Brick type.
+   Field&lt;UniformRectilinearMesh&lt;2&gt;, double, MultiPatch&lt;UniformTag,
+     Remote&lt;Brick&gt; &gt; &gt; a(cell, layout, mesh);
+   Field&lt;UniformRectilinearMesh&lt;2&gt;, double, MultiPatch&lt;UniformTag,
+     Remote&lt;Brick&gt; &gt; &gt; b(cell, layout, mesh);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     a(I,J) = weight *
+       (b(I+1,J+1) + b(I+1,J  ) + b(I+1,J-1) +
+        b(I  ,J+1) + b(I  ,J  ) + b(I  ,J-1) +
+        b(I-1,J+1) + b(I-1,J  ) + b(I-1,J-1));
+ 
+     // Read from a.  Write to b.
+     b(I,J) = weight *
+       (a(I+1,J+1) + a(I+1,J  ) + a(I+1,J-1) +
+        a(I  ,J+1) + a(I  ,J  ) + a(I  ,J-1) +
+        a(I-1,J+1) + a(I-1,J  ) + a(I-1,J-1));
+   }
+ 
+   // Print out the final central value.
+   std::cout &lt;&lt; b(n/2,n/2) &lt;&lt; std::endl;
+ 
+   // The fields are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/Doof2d-Field-parallel.cpp
===================================================================
RCS file: Doof2d-Field-parallel.cpp
diff -N Doof2d-Field-parallel.cpp
*** /dev/null	Fri Mar 23 21:37:44 2001
--- Doof2d-Field-parallel.cpp	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,72 ----
+ #include &lt;iostream&gt;		// has std::cout, ...
+ #include &lt;stdlib.h&gt;		// has EXIT_SUCCESS
+ #include &quot;Pooma/Fields.h&quot;	// has Pooma's Field
+ 
+ // Doof2d: Pooma Fields, data-parallel implementation
+ 
+ int main(int argc, char *argv[])
+ {
+   // Prepare the Pooma library for execution.
+   Pooma::initialize(argc,argv);
+   
+   // nuIterations is the number of simulation iterations.
+   const int nuIterations = 10/2;
+ 
+   // In the average, weight element with this value.
+   const double weight = 1.0/9.0;
+ 
+   // Ask the user for the number n of elements along one dimension of
+   // the grid.
+   long n;
+   std::cout &lt;&lt; &quot;Please enter the array size: &quot;;
+   std::cin &gt;&gt; n;
+ 
+   // Specify the fields' domains [0,n) x [0,n).
+   Interval&lt;1&gt; N(0, n-1);
+   Interval&lt;2&gt; vertDomain(N, N);
+ 
+   // Set up interior domains [1,n-1) x [1,n-1) for computation.
+   Interval&lt;1&gt; I(1,n-2);
+   Interval&lt;1&gt; J(1,n-2);
+ 
+   // Specify the fields' mesh, i.e., its spatial extent, and its
+   // centering type.
+   DomainLayout&lt;2&gt; layout(vertDomain);
+   UniformRectilinearMesh&lt;2&gt; mesh(layout, Vector&lt;2&gt;(0.0), Vector&lt;2&gt;(1.0, 1.0));
+   Centering&lt;2&gt; cell = canonicalCentering&lt;2&gt;(CellType, Continuous, AllDim);
+ 
+   // Create the fields.
+   // The template parameters indicate a mesh, a 'double' element
+   // type, and ordinary 'Brick' storage.
+   Field&lt;UniformRectilinearMesh&lt;2&gt;, double, Brick&gt; a(cell, layout, mesh);
+   Field&lt;UniformRectilinearMesh&lt;2&gt;, double, Brick&gt; b(cell, layout, mesh);
+ 
+   // Set up the initial conditions.
+   // All grid values should be zero except for the central value.
+   a = b = 0.0;
+   b(n/2,n/2) = 1000.0;
+ 
+   // Perform the simulation.
+   for (int k = 0; k &lt; nuIterations; ++k) {
+     // Read from b.  Write to a.
+     a(I,J) = weight *
+       (b(I+1,J+1) + b(I+1,J  ) + b(I+1,J-1) +
+        b(I  ,J+1) + b(I  ,J  ) + b(I  ,J-1) +
+        b(I-1,J+1) + b(I-1,J  ) + b(I-1,J-1));
+ 
+     // Read from a.  Write to b.
+     b(I,J) = weight *
+       (a(I+1,J+1) + a(I+1,J  ) + a(I+1,J-1) +
+        a(I  ,J+1) + a(I  ,J  ) + a(I  ,J-1) +
+        a(I-1,J+1) + a(I-1,J  ) + a(I-1,J-1));
+   }
+ 
+   // Print out the final central value.
+   std::cout &lt;&lt; b(n/2,n/2) &lt;&lt; std::endl;
+ 
+   // The fields are automatically deallocated.
+ 
+   // Tell the Pooma library execution has finished.
+   Pooma::finalize();
+   return EXIT_SUCCESS;
+ }
Index: examples/Manual/Doof2d/include.mk
===================================================================
RCS file: include.mk
diff -N include.mk
*** /dev/null	Fri Mar 23 21:37:44 2001
--- include.mk	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,59 ----
+ # Generated by mm.pl: Mon Mar  9 13:58:39 MST 1998
+ # ACL:license
+ #  ----------------------------------------------------------------------
+ #  This software and ancillary information (herein called &quot;SOFTWARE&quot;)
+ #  called POOMA (Parallel Object-Oriented Methods and Applications) is
+ #  made available under the terms described here.  The SOFTWARE has been
+ #  approved for release with associated LA-CC Number LA-CC-98-65.
+ #  
+ #  Unless otherwise indicated, this SOFTWARE has been authored by an
+ #  employee or employees of the University of California, operator of the
+ #  Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
+ #  the U.S. Department of Energy.  The U.S. Government has rights to use,
+ #  reproduce, and distribute this SOFTWARE. The public may copy, distribute,
+ #  prepare derivative works and publicly display this SOFTWARE without 
+ #  charge, provided that this Notice and any statement of authorship are 
+ #  reproduced on all copies.  Neither the Government nor the University 
+ #  makes any warranty, express or implied, or assumes any liability or 
+ #  responsibility for the use of this SOFTWARE.
+ #  
+ #  If SOFTWARE is modified to produce derivative works, such modified
+ #  SOFTWARE should be clearly marked, so as not to confuse it with the
+ #  version available from LANL.
+ #  
+ #  For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
+ #  or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
+ #  ----------------------------------------------------------------------
+ # ACL:license
+ 
+ 
+ # Wrap make components from SHARED_ROOT and the current directory in the 
+ # proper order so that variables like ODIR have the correct directory-specific 
+ # value at the right moment.  See the included files for details of what they 
+ # are doing. This file should NOT be manually edited.
+ 
+ # Set NEXTDIR, THISDIR and DIR_LIST
+ include $(SHARED_ROOT)/include1.mk
+ 
+ # Include list of subdirectories to process
+ -include $(THISDIR)/subdir.mk
+ 
+ # Set ODIR, PROJECT_INCLUDES, UNIQUE
+ include $(SHARED_ROOT)/include2.mk
+ 
+ # Set list of object files, relative to ODIR
+ -include $(THISDIR)/objfile.mk
+ 
+ # Set rules for the ODIR directory 
+ include $(SHARED_ROOT)/compilerules.mk
+ 
+ # Remove current dir from DIR_LIST
+ DIR_LIST :=$(filter-out $(firstword $(DIR_LIST)), $(DIR_LIST))
+ 
+ 
+ # ACL:rcsinfo
+ #  ----------------------------------------------------------------------
+ #  $RCSfile: include.mk,v $   $Author: swhaney $
+ #  $Revision: 1.3 $   $Date: 2000/03/07 13:14:47 $
+ #  ----------------------------------------------------------------------
+ # ACL:rcsinfo
Index: examples/Manual/Doof2d/makefile
===================================================================
RCS file: makefile
diff -N makefile
*** /dev/null	Fri Mar 23 21:37:44 2001
--- makefile	Mon Dec  3 14:01:55 2001
***************
*** 0 ****
--- 1,96 ----
+ # Generated by mm.pl: Mon Mar  9 13:58:39 MST 1998
+ # ACL:license
+ #  ----------------------------------------------------------------------
+ #  This software and ancillary information (herein called &quot;SOFTWARE&quot;)
+ #  called POOMA (Parallel Object-Oriented Methods and Applications) is
+ #  made available under the terms described here.  The SOFTWARE has been
+ #  approved for release with associated LA-CC Number LA-CC-98-65.
+ #  
+ #  Unless otherwise indicated, this SOFTWARE has been authored by an
+ #  employee or employees of the University of California, operator of the
+ #  Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
+ #  the U.S. Department of Energy.  The U.S. Government has rights to use,
+ #  reproduce, and distribute this SOFTWARE. The public may copy, distribute,
+ #  prepare derivative works and publicly display this SOFTWARE without 
+ #  charge, provided that this Notice and any statement of authorship are 
+ #  reproduced on all copies.  Neither the Government nor the University 
+ #  makes any warranty, express or implied, or assumes any liability or 
+ #  responsibility for the use of this SOFTWARE.
+ #  
+ #  If SOFTWARE is modified to produce derivative works, such modified
+ #  SOFTWARE should be clearly marked, so as not to confuse it with the
+ #  version available from LANL.
+ #  
+ #  For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
+ #  or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
+ #  ----------------------------------------------------------------------
+ # ACL:license
+ 
+ # This file is user-editable
+ 
+ PROJECT_ROOT = $(shell cd ../../..; pwd)
+ include $(PROJECT_ROOT)/config/head.mk
+ 
+ PASS=APP
+ 
+ default:: Doof2d-C-element Doof2d-Array-element Doof2d-Array-parallel \
+ 	Doof2d-Array-stencil Doof2d-Array-distributed \
+ 	Doof2d-Field-parallel Doof2d-Field-distributed
+ 
+ .PHONY: Doof2d-C-element
+ 
+ Doof2d-C-element:: $(ODIR)/Doof2d-C-element
+ 
+ $(ODIR)/Doof2d-C-element: $(ODIR)/Doof2d-C-element.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Array-element
+ 
+ Doof2d-Array-element:: $(ODIR)/Doof2d-Array-element
+ 
+ $(ODIR)/Doof2d-Array-element: $(ODIR)/Doof2d-Array-element.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Array-parallel
+ 
+ Doof2d-Array-parallel:: $(ODIR)/Doof2d-Array-parallel
+ 
+ $(ODIR)/Doof2d-Array-parallel: $(ODIR)/Doof2d-Array-parallel.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Array-stencil
+ 
+ Doof2d-Array-stencil:: $(ODIR)/Doof2d-Array-stencil
+ 
+ $(ODIR)/Doof2d-Array-stencil: $(ODIR)/Doof2d-Array-stencil.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Array-distributed
+ 
+ Doof2d-Array-distributed:: $(ODIR)/Doof2d-Array-distributed
+ 
+ $(ODIR)/Doof2d-Array-distributed: $(ODIR)/Doof2d-Array-distributed.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Field-parallel
+ 
+ Doof2d-Field-parallel:: $(ODIR)/Doof2d-Field-parallel
+ 
+ $(ODIR)/Doof2d-Field-parallel: $(ODIR)/Doof2d-Field-parallel.o
+ 	$(LinkToSuite)
+ 
+ .PHONY: Doof2d-Field-distributed
+ 
+ Doof2d-Field-distributed:: $(ODIR)/Doof2d-Field-distributed
+ 
+ $(ODIR)/Doof2d-Field-distributed: $(ODIR)/Doof2d-Field-distributed.o
+ 	$(LinkToSuite)
+ 
+ include $(SHARED_ROOT)/tail.mk
+ 
+ # ACL:rcsinfo
+ #  ----------------------------------------------------------------------
+ #  $RCSfile: makefile,v $   $Author: oldham $
+ #  $Revision: 1.1 $   $Date: 2000/07/21 21:34:44 $
+ #  ----------------------------------------------------------------------
+ # ACL:rcsinfo
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000864.html">Patch: Fix Typos and Add Missing Semicolons
</A></li>
	<LI>Next message: <A HREF="000866.html">pooma performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#865">[ date ]</a>
              <a href="thread.html#865">[ thread ]</a>
              <a href="subject.html#865">[ subject ]</a>
              <a href="author.html#865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
