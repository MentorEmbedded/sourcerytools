<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> question...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20question...&In-Reply-To=%3CF871BB04B0EA224A821A5274C31DF3152BD3%40proxim-sf001.santafe.proximation.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000237.html">
   <LINK REL="Next"  HREF="000233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>question...</H1>
    <B>James Crotinger</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20question...&In-Reply-To=%3CF871BB04B0EA224A821A5274C31DF3152BD3%40proxim-sf001.santafe.proximation.com%3E"
       TITLE="question...">JimC at proximation.com
       </A><BR>
    <I>Wed Apr 11 22:34:04 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000237.html">[pooma-dev] Chevron Flow Scenario
</A></li>
        <LI>Next message: <A HREF="000233.html">gcc bug with static members of class templates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#231">[ date ]</a>
              <a href="thread.html#231">[ thread ]</a>
              <a href="subject.html#231">[ subject ]</a>
              <a href="author.html#231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is it safe to convert a vector&lt;int&gt;::const_iterator to a const int *
via something like 
 
   void foo(const vector&lt;int&gt; &amp;a)
   {
     const int *pBegin = &amp;(a.begin()[0]);
   }
 
In particular, is it allowable for operator[] for a const_iterator to return
by value instead of reference, in which case this would be taking the
address of a temporary. 
 
I'm trying to figure out a way to get the DynamicArray::destroy(begin, end,
...) stuff to work reliably for both vector&lt;int&gt; iterators and for int
pointers. Currently it is explicitly written for int pointers (there is a
virtual function call in the execution path, so I can't rely on templates
here). Since vector iterators are usually typedefs to pointers, the current
code will usually work for vector iterators. But on some systems, or with
some compile options, it might not compile (if the iterators are implemented
as classes). However, I do know that vector guarantees contiguous storage,
so if there is a way to convert the iterator to an address of the
corresponding element in the container, this will work regardless of the way
iterators are implemented.
 
   Jim
 
---------------------------------------------------
James A. Crotinger
Software Research Scientist
Proximation, LLC
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/pooma-dev/attachments/20010411/1d6f1f37/attachment.html">http://sourcerytools.com/pipermail/pooma-dev/attachments/20010411/1d6f1f37/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000237.html">[pooma-dev] Chevron Flow Scenario
</A></li>
	<LI>Next message: <A HREF="000233.html">gcc bug with static members of class templates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#231">[ date ]</a>
              <a href="thread.html#231">[ thread ]</a>
              <a href="subject.html#231">[ subject ]</a>
              <a href="author.html#231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
