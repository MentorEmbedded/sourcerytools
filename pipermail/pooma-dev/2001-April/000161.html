<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> POOMA Changes from LANL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20POOMA%20Changes%20from%20LANL&In-Reply-To=%3C20010403120610Z.mitchell%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000162.html">
   <LINK REL="Next"  HREF="000169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>POOMA Changes from LANL</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20POOMA%20Changes%20from%20LANL&In-Reply-To=%3C20010403120610Z.mitchell%40codesourcery.com%3E"
       TITLE="POOMA Changes from LANL">mark at codesourcery.com
       </A><BR>
    <I>Tue Apr  3 19:06:10 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000162.html">[pooma-dev] RE: an attempt at your particle BC
</A></li>
        <LI>Next message: <A HREF="000169.html">POOMA Changes from LANL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#161">[ date ]</a>
              <a href="thread.html#161">[ thread ]</a>
              <a href="subject.html#161">[ subject ]</a>
              <a href="author.html#161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
John Hall made a few changes to POOMA after we moved the repository.

I've attached the diffs.  

Scott, would you please review and commit the changes?  Or if you are
too busy, ask Jim to do so?

This is an important task because we want Blanca to start using our
CVS repository, and apparently they need these changes.

John, in future, please send changes to
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma-dev at pooma.codesourcery.com</A>, and we'll get them processed.

Thanks to all,

--
Mark Mitchell                   <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">mark at codesourcery.com</A>
CodeSourcery, LLC               <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>

Index: src/Engine/DataObject.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Engine/DataObject.h,v
retrieving revision 1.29
retrieving revision 1.30
diff -c -p -r1.29 -r1.30
*** DataObject.h	2000/03/07 13:16:50	1.29
--- DataObject.h	2001/03/19 22:22:31	1.30
*************** struct Combine2&lt;int, int, Op, AffinityCo
*** 209,215 ****
  {
    typedef int Type_t;
    inline static
!   Type_t combine(int a,int b,Op ,AffinityCombine )
    {
      return a;
    }
--- 209,215 ----
  {
    typedef int Type_t;
    inline static
!   Type_t combine(int a,int b,AffinityCombine )
    {
      return a;
    }
*************** public:
*** 248,254 ****
  
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
! // $RCSfile: DataObject.h,v $   $Author: swhaney $
! // $Revision: 1.29 $   $Date: 2000/03/07 13:16:50 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 248,254 ----
  
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
! // $RCSfile: DataObject.h,v $   $Author: jxyh $
! // $Revision: 1.30 $   $Date: 2001/03/19 22:22:31 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
Index: src/Evaluator/MultiArgEvaluator.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Evaluator/MultiArgEvaluator.h,v
retrieving revision 1.5
retrieving revision 1.7
diff -c -p -r1.5 -r1.7
*** MultiArgEvaluator.h	2001/03/04 06:46:48	1.5
--- MultiArgEvaluator.h	2001/03/14 05:36:16	1.7
*************** public:
*** 136,142 ****
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   const Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   const Kernel &amp;kernel)
    {
--- 136,142 ----
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   const Kernel &amp;kernel)
    {
*************** public:
*** 158,164 ****
    template&lt;class A1, class Function, int Dim, class Kernel&gt;
    static void
    createIterate(const A1&amp; a1,
! 		const Function&amp; function,
  		const Interval&lt;Dim&gt; &amp;domain,
  		ScalarCodeInfo &amp;info,
  		const Kernel &amp;)
--- 158,164 ----
    template&lt;class A1, class Function, int Dim, class Kernel&gt;
    static void
    createIterate(const A1&amp; a1,
! 		Function&amp; function,
  		const Interval&lt;Dim&gt; &amp;domain,
  		ScalarCodeInfo &amp;info,
  		const Kernel &amp;)
*************** public:
*** 196,202 ****
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg&amp; multiArg,
! 	   const Function&amp; function,
  	   Interval&lt;Dim&gt; domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
--- 196,202 ----
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg&amp; multiArg,
! 	   Function&amp; function,
  	   Interval&lt;Dim&gt; domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
*************** public:
*** 237,243 ****
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   const Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
--- 237,243 ----
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
*************** struct MultiArgEvaluator&lt;RemoteSinglePat
*** 288,294 ****
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   const Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
--- 288,294 ----
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
*************** struct MultiArgEvaluator&lt;RemoteMultiPatc
*** 338,344 ****
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   const Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
--- 338,344 ----
    template&lt;class MultiArg, class Function, int Dim, class Kernel&gt;
    static void
    evaluate(const MultiArg &amp;multiArg,
! 	   Function &amp;function,
  	   const Interval&lt;Dim&gt; &amp;domain,
  	   ScalarCodeInfo &amp;info,
  	   const Kernel &amp;kernel)
*************** struct MultiArgEvaluatorTag&lt;MultiArg3&lt;A1
*** 385,390 ****
--- 385,435 ----
    Evaluator_t;
  };
  
+ template&lt;class A1, class A2, class A3, class A4&gt;
+ struct MultiArgEvaluatorTag&lt;MultiArg4&lt;A1, A2, A3, A4&gt; &gt;
+ {
+   typedef typename EvaluatorTag1&lt;A1&gt;::Evaluator_t Eval1_t;
+   typedef typename EvaluatorTag1&lt;A2&gt;::Evaluator_t Eval2_t;
+   typedef typename EvaluatorTag1&lt;A3&gt;::Evaluator_t Eval3_t;
+   typedef typename EvaluatorTag1&lt;A4&gt;::Evaluator_t Eval4_t;
+   typedef typename EvaluatorCombine&lt;Eval1_t, Eval2_t&gt;::Evaluator_t Eval12_t;
+   typedef typename EvaluatorCombine&lt;Eval3_t, Eval12_t&gt;::Evaluator_t  Eval123_t;
+   typedef typename EvaluatorCombine&lt;Eval4_t, Eval123_t&gt;::Evaluator_t
+   Evaluator_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5&gt;
+ struct MultiArgEvaluatorTag&lt;MultiArg5&lt;A1, A2, A3, A4, A5&gt; &gt;
+ {
+   typedef typename EvaluatorTag1&lt;A1&gt;::Evaluator_t Eval1_t;
+   typedef typename EvaluatorTag1&lt;A2&gt;::Evaluator_t Eval2_t;
+   typedef typename EvaluatorTag1&lt;A3&gt;::Evaluator_t Eval3_t;
+   typedef typename EvaluatorTag1&lt;A4&gt;::Evaluator_t Eval4_t;
+   typedef typename EvaluatorTag1&lt;A5&gt;::Evaluator_t Eval5_t;
+   typedef typename EvaluatorCombine&lt;Eval1_t, Eval2_t&gt;::Evaluator_t Eval12_t;
+   typedef typename EvaluatorCombine&lt;Eval3_t, Eval12_t&gt;::Evaluator_t  Eval123_t;
+   typedef typename EvaluatorCombine&lt;Eval4_t, Eval123_t&gt;::Evaluator_t  Eval1234_t;
+   typedef typename EvaluatorCombine&lt;Eval5_t, Eval1234_t&gt;::Evaluator_t
+   Evaluator_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6&gt;
+ struct MultiArgEvaluatorTag&lt;MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &gt;
+ {
+   typedef typename EvaluatorTag1&lt;A1&gt;::Evaluator_t Eval1_t;
+   typedef typename EvaluatorTag1&lt;A2&gt;::Evaluator_t Eval2_t;
+   typedef typename EvaluatorTag1&lt;A3&gt;::Evaluator_t Eval3_t;
+   typedef typename EvaluatorTag1&lt;A4&gt;::Evaluator_t Eval4_t;
+   typedef typename EvaluatorTag1&lt;A5&gt;::Evaluator_t Eval5_t;
+   typedef typename EvaluatorTag1&lt;A6&gt;::Evaluator_t Eval6_t;
+   typedef typename EvaluatorCombine&lt;Eval1_t, Eval2_t&gt;::Evaluator_t Eval12_t;
+   typedef typename EvaluatorCombine&lt;Eval3_t, Eval12_t&gt;::Evaluator_t  Eval123_t;
+   typedef typename EvaluatorCombine&lt;Eval4_t, Eval123_t&gt;::Evaluator_t  Eval1234_t;
+   typedef typename EvaluatorCombine&lt;Eval5_t, Eval1234_t&gt;::Evaluator_t  Eval12345_t;
+   typedef typename EvaluatorCombine&lt;Eval6_t, Eval12345_t&gt;::Evaluator_t
+   Evaluator_t;
+ };
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7&gt;
  struct MultiArgEvaluatorTag&lt;MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &gt;
  {
*************** struct MultiArgEvaluatorTag&lt;MultiArg7&lt;A1
*** 411,416 ****
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: MultiArgEvaluator.h,v $   $Author: jxyh $
! // $Revision: 1.5 $   $Date: 2001/03/04 06:46:48 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 456,461 ----
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: MultiArgEvaluator.h,v $   $Author: jxyh $
! // $Revision: 1.7 $   $Date: 2001/03/14 05:36:16 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
Index: src/Evaluator/ScalarCode.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Evaluator/ScalarCode.h,v
retrieving revision 1.5
retrieving revision 1.7
diff -c -p -r1.5 -r1.7
*** ScalarCode.h	2001/03/04 22:19:15	1.5
--- ScalarCode.h	2001/03/14 05:36:16	1.7
*************** struct ApplyMultiArgLoc&lt;MultiArg1&lt;A1&gt;, F
*** 102,108 ****
  template&lt;class A1, class A2, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg2&lt;A1, A2&gt;, Function&gt;
  {
!   ApplyMultiArgLoc(const MultiArg2&lt;A1, A2&gt; &amp;multiArg,const Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
--- 102,108 ----
  template&lt;class A1, class A2, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg2&lt;A1, A2&gt;, Function&gt;
  {
!   ApplyMultiArgLoc(const MultiArg2&lt;A1, A2&gt; &amp;multiArg,Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
*************** struct ApplyMultiArgLoc&lt;MultiArg2&lt;A1, A2
*** 128,141 ****
    }
  
    const MultiArg2&lt;A1, A2&gt; &amp;multiArg_m;
!   const Function &amp;function_m;
  };
  
  template&lt;class A1, class A2, class A3, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg3&lt;A1, A2, A3&gt;, Function&gt;
  {
    ApplyMultiArgLoc(const MultiArg3&lt;A1, A2, A3&gt; &amp;multiArg,
! 		   const Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
--- 128,141 ----
    }
  
    const MultiArg2&lt;A1, A2&gt; &amp;multiArg_m;
!   Function &amp;function_m;
  };
  
  template&lt;class A1, class A2, class A3, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg3&lt;A1, A2, A3&gt;, Function&gt;
  {
    ApplyMultiArgLoc(const MultiArg3&lt;A1, A2, A3&gt; &amp;multiArg,
! 		   Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
*************** struct ApplyMultiArgLoc&lt;MultiArg3&lt;A1, A2
*** 165,178 ****
    }
  
    const MultiArg3&lt;A1, A2, A3&gt; &amp;multiArg_m;
!   const Function &amp;function_m;
  };
  
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt;, Function&gt;
  {
    ApplyMultiArgLoc(const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;multiArg,
! 		   const Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
--- 165,293 ----
    }
  
    const MultiArg3&lt;A1, A2, A3&gt; &amp;multiArg_m;
!   Function &amp;function_m;
  };
  
+ template&lt;class A1, class A2, class A3, class A4, class Function&gt;
+ struct ApplyMultiArgLoc&lt;MultiArg4&lt;A1, A2, A3, A4&gt;, Function&gt;
+ {
+   ApplyMultiArgLoc(const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;multiArg,
+ 		   Function &amp;function)
+     : multiArg_m(multiArg), function_m(function)
+   {
+   }
+ 
+   void operator()(int i0)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, Loc&lt;1&gt;(i0));
+   }
+ 
+   void operator()(int i0, int i1)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, Loc&lt;2&gt;(i0, i1));
+   }
+ 
+   void operator()(int i0, int i1, int i2)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, Loc&lt;3&gt;(i0, i1, i2));
+   }
+ 
+   void operator()(int i0, int i1, int i2, int i3)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, Loc&lt;4&gt;(i0, i1, i2, i3));
+   }
+ 
+   const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;multiArg_m;
+   Function &amp;function_m;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Function&gt;
+ struct ApplyMultiArgLoc&lt;MultiArg5&lt;A1, A2, A3, A4, A5&gt;, Function&gt;
+ {
+   ApplyMultiArgLoc(const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;multiArg,
+ 		   Function &amp;function)
+     : multiArg_m(multiArg), function_m(function)
+   {
+   }
+ 
+   void operator()(int i0)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, Loc&lt;1&gt;(i0));
+   }
+ 
+   void operator()(int i0, int i1)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, Loc&lt;2&gt;(i0, i1));
+   }
+ 
+   void operator()(int i0, int i1, int i2)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, Loc&lt;3&gt;(i0, i1, i2));
+   }
+ 
+   void operator()(int i0, int i1, int i2, int i3)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, Loc&lt;4&gt;(i0, i1, i2, i3));
+   }
+ 
+   const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;multiArg_m;
+   Function &amp;function_m;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Function&gt;
+ struct ApplyMultiArgLoc&lt;MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt;, Function&gt;
+ {
+   ApplyMultiArgLoc(const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;multiArg,
+ 		   Function &amp;function)
+     : multiArg_m(multiArg), function_m(function)
+   {
+   }
+ 
+   void operator()(int i0)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, multiArg_m.a6_m,
+                Loc&lt;1&gt;(i0));
+   }
+ 
+   void operator()(int i0, int i1)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, multiArg_m.a6_m,
+                Loc&lt;2&gt;(i0, i1));
+   }
+ 
+   void operator()(int i0, int i1, int i2)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, multiArg_m.a6_m,
+                Loc&lt;3&gt;(i0, i1, i2));
+   }
+ 
+   void operator()(int i0, int i1, int i2, int i3)
+   {
+     function_m(multiArg_m.a1_m, multiArg_m.a2_m, multiArg_m.a3_m,
+                multiArg_m.a4_m, multiArg_m.a5_m, multiArg_m.a6_m,
+                Loc&lt;4&gt;(i0, i1, i2, i3));
+   }
+ 
+   const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;multiArg_m;
+   Function &amp;function_m;
+ };
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Function&gt;
  struct ApplyMultiArgLoc&lt;MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt;, Function&gt;
  {
    ApplyMultiArgLoc(const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;multiArg,
! 		   Function &amp;function)
      : multiArg_m(multiArg), function_m(function)
    {
    }
*************** struct ApplyMultiArgLoc&lt;MultiArg7&lt;A1, A2
*** 206,212 ****
    }
  
    const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;multiArg_m;
!   const Function &amp;function_m;
  };
  
  template&lt;class Function, int Dim&gt;
--- 321,327 ----
    }
  
    const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;multiArg_m;
!   Function &amp;function_m;
  };
  
  template&lt;class Function, int Dim&gt;
*************** struct EvaluateLocLoop
*** 216,222 ****
    {
    }
  
!   EvaluateLocLoop(const Function &amp;function, const Interval&lt;Dim&gt; &amp;domain)
      : function_m(function), domain_m(domain)
    {
    }
--- 331,337 ----
    {
    }
  
!   EvaluateLocLoop(Function &amp;function, const Interval&lt;Dim&gt; &amp;domain)
      : function_m(function), domain_m(domain)
    {
    }
*************** struct ScalarCode
*** 239,245 ****
    {
    }
  
!   ScalarCode(const Function &amp;function)
      : function_m(function)
    {
    }
--- 354,360 ----
    {
    }
  
!   ScalarCode(Function &amp;function)
      : function_m(function)
    {
    }
*************** struct ScalarCode
*** 283,288 ****
--- 398,442 ----
  	       kernel);
    }
  
+   template&lt;class F1, class F2, class F3, class F4&gt;
+   void operator()(const F1 &amp;f1, const F2 &amp;f2, const F3 &amp;f3, const F4 &amp;f4)
+   {
+     enum { dimensions = F1::dimensions };
+     MultiArg4&lt;F1, F2, F3, F4&gt; multiArg(f1, f2, f3, f4);
+     EvaluateLocLoop&lt;Function, dimensions&gt; kernel(function_m,f1.physicalDomain());
+ 
+     MultiArgEvaluator&lt;MainEvaluatorTag&gt;().
+       evaluate&lt;MultiArg4&lt;F1, F2, F3, F4&gt; &gt;(multiArg, function_m,
+ 	       f1.physicalDomain(),
+ 	       kernel);
+   }
+ 
+   template&lt;class F1, class F2, class F3, class F4, class F5&gt;
+   void operator()(const F1 &amp;f1, const F2 &amp;f2, const F3 &amp;f3, const F4 &amp;f4, const F5 &amp;f5)
+   {
+     enum { dimensions = F1::dimensions };
+     MultiArg5&lt;F1, F2, F3, F4, F5&gt; multiArg(f1, f2, f3, f4, f5);
+     EvaluateLocLoop&lt;Function, dimensions&gt; kernel(function_m,f1.physicalDomain());
+ 
+     MultiArgEvaluator&lt;MainEvaluatorTag&gt;().
+       evaluate&lt;MultiArg5&lt;F1, F2, F3, F4, F5&gt; &gt;(multiArg, function_m,
+ 	       f1.physicalDomain(),
+ 	       kernel);
+   }
+ 
+   template&lt;class F1, class F2, class F3, class F4, class F5, class F6&gt;
+   void operator()(const F1 &amp;f1, const F2 &amp;f2, const F3 &amp;f3, const F4 &amp;f4, const F5 &amp;f5, const F6 &amp;f6)
+   {
+     enum { dimensions = F1::dimensions };
+     MultiArg6&lt;F1, F2, F3, F4, F5, F6&gt; multiArg(f1, f2, f3, f4, f5, f6);
+     EvaluateLocLoop&lt;Function, dimensions&gt; kernel(function_m,f1.physicalDomain());
+ 
+     MultiArgEvaluator&lt;MainEvaluatorTag&gt;().
+       evaluate&lt;MultiArg6&lt;F1, F2, F3, F4, F5, F6&gt; &gt;(multiArg, function_m,
+ 	       f1.physicalDomain(),
+ 	       kernel);
+   }
+ 
    template&lt;class F1, class F2, class F3, class F4, class F5, class F6, class F7&gt;
    void operator()(const F1 &amp;f1, const F2 &amp;f2, const F3 &amp;f3, const F4 &amp;f4, const F5 &amp;f5, const F6 &amp;f6, const F7 &amp;f7)
    {
*************** struct ScalarCode
*** 308,313 ****
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: ScalarCode.h,v $   $Author: jxyh $
! // $Revision: 1.5 $   $Date: 2001/03/04 22:19:15 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 462,467 ----
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: ScalarCode.h,v $   $Author: jxyh $
! // $Revision: 1.7 $   $Date: 2001/03/14 05:36:16 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
Index: src/Evaluator/ScalarCodeInfo.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Evaluator/ScalarCodeInfo.h,v
retrieving revision 1.2
retrieving revision 1.3
diff -c -p -r1.2 -r1.3
*** ScalarCodeInfo.h	2001/03/04 06:46:48	1.2
--- ScalarCodeInfo.h	2001/03/13 06:32:22	1.3
*************** public:
*** 176,183 ****
        ret[d] =
  	Interval&lt;1&gt;(
  //		    lower_m[d],
!             domain[d].first(),
! 		    domain[d].last() - domain[d].first() // + lower_m[d]
  		    );
      }
      return ret;
--- 176,183 ----
        ret[d] =
  	Interval&lt;1&gt;(
  //		    lower_m[d],
!             domain[d].first() + lower_m[d],
! 		    domain[d].last() - domain[d].first() + lower_m[d]
  		    );
      }
      return ret;
*************** private:
*** 209,214 ****
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: ScalarCodeInfo.h,v $   $Author: jxyh $
! // $Revision: 1.2 $   $Date: 2001/03/04 06:46:48 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 209,214 ----
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: ScalarCodeInfo.h,v $   $Author: jxyh $
! // $Revision: 1.3 $   $Date: 2001/03/13 06:32:22 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
Index: src/Functions/MultiArg.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Functions/MultiArg.h,v
retrieving revision 1.4
retrieving revision 1.5
diff -c -p -r1.4 -r1.5
*** MultiArg.h	2001/03/04 06:47:18	1.4
--- MultiArg.h	2001/03/11 00:34:29	1.5
***************
*** 81,86 ****
--- 81,89 ----
  template&lt;class A1&gt; struct MultiArg1;
  template&lt;class A1, class A2&gt; struct MultiArg2;
  template&lt;class A1, class A2, class A3&gt; struct MultiArg3;
+ template&lt;class A1, class A2, class A3, class A4&gt; struct MultiArg4;
+ template&lt;class A1, class A2, class A3, class A4, class A5&gt; struct MultiArg5;
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6&gt; struct MultiArg6;
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7&gt; struct MultiArg7;
  
  // These MultiArgView structs are workarounds for Compaq's
*************** struct MultiArgView3
*** 111,116 ****
--- 114,152 ----
    typedef MultiArg3&lt;A1_t, A2_t, A3_t&gt; Type_t;
  };
  
+ template&lt;class A1, class A2, class A3, class A4, class Dom&gt;
+ struct MultiArgView4
+ {
+   typedef typename View1&lt;A1, Dom&gt;::Type_t A1_t;
+   typedef typename View1&lt;A2, Dom&gt;::Type_t A2_t;
+   typedef typename View1&lt;A3, Dom&gt;::Type_t A3_t;
+   typedef typename View1&lt;A4, Dom&gt;::Type_t A4_t;
+   typedef MultiArg4&lt;A1_t, A2_t, A3_t, A4_t&gt; Type_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Dom&gt;
+ struct MultiArgView5
+ {
+   typedef typename View1&lt;A1, Dom&gt;::Type_t A1_t;
+   typedef typename View1&lt;A2, Dom&gt;::Type_t A2_t;
+   typedef typename View1&lt;A3, Dom&gt;::Type_t A3_t;
+   typedef typename View1&lt;A4, Dom&gt;::Type_t A4_t;
+   typedef typename View1&lt;A5, Dom&gt;::Type_t A5_t;
+   typedef MultiArg5&lt;A1_t, A2_t, A3_t, A4_t, A5_t&gt; Type_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Dom&gt;
+ struct MultiArgView6
+ {
+   typedef typename View1&lt;A1, Dom&gt;::Type_t A1_t;
+   typedef typename View1&lt;A2, Dom&gt;::Type_t A2_t;
+   typedef typename View1&lt;A3, Dom&gt;::Type_t A3_t;
+   typedef typename View1&lt;A4, Dom&gt;::Type_t A4_t;
+   typedef typename View1&lt;A5, Dom&gt;::Type_t A5_t;
+   typedef typename View1&lt;A6, Dom&gt;::Type_t A6_t;
+   typedef MultiArg6&lt;A1_t, A2_t, A3_t, A4_t, A5_t, A6_t&gt; Type_t;
+ };
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Dom&gt;
  struct MultiArgView7
  {
*************** struct View1&lt;MultiArg3&lt;A1, A2, A3&gt;, Dom&gt;
*** 142,147 ****
--- 178,201 ----
    typedef typename MultiArgView3&lt;A1, A2, A3, Dom&gt;::Type_t Type_t;
  };
  
+ template&lt;class A1, class A2, class A3, class A4, class Dom&gt;
+ struct View1&lt;MultiArg4&lt;A1, A2, A3, A4&gt;, Dom&gt;
+ {
+   typedef typename MultiArgView4&lt;A1, A2, A3, A4, Dom&gt;::Type_t Type_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Dom&gt;
+ struct View1&lt;MultiArg5&lt;A1, A2, A3, A4, A5&gt;, Dom&gt;
+ {
+   typedef typename MultiArgView5&lt;A1, A2, A3, A4, A5, Dom&gt;::Type_t Type_t;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Dom&gt;
+ struct View1&lt;MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt;, Dom&gt;
+ {
+   typedef typename MultiArgView6&lt;A1, A2, A3, A4, A5, A6, Dom&gt;::Type_t Type_t;
+ };
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Dom&gt;
  struct View1&lt;MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt;, Dom&gt;
  {
*************** struct MultiArg3
*** 214,219 ****
--- 268,348 ----
    A3 a3_m;
  };
  
+ template&lt;class A1, class A2, class A3, class A4&gt;
+ struct MultiArg4
+ {
+   enum { size = 4 };
+ 
+   MultiArg4(const A1 &amp;a1, const A2 &amp;a2, const A3 &amp;a3, const A4 &amp;a4)
+     : a1_m(a1), a2_m(a2), a3_m(a3), a4_m(a4)
+   {
+   }
+ 
+   template&lt;class Dom&gt;
+   typename View1&lt;MultiArg4&lt;A1, A2, A3, A4&gt;, Dom&gt;::Type_t
+   operator()(Dom &amp;dom) const
+   {
+     typedef typename View1&lt;MultiArg4&lt;A1, A2, A3, A4&gt;, Dom&gt;::Type_t Ret_t;
+     return Ret_t(a1_m(dom), a2_m(dom), a3_m(dom), a4_m(dom));
+   }
+ 
+   A1 a1_m;
+   A2 a2_m;
+   A3 a3_m;
+   A4 a4_m;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5&gt;
+ struct MultiArg5
+ {
+   enum { size = 5 };
+ 
+   MultiArg5(const A1 &amp;a1, const A2 &amp;a2, const A3 &amp;a3, const A4 &amp;a4, const A5 &amp;a5)
+     : a1_m(a1), a2_m(a2), a3_m(a3), a4_m(a4), a5_m(a5)
+   {
+   }
+ 
+   template&lt;class Dom&gt;
+   typename View1&lt;MultiArg5&lt;A1, A2, A3, A4, A5&gt;, Dom&gt;::Type_t
+   operator()(Dom &amp;dom) const
+   {
+     typedef typename View1&lt;MultiArg5&lt;A1, A2, A3, A4, A5&gt;, Dom&gt;::Type_t Ret_t;
+     return Ret_t(a1_m(dom), a2_m(dom), a3_m(dom), a4_m(dom), a5_m(dom));
+   }
+ 
+   A1 a1_m;
+   A2 a2_m;
+   A3 a3_m;
+   A4 a4_m;
+   A5 a5_m;
+ };
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6&gt;
+ struct MultiArg6
+ {
+   enum { size = 6 };
+ 
+   MultiArg6(const A1 &amp;a1, const A2 &amp;a2, const A3 &amp;a3, const A4 &amp;a4, const A5 &amp;a5, const A6 &amp;a6)
+     : a1_m(a1), a2_m(a2), a3_m(a3), a4_m(a4), a5_m(a5), a6_m(a6)
+   {
+   }
+ 
+   template&lt;class Dom&gt;
+   typename View1&lt;MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt;, Dom&gt;::Type_t
+   operator()(Dom &amp;dom) const
+   {
+     typedef typename View1&lt;MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt;, Dom&gt;::Type_t Ret_t;
+     return Ret_t(a1_m(dom), a2_m(dom), a3_m(dom), a4_m(dom), a5_m(dom), a6_m(dom));
+   }
+ 
+   A1 a1_m;
+   A2 a2_m;
+   A3 a3_m;
+   A4 a4_m;
+   A5 a5_m;
+   A6 a6_m;
+ };
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7&gt;
  struct MultiArg7
  {
*************** void applyMultiArg(const MultiArg3&lt;A1, A
*** 283,288 ****
--- 412,459 ----
    f(node.a1_m, node.a2_m, node.a3_m, i1, i2);
  }
  
+ template&lt;class A1, class A2, class A3, class A4, class Function&gt;
+ void applyMultiArg(const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;node,
+ 	       const Function &amp;f, int i1)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, i1);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class Function&gt;
+ void applyMultiArg(const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;node,
+ 	       const Function &amp;f, int i1, int i2)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, i1, i2);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Function&gt;
+ void applyMultiArg(const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;node,
+ 	       const Function &amp;f, int i1)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, node.a5_m, i1);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Function&gt;
+ void applyMultiArg(const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;node,
+ 	       const Function &amp;f, int i1, int i2)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, node.a5_m, i1, i2);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Function&gt;
+ void applyMultiArg(const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;node,
+ 	       const Function &amp;f, int i1)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, node.a5_m, node.a6_m, i1);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Function&gt;
+ void applyMultiArg(const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;node,
+ 	       const Function &amp;f, int i1, int i2)
+ {
+   f(node.a1_m, node.a2_m, node.a3_m, node.a4_m, node.a5_m, node.a6_m, i1, i2);
+ }
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Function&gt;
  void applyMultiArg(const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;node,
  	       const Function &amp;f, int i1)
*************** void applyMultiArg(const MultiArg3&lt;A1, A
*** 324,329 ****
--- 495,536 ----
    f(node.a3_m, condition[2]);
  }
  
+ template&lt;class A1, class A2, class A3, class A4, class Function&gt;
+ void applyMultiArg(const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;node,
+ 	       const Function &amp;f,
+ 	       const std::vector&lt;bool&gt; &amp;condition)
+ {
+   f(node.a1_m, condition[0]);
+   f(node.a2_m, condition[1]);
+   f(node.a3_m, condition[2]);
+   f(node.a4_m, condition[3]);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Function&gt;
+ void applyMultiArg(const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;node,
+ 	       const Function &amp;f,
+ 	       const std::vector&lt;bool&gt; &amp;condition)
+ {
+   f(node.a1_m, condition[0]);
+   f(node.a2_m, condition[1]);
+   f(node.a3_m, condition[2]);
+   f(node.a4_m, condition[3]);
+   f(node.a5_m, condition[4]);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Function&gt;
+ void applyMultiArg(const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;node,
+ 	       const Function &amp;f,
+ 	       const std::vector&lt;bool&gt; &amp;condition)
+ {
+   f(node.a1_m, condition[0]);
+   f(node.a2_m, condition[1]);
+   f(node.a3_m, condition[2]);
+   f(node.a4_m, condition[3]);
+   f(node.a5_m, condition[4]);
+   f(node.a6_m, condition[5]);
+ }
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Function&gt;
  void applyMultiArg(const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;node,
  	       const Function &amp;f,
*************** void applyMultiArgIf(const MultiArg3&lt;A1,
*** 374,379 ****
--- 581,649 ----
      f(node.a3_m);
  }
  
+ template&lt;class A1, class A2, class A3, class A4, class Function&gt;
+ void applyMultiArgIf(const MultiArg4&lt;A1, A2, A3, A4&gt; &amp;node,
+ 		 const Function &amp;f,
+ 		 const std::vector&lt;bool&gt; &amp;condition)
+ {
+   if (condition[0])
+     f(node.a1_m);
+ 
+   if (condition[1])
+     f(node.a2_m);
+ 
+   if (condition[2])
+     f(node.a3_m);
+ 
+   if (condition[3])
+     f(node.a4_m);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class Function&gt;
+ void applyMultiArgIf(const MultiArg5&lt;A1, A2, A3, A4, A5&gt; &amp;node,
+ 		 const Function &amp;f,
+ 		 const std::vector&lt;bool&gt; &amp;condition)
+ {
+   if (condition[0])
+     f(node.a1_m);
+ 
+   if (condition[1])
+     f(node.a2_m);
+ 
+   if (condition[2])
+     f(node.a3_m);
+ 
+   if (condition[3])
+     f(node.a4_m);
+ 
+   if (condition[4])
+     f(node.a5_m);
+ }
+ 
+ template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class Function&gt;
+ void applyMultiArgIf(const MultiArg6&lt;A1, A2, A3, A4, A5, A6&gt; &amp;node,
+ 		 const Function &amp;f,
+ 		 const std::vector&lt;bool&gt; &amp;condition)
+ {
+   if (condition[0])
+     f(node.a1_m);
+ 
+   if (condition[1])
+     f(node.a2_m);
+ 
+   if (condition[2])
+     f(node.a3_m);
+ 
+   if (condition[3])
+     f(node.a4_m);
+ 
+   if (condition[4])
+     f(node.a5_m);
+ 
+   if (condition[5])
+     f(node.a6_m);
+ }
+ 
  template&lt;class A1, class A2, class A3, class A4, class A5, class A6, class A7, class Function&gt;
  void applyMultiArgIf(const MultiArg7&lt;A1, A2, A3, A4, A5, A6, A7&gt; &amp;node,
  		 const Function &amp;f,
*************** void applyMultiArgIf(const MultiArg7&lt;A1,
*** 406,411 ****
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: MultiArg.h,v $   $Author: jxyh $
! // $Revision: 1.4 $   $Date: 2001/03/04 06:47:18 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 676,681 ----
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
  // $RCSfile: MultiArg.h,v $   $Author: jxyh $
! // $Revision: 1.5 $   $Date: 2001/03/11 00:34:29 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
Index: src/Pooma/PETE/AssertEquals.h
===================================================================
RCS file: /usr/local/pooma/repository/r2/src/Pooma/PETE/AssertEquals.h,v
retrieving revision 1.2
retrieving revision 1.3
diff -c -p -r1.2 -r1.3
*** AssertEquals.h	2000/03/07 13:18:06	1.2
--- AssertEquals.h	2001/03/19 22:23:48	1.3
*************** struct Combine2&lt;int, int, Op, AssertEqua
*** 79,86 ****
  {
    typedef int Type_t;
    inline static
!   Type_t combine(const int &amp;a, const int &amp;b,
! 		 const Op &amp;, const AssertEquals &amp;ae)
    {
      int ret = a;
      if ((a != ae.ignore_m) &amp;&amp; (b != ae.ignore_m))
--- 79,85 ----
  {
    typedef int Type_t;
    inline static
!   Type_t combine(const int &amp;a, const int &amp;b, const AssertEquals &amp;ae)
    {
      int ret = a;
      if ((a != ae.ignore_m) &amp;&amp; (b != ae.ignore_m))
*************** struct Combine2&lt;int, int, Op, AssertEqua
*** 101,107 ****
  
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
! // $RCSfile: AssertEquals.h,v $   $Author: swhaney $
! // $Revision: 1.2 $   $Date: 2000/03/07 13:18:06 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo
--- 100,106 ----
  
  // ACL:rcsinfo
  // ----------------------------------------------------------------------
! // $RCSfile: AssertEquals.h,v $   $Author: jxyh $
! // $Revision: 1.3 $   $Date: 2001/03/19 22:23:48 $
  // ----------------------------------------------------------------------
  // ACL:rcsinfo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000162.html">[pooma-dev] RE: an attempt at your particle BC
</A></li>
	<LI>Next message: <A HREF="000169.html">POOMA Changes from LANL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#161">[ date ]</a>
              <a href="thread.html#161">[ thread ]</a>
              <a href="subject.html#161">[ subject ]</a>
              <a href="author.html#161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
