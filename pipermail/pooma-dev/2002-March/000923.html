<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Manual Patch: Automate Figure Creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Manual%20Patch%3A%20Automate%20Figure%20Creation&In-Reply-To=%3C20020304180453.A11233%40vaio.codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000922.html">
   <LINK REL="Next"  HREF="000924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Manual Patch: Automate Figure Creation</H1>
    <B>Jeffrey</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Manual%20Patch%3A%20Automate%20Figure%20Creation&In-Reply-To=%3C20020304180453.A11233%40vaio.codesourcery.com%3E"
       TITLE="Manual Patch: Automate Figure Creation">oldham at mail.codesourcery.com
       </A><BR>
    <I>Tue Mar  5 02:04:53 UTC 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000922.html">Patch: More UML Class Diagrams
</A></li>
        <LI>Next message: <A HREF="000924.html">UK Bulk Email List - &#163;5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#923">[ date ]</a>
              <a href="thread.html#923">[ thread ]</a>
              <a href="subject.html#923">[ subject ]</a>
              <a href="author.html#923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2002-Mar-04  Jeffrey D. Oldham  &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>&gt;

This patch automates creation of figures and rearranges the corresponding
Makefile.
	
	* figures/Makefile (UML_SOURCES): Add other UML source files.
	(SOURCES): Reformat definition.
	(OTHER_DIAGRAMS): New definition listing non-UML diagrams.
	(all): Use OTHER_DIAGRAMS.

Applied to mainline.

Thanks,
Jeffrey D. Oldham
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>
-------------- next part --------------
Index: figures/Makefile
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/Makefile,v
retrieving revision 1.4
diff -c -p -r1.4 Makefile
*** figures/Makefile	2002/03/04 23:48:09	1.4
--- figures/Makefile	2002/03/05 01:41:12
*************** EPSTOPNG=	/home/oldham/bin/peps
*** 22,31 ****
  # MetaPost macro definitions used in multiple files.
  MACRO_SOURCES= box-macros.mp grid-macros.mp uml.mp
  # These MetaPost files describe the UML class diagrams.
! UML_SOURCES= explanation-uml.mp
  # These MetaPost files describe the figures.
! SOURCES= concepts.mp data-parallel.mp distributed.mp doof2d.mp introduction.mp \
! 	$(UML_SOURCES)
  # MetaPost can produce multiple files per input file.  These multiple
  # files have names %.[0-9]+.  Since make does not deal well with
  # producing an indeterminate number of files from the same rule, we
--- 22,34 ----
  # MetaPost macro definitions used in multiple files.
  MACRO_SOURCES= box-macros.mp grid-macros.mp uml.mp
  # These MetaPost files describe the UML class diagrams.
! UML_SOURCES= array-uml.mp distributed-uml.mp domain-uml.mp \
! 	engine-uml.mp explanation-uml.mp field-uml.mp \
! 	math-objs-uml.mp
! 
  # These MetaPost files describe the figures.
! SOURCES= concepts.mp data-parallel.mp distributed.mp doof2d.mp \
! 	introduction.mp $(UML_SOURCES)
  # MetaPost can produce multiple files per input file.  These multiple
  # files have names %.[0-9]+.  Since make does not deal well with
  # producing an indeterminate number of files from the same rule, we
*************** UML_DIAGRAMS= explanation-uml-1.png \
*** 53,68 ****
  	      math-objs-uml-1.png math-objs-uml-10.png \
  	      math-objs-uml-11.png math-objs-uml-2.png math-objs-uml-3.png \
  	      math-objs-uml-4.png
  
  # Create all the EPS and PNG files.  The 'mproof-all' target creates
  # the EPS files.  This should happen before trying to create the PNG
  # files, but this rule may not guarantee this ordering.
! all: mproof-all \
! 	concepts-101.png concepts-111.png data-parallel-101.png \
! 	data-parallel-212.png distributed-101.png \
! 	doof2d-201.png doof2d-202.png doof2d-203.png \
! 	doof2d-210.png doof2d-211.png introduction-101.png \
! 	$(UML_DIAGRAMS)
  
  mproof-all: $(RESULTS)
  
--- 56,70 ----
  	      math-objs-uml-1.png math-objs-uml-10.png \
  	      math-objs-uml-11.png math-objs-uml-2.png math-objs-uml-3.png \
  	      math-objs-uml-4.png
+ OTHER_DIAGRAMS= concepts-101.png concepts-111.png data-parallel-101.png \
+ 	data-parallel-212.png distributed-101.png \
+ 	doof2d-201.png doof2d-202.png doof2d-203.png \
+ 	doof2d-210.png doof2d-211.png introduction-101.png
  
  # Create all the EPS and PNG files.  The 'mproof-all' target creates
  # the EPS files.  This should happen before trying to create the PNG
  # files, but this rule may not guarantee this ordering.
! all: mproof-all	$(OTHER_DIAGRAMS) $(UML_DIAGRAMS)
  
  mproof-all: $(RESULTS)
  
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000922.html">Patch: More UML Class Diagrams
</A></li>
	<LI>Next message: <A HREF="000924.html">UK Bulk Email List - &#163;5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#923">[ date ]</a>
              <a href="thread.html#923">[ thread ]</a>
              <a href="subject.html#923">[ subject ]</a>
              <a href="author.html#923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
