<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> PATCH: Remove Doof2dUMP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20PATCH%3A%20Remove%20Doof2dUMP&In-Reply-To=%3C20010928091451.C8632%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000756.html">
   <LINK REL="Next"  HREF="000758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>PATCH: Remove Doof2dUMP</H1>
    <B>Jeffrey Oldham</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20PATCH%3A%20Remove%20Doof2dUMP&In-Reply-To=%3C20010928091451.C8632%40codesourcery.com%3E"
       TITLE="PATCH: Remove Doof2dUMP">oldham at codesourcery.com
       </A><BR>
    <I>Fri Sep 28 16:14:51 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000756.html">[QMTrack] new issue pooma_program_templates
</A></li>
        <LI>Next message: <A HREF="000758.html">[QMTrack] new issue doof2dgmp_missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#757">[ date ]</a>
              <a href="thread.html#757">[ thread ]</a>
              <a href="subject.html#757">[ subject ]</a>
              <a href="author.html#757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stephen Smith's Doof2d merger eliminates the need for the Doof2dUMP
files.  Use 'cvs update -P' to remove empty directories.

Applied to mainline
Nothing to test
Approved by Stephen Smith.

Thanks,
Jeffrey D. Oldham
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>
-------------- next part --------------
? Doof2dUMP.28Sep.08.5.patch
Index: Doof2dUMP.cpp
===================================================================
RCS file: Doof2dUMP.cpp
diff -N Doof2dUMP.cpp
*** /tmp/cvsH4EtKU	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,67 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- //-----------------------------------------------------------------------------
- // Doof2d Benchmark (UMP version)
- //-----------------------------------------------------------------------------
- 
- // Include files
- 
- #include &quot;Pooma/Pooma.h&quot;
- #include &quot;Doof2dUMP.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- int main(int argc, char* argv[])
- {
-   Pooma::initialize(argc, argv); 
-   
-   Benchmark doof2d(argc, argv);
- 
-   cpptran1(doof2d);
-   cpptran2(doof2d);
-   pooma1(doof2d);
-   pooma1c(doof2d);
-   pooma2(doof2d);
-   pooma3(doof2d);
-   
-   doof2d.setSamplingParameters(100,0,1);
-   doof2d.run();
-   
-   Pooma::finalize();
- 
-   return 0;
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: Doof2dUMP.cpp,v $   $Author: julianc $
- // $Revision: 1.9 $   $Date: 2000/04/13 19:56:39 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: Doof2dUMP.h
===================================================================
RCS file: Doof2dUMP.h
diff -N Doof2dUMP.h
*** /tmp/cvsXySgml	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,602 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- //-----------------------------------------------------------------------------
- // Classes Doof2dUMPBase, Doof2dUMPCppTran, Doof2dUMPP2.
- //-----------------------------------------------------------------------------
- 
- #ifndef POOMA_BENCHMARKS_DOOF2DUMP_DOOF2DUMP_H
- #define POOMA_BENCHMARKS_DOOF2DUMP_DOOF2DUMP_H
- 
- // Include files
- 
- #include &quot;Pooma/Arrays.h&quot;
- 
- #include &quot;Utilities/Benchmark.h&quot;
- 
- #include &lt;stdlib.h&gt;
- #include &lt;typeinfo&gt;
- 
- //-----------------------------------------------------------------------------
- // Doof2dBase class definitions. We define this as a partially specialized
- // class so it is easy to make subclasses work for UMP or not.
- //-----------------------------------------------------------------------------
- 
- // General version.
- 
- template&lt;class EngineTag, bool UMP&gt;
- class Doof2dBase { };
- 
- // Non-UMP version.
- 
- template&lt;class EngineTag&gt;
- class Doof2dBase&lt;EngineTag, false&gt;
-   : public Implementation
- {
- public:
- 
-   // Dummy constructor.
-   
-   Doof2dBase(int = 1, int = 0) { }
-   
-   // Typedefs for the Array types we'll be using here.
- 
-   typedef Array&lt;2,double,EngineTag&gt; Array2D;
- 
-   // Initialize function gets the size and adjusts the arrays.
-     
-   void initialize(int n) 
-   {
-     // Save the problem size.
-     
-     n_m = n;
- 
-     // Get new array domain, including &quot;guards&quot;.
-     
-     Interval&lt;1&gt; N(1, n_m);
-     Interval&lt;2&gt; newDomain(N, N);
- 
-     // Resize the arrays.
-     
-     a_m.initialize(newDomain);
-     b_m.initialize(newDomain);
- 
-     // Set up domains for the internal cells.
-     
-     I = Interval&lt;1&gt;(2,n_m-1);
-     J = Interval&lt;1&gt;(2,n_m-1);
- 
-     // Intialize Array element values.
-     
-     setInitialConditions();
-   }
- 
-   // Return value for checking result of benchmark run.
- 
-   double resultCheck() const { return check_m; }
- 
-   // Return number of flops in this kernel.
- 
-   double opCount() const { return ( 90 * (n_m - 2) * (n_m - 2) ); }
- 
- protected:
- 
-   // 2D data arrays.
- 
-   Array2D a_m, b_m;
- 
-   // Problem check value.
- 
-   double check_m;
- 
-   // Problem size.
- 
-   int n_m;
-   
-   // Domains for stencil.
-   
-   Interval&lt;1&gt; I, J;
- 
- private:
- 
-   void setInitialConditions()
-   {
-     // Initialize arrays.
- 
-     a_m = 0.0;
-     b_m = 0.0;
-     
-     Pooma::blockAndEvaluate();
-   }
- };
- 
- // UMP version.
- 
- template&lt;class EngineTag&gt;
- class Doof2dBase&lt;EngineTag, true&gt; : public Implementation {
- public:
- 
-   // Typedefs for the Array types we'll be using here.
- 
-   typedef Array&lt;2,double, MultiPatch&lt;UniformTag,EngineTag&gt; &gt; Array2D;
- 
-   // Constructor allows us to specify the number of patches in each direction
-   // and the number of guard cells.
- 
-   Doof2dBase(int np = 1, int ng = 0) 
-   : np_m(np), ng_m(ng), layout_m(NULL)
-   { }
-   
-   // Destructor deletes pointers.
-   
-   ~Doof2dBase()
-   {
-     delete layout_m;
-   }
-   
-   // Initialize function gets the size and adjusts the arrays.
-     
-   void initialize(int n) 
-   {
-     // Save the problem size. We need to make sure we have evenly sized blocks.
-     
-     n_m = (n / np_m) * np_m;
-     
-     // int ntot = ( (n+2) / np_m ) * np_m; 
-     
-     // n_m = ntot - 2;
-     
-     // Delete old pointers.
-     
-     delete layout_m;
- 
-     // Get new array domain.
-     
-     Interval&lt;1&gt; N(1, n_m);
-     Interval&lt;2&gt; newDomain(N, N);
- 
-     // Create the block sizes.
-     
-     Loc&lt;2&gt; blocks(np_m, np_m);
- 
-     // Create the partitioner. 
-     
-     UniformGridPartition&lt;2&gt; partition(blocks, GuardLayers&lt;2&gt;(ng_m),
- 				      GuardLayers&lt;2&gt;(ng_m));
- 
-     // Use the local mapper, since this test uses bricks.
- 
-     LocalMapper&lt;2&gt; mapper;
-   
-     // Create the layout.
-     
-     layout_m = new UniformGridLayout&lt;2&gt;(newDomain, partition, mapper);
- 
-     // Create the arrays.
-     
-     a_m.initialize(*layout_m);
-     b_m.initialize(*layout_m);
- 
-     // Set up domains.
-     
-     I = Interval&lt;1&gt;(2,n_m-1);
-     J = Interval&lt;1&gt;(2,n_m-1);
- 
-     // Intialize Array element values.
-     
-     setInitialConditions();
-   }
- 
-   // Return value for checking result of benchmark run.
- 
-   double resultCheck() const { return check_m; }
- 
-   // Return number of flops in this kernel.
- 
-   double opCount() const
-   {
-     return ( 90 * ((double)n_m - 2) * ((double)n_m - 2) );
-   }
- 
- protected:
- 
-   // 2D data arrays.
- 
-   Array2D a_m, b_m;
- 
-   // Problem check value.
- 
-   double check_m;
- 
-   // Problem size/number of patches.
- 
-   int n_m, np_m;
-   
-   // Guard layers.
- 
-   int ng_m;
- 
-   // Domains for stencil.
-   
-   Interval&lt;1&gt; I, J;
-   
-   // Layout.
-   
-   UniformGridLayout&lt;2&gt; *layout_m;
- 
- private:
- 
-   void setInitialConditions()
-   {
-     // Initialize arrays.
- 
-     a_m = 0.0;
-     b_m = 0.0;
-     
-     Pooma::blockAndEvaluate();
-   }
- };
- 
- 
- //-----------------------------------------------------------------------------
- // Doof2dUMPCppTran class definition.
- //-----------------------------------------------------------------------------
- 
- template&lt;class PatchTag, bool UMP&gt;
- class Doof2dCppTran : public Doof2dBase&lt;PatchTag,UMP&gt; {
- public:
- 
-   typedef typename Doof2dBase&lt;PatchTag, UMP&gt;::Array2D Array2D;
- 
-   // Constructor allows us to specify the number of patches in each direction.
-   
-   Doof2dCppTran(int np = 1)
-   : Doof2dBase&lt;PatchTag,UMP&gt;(np)
-   { }
- 
-   // This is a C++Tran benchmark, perhaps using UMP.
- 
-   const char* type() const { return CppTranType(); }
-   const char* qualification() const
-   {
-     if (UMP)
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;BrickUMP&quot;;
-         else
-           return &quot;CompBrickUMP&quot;;
-       }
-     else
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;Brick&quot;;
-         else
-           return &quot;CompBrick&quot;;
-       }
-   }
- 
-   void run() 
-   {
-     const double fact = 1.0 / 9.0;
- 
-     int i, j, k;
- 
-     // Run setup.
-     
-     for (j = 1; j &lt;= n_m; j++) 
-     {
-       for (i = 1; i &lt;= n_m; i++) 
-       {
- 	b_m(i,j) = 0.0;
-       }
-     }
-     b_m(n_m/2,n_m/2) = 1000.0;
- 
-     // Run kernel.
-     
-     for (k = 0; k &lt; 10; ++k)
-     {
-       for (j = 1; j &lt;= n_m; j++) 
-       {
- 	for (i = 1; i &lt;= n_m; i++) 
- 	{
- 	  a_m(i,j) = b_m(i,j);
- 	}
-       }
-       for (j = 2; j &lt;= n_m-1; j++) 
-       {
-         for (i = 2; i &lt;= n_m-1; i++) 
- 	{
- 	  b_m(i,j) = fact *
- 	    (a_m(i+1,j+1) + a_m(i+1,j  ) + a_m(i+1,j-1) +
- 	     a_m(i  ,j+1) + a_m(i  ,j  ) + a_m(i  ,j-1) +
- 	     a_m(i-1,j+1) + a_m(i-1,j  ) + a_m(i-1,j-1));
- 	}
-       }
-     }
-      
-     // Save result for checking.
-     
-     check_m = b_m(n_m / 2, n_m / 2);
-   }
- 
-   void runSetup()
-   {
-     // Run setup.
-     
-     for (int j = 1; j &lt;= n_m; j++) 
-     {
-       for (int i = 1; i &lt;= n_m; i++) 
-       {
- 	b_m(i,j) = 0.0;
-       }
-     }
-     b_m(n_m/2,n_m/2) = 1000.0;
-   }
- };
- 
- 
- //-----------------------------------------------------------------------------
- // Doof2dUMPP2 class definition.
- //-----------------------------------------------------------------------------
- 
- template&lt;class PatchTag, bool UMP&gt;
- class Doof2dP2
-   : public Doof2dBase&lt;PatchTag, UMP&gt;
- {
- public:
- 
-   typedef typename Doof2dBase&lt;PatchTag, UMP&gt;::Array2D Array2D;
- 
-   // Constructor allows us to specify the number of patches in each direction.
-   
-   Doof2dP2(int np = 1, int ng = 0)
-     : Doof2dBase&lt;PatchTag, UMP&gt;(np,ng),
-       guarded_m(ng &gt; 0)
-   { }
- 
-   // This is a P2 benchmark, perhaps using UMP.
- 
-   const char* type() const { return P2Type(); }
-   const char* qualification() const
-   {
-     if (guarded_m)
-     {
-       // we're using guard cells, so return a cryptic sounding
-       // 12 letter description
-       PAssert(UMP);
-       if (typeid(PatchTag) == typeid(Brick))
- 	return &quot;GCBrickUMP&quot;;
-       else
- 	return &quot;GCCmpBrckUMP&quot;;
-     }
-     else
-     {
-       if (UMP)
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;BrickUMP&quot;;
-         else
-           return &quot;CompBrickUMP&quot;;
-       }
-       else
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;Brick&quot;;
-         else
-           return &quot;CompBrick&quot;;
-       }
-     }
-   }
- 
-   void run() 
-   {
-     const double fact = 1.0 / 9.0;
- 
-     int k;
- 
-     // Run setup.
-     
-     b_m = 0.0;
-     Pooma::blockAndEvaluate();
-     b_m(n_m/2,n_m/2) = 1000.0;
- 
-     // Run kernel.
-     
-     for (k = 0; k &lt; 10; ++k)
-     {
-       a_m = b_m;
-       b_m(I,J) = fact *
- 	(a_m(I+1,J+1) + a_m(I+1,J  ) + a_m(I+1,J-1) +
- 	 a_m(I  ,J+1) + a_m(I  ,J  ) + a_m(I  ,J-1) +
- 	 a_m(I-1,J+1) + a_m(I-1,J  ) + a_m(I-1,J-1));
-     }
- 
-     Pooma::blockAndEvaluate();
- 
-     // Save result for checking.
-     
-     check_m = b_m(n_m / 2, n_m / 2);
-   }
- 
-   void runSetup()
-   {
-     // Run setup.
-     
-     b_m = 0.0;
-     Pooma::blockAndEvaluate();
-     b_m(n_m/2,n_m/2) = 1000.0;
-   }
- 
- private:
-   bool guarded_m;
- };
- 
- //-----------------------------------------------------------------------------
- // Stencil DoofNinePt
- //-----------------------------------------------------------------------------
- 
- class DoofNinePt
- {
- public:
-   DoofNinePt() {}
-   DoofNinePt(const DoofNinePt &amp;) {}
- 
-   template &lt;class A&gt;
-   inline
-   typename A::Element_t
-   operator()(const A&amp; x, int i, int j) const
-   {
-     return ( (1.0/9.0) *
-              ( x(i+1,j+1) + x(i+1,j  ) + x(i+1,j-1) +
-                x(i  ,j+1) + x(i  ,j  ) + x(i  ,j-1) +
-                x(i-1,j+1) + x(i-1,j  ) + x(i-1,j-1) ) );
-   }
- 
-   inline int lowerExtent(int) const { return 1; }
-   inline int upperExtent(int) const { return 1; }
- 
- private:
- };
- 
- //-----------------------------------------------------------------------------
- // Doof2dUMPP2Opt class definition.
- //-----------------------------------------------------------------------------
- 
- template&lt;class PatchTag, bool UMP&gt;
- class Doof2dP2Opt
-   : public Doof2dBase&lt;PatchTag, UMP&gt;
- {
- public:
- 
-   typedef typename Doof2dBase&lt;PatchTag, UMP&gt;::Array2D Array2D;
- 
-   // Constructor allows us to specify the number of patches in each direction.
-   
-   Doof2dP2Opt(int np = 1, int ng = 0)
-     : Doof2dBase&lt;PatchTag, UMP&gt;(np,ng),
-       guarded_m(ng &gt; 0)
-   { }
- 
-   // This is a P2 benchmark, perhaps using UMP.
- 
-   const char* type() const { return &quot;P2Opt&quot;; }
-   const char* qualification() const
-   {
-     if (guarded_m)
-     {
-       // we're using guard cells, so return a cryptic sounding
-       // 12 letter description
-       PAssert(UMP);
-       if (typeid(PatchTag) == typeid(Brick))
- 	return &quot;GCBrickUMP&quot;;
-       else
- 	return &quot;GCCmpBrckUMP&quot;;
-     }
-     else
-     {
-       if (UMP)
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;BrickUMP&quot;;
-         else
-           return &quot;CompBrickUMP&quot;;
-       }
-       else
-       {
-         if (typeid(PatchTag) == typeid(Brick))
-           return &quot;Brick&quot;;
-         else
-           return &quot;CompBrick&quot;;
-       }
-     }
-   }
- 
-   void run() 
-   {
-     int k;
-     Interval&lt;2&gt; IJ(I,J);
- 
-     // Run setup.
-     
-     b_m = 0.0;
-     Pooma::blockAndEvaluate();
-     b_m(n_m/2,n_m/2) = 1000.0;
- 
-     // Run kernel.
-     
-     for (k = 0; k &lt; 10; ++k)
-     {
-       a_m = b_m;
- 
-       // Note we use this form of the stencil since adding guard cells can
-       // add external guard cells, so the domain of a might be bigger than
-       // we expect, in which case stencil_m(a) would be bigger than IJ.
- 
-       b_m(IJ) = stencil_m(a_m,IJ);
-     }
- 
-     Pooma::blockAndEvaluate();
- 
-     // Save result for checking.
-     
-     check_m = b_m(n_m / 2, n_m / 2);
-   }
- 
-   void runSetup()
-   {
-     // Run setup.
-     
-     b_m = 0.0;
-     Pooma::blockAndEvaluate();
-     b_m(n_m/2,n_m/2) = 1000.0;
- 
-   }
- 
- private:
-   bool guarded_m;
-   Stencil&lt;DoofNinePt&gt; stencil_m;
- };
- 
- 
- 
- void cpptran1(Benchmark&amp;);
- void cpptran2(Benchmark&amp;);
- void pooma1(Benchmark&amp;);
- void pooma1c(Benchmark&amp;);
- void pooma2(Benchmark&amp;);
- void pooma3(Benchmark&amp;);
- 
- #endif // POOMA_BENCHMARKS_DOOF2DUMP_DOOF2DUMP_H
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: Doof2dUMP.h,v $   $Author: sa_smith $
- // $Revision: 1.34 $   $Date: 2000/07/04 05:06:36 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: Makefile.user
===================================================================
RCS file: Makefile.user
diff -N Makefile.user
*** /tmp/cvsJjUsYL	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,67 ****
- ##################################################################
- # ACL:license
- #  ----------------------------------------------------------------------
- #  This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- #  called POOMA (Parallel Object-Oriented Methods and Applications) is
- #  made available under the terms described here.  The SOFTWARE has been
- #  approved for release with associated LA-CC Number LA-CC-98-65.
- #  
- #  Unless otherwise indicated, this SOFTWARE has been authored by an
- #  employee or employees of the University of California, operator of the
- #  Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- #  the U.S. Department of Energy.  The U.S. Government has rights to use,
- #  reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- #  prepare derivative works and publicly display this SOFTWARE without 
- #  charge, provided that this Notice and any statement of authorship are 
- #  reproduced on all copies.  Neither the Government nor the University 
- #  makes any warranty, express or implied, or assumes any liability or 
- #  responsibility for the use of this SOFTWARE.
- #  
- #  If SOFTWARE is modified to produce derivative works, such modified
- #  SOFTWARE should be clearly marked, so as not to confuse it with the
- #  version available from LANL.
- #  
- #  For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- #  or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- #  ----------------------------------------------------------------------
- # ACL:license
- 
- 
- 
- # simple user-application Makefile using the version of POOMA
- # installed in the 'POOMADIR' directory.
- ##################################################################
- 
- ### include the POOMA makefile stub, to get compiler flags and libraries
- 
- include $(POOMADIR)/$(POOMAARCH)/lib/Makefile.pooma
- 
- ### the name of this benchmark
- 
- BENCHMARK = Doof2dUMP
- 
- 
- ### the sources for this compile
- 
- SRC = Doof2dUMP.cpp cpptran1.cpp cpptran2.cpp pooma1.cpp pooma1c.cpp pooma2.cpp pooma3.cpp
- 
- 
- ### the main target for this makefile
- 
- $(BENCHMARK): $(SRC)
- 	$(POOMA_CXX) $(POOMA_CXX_OPT_ARGS) -o $(BENCHMARK) $(SRC) $(POOMA_INCLUDES) $(POOMA_DEFINES) $(POOMA_LIBS)
- 
- 
- ### clean things up a bit
- 
- clean:
- 	rm -rf $(BENCHMARK) *.o *.ii ii_files ti_files
- 
- 
- 
- # ACL:rcsinfo
- #  ----------------------------------------------------------------------
- #  $RCSfile: Makefile.user,v $   $Author: swhaney $
- #  $Revision: 1.5 $   $Date: 2000/03/07 13:14:53 $
- #  ----------------------------------------------------------------------
- # ACL:rcsinfo
--- 0 ----
Index: cpptran1.cpp
===================================================================
RCS file: cpptran1.cpp
diff -N cpptran1.cpp
*** /tmp/cvstaDJAc	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,48 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void cpptran1(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(new Doof2dCppTran&lt;Brick,false&gt;);
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: cpptran1.cpp,v $   $Author: swhaney $
- // $Revision: 1.4 $   $Date: 2000/03/07 13:14:53 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: cpptran2.cpp
===================================================================
RCS file: cpptran2.cpp
diff -N cpptran2.cpp
*** /tmp/cvsje24cD	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,47 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void cpptran2(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(new Doof2dCppTran&lt;Brick,true&gt;(doof2d.numPatches()));
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: cpptran2.cpp,v $   $Author: swhaney $
- // $Revision: 1.4 $   $Date: 2000/03/07 13:14:53 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: include.mk
===================================================================
RCS file: include.mk
diff -N include.mk
*** /tmp/cvs7qvuP3	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,59 ****
- # Generated by mm.pl: Mon Mar  9 13:58:39 MST 1998
- # ACL:license
- #  ----------------------------------------------------------------------
- #  This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- #  called POOMA (Parallel Object-Oriented Methods and Applications) is
- #  made available under the terms described here.  The SOFTWARE has been
- #  approved for release with associated LA-CC Number LA-CC-98-65.
- #  
- #  Unless otherwise indicated, this SOFTWARE has been authored by an
- #  employee or employees of the University of California, operator of the
- #  Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- #  the U.S. Department of Energy.  The U.S. Government has rights to use,
- #  reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- #  prepare derivative works and publicly display this SOFTWARE without 
- #  charge, provided that this Notice and any statement of authorship are 
- #  reproduced on all copies.  Neither the Government nor the University 
- #  makes any warranty, express or implied, or assumes any liability or 
- #  responsibility for the use of this SOFTWARE.
- #  
- #  If SOFTWARE is modified to produce derivative works, such modified
- #  SOFTWARE should be clearly marked, so as not to confuse it with the
- #  version available from LANL.
- #  
- #  For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- #  or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- #  ----------------------------------------------------------------------
- # ACL:license
- 
- 
- # Wrap make components from SHARED_ROOT and the current directory in the 
- # proper order so that variables like ODIR have the correct directory-specific 
- # value at the right moment.  See the included files for details of what they 
- # are doing. This file should NOT be manually edited.
- 
- # Set NEXTDIR, THISDIR and DIR_LIST
- include $(SHARED_ROOT)/include1.mk
- 
- # Include list of subdirectories to process
- -include $(THISDIR)/subdir.mk
- 
- # Set ODIR, PROJECT_INCLUDES, UNIQUE
- include $(SHARED_ROOT)/include2.mk
- 
- # Set list of object files, relative to ODIR
- -include $(THISDIR)/objfile.mk
- 
- # Set rules for the ODIR directory 
- include $(SHARED_ROOT)/compilerules.mk
- 
- # Remove current dir from DIR_LIST
- DIR_LIST :=$(filter-out $(firstword $(DIR_LIST)), $(DIR_LIST))
- 
- 
- # ACL:rcsinfo
- #  ----------------------------------------------------------------------
- #  $RCSfile: include.mk,v $   $Author: swhaney $
- #  $Revision: 1.3 $   $Date: 2000/03/07 13:14:53 $
- #  ----------------------------------------------------------------------
- # ACL:rcsinfo
--- 0 ----
Index: makefile
===================================================================
RCS file: makefile
diff -N makefile
*** /tmp/cvs5ODYru	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,54 ****
- # Generated by mm.pl: Mon Mar  9 13:58:39 MST 1998
- # ACL:license
- #  ----------------------------------------------------------------------
- #  This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- #  called POOMA (Parallel Object-Oriented Methods and Applications) is
- #  made available under the terms described here.  The SOFTWARE has been
- #  approved for release with associated LA-CC Number LA-CC-98-65.
- #  
- #  Unless otherwise indicated, this SOFTWARE has been authored by an
- #  employee or employees of the University of California, operator of the
- #  Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- #  the U.S. Department of Energy.  The U.S. Government has rights to use,
- #  reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- #  prepare derivative works and publicly display this SOFTWARE without 
- #  charge, provided that this Notice and any statement of authorship are 
- #  reproduced on all copies.  Neither the Government nor the University 
- #  makes any warranty, express or implied, or assumes any liability or 
- #  responsibility for the use of this SOFTWARE.
- #  
- #  If SOFTWARE is modified to produce derivative works, such modified
- #  SOFTWARE should be clearly marked, so as not to confuse it with the
- #  version available from LANL.
- #  
- #  For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- #  or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- #  ----------------------------------------------------------------------
- # ACL:license
- 
- # This file is user-editable
- 
- PROJECT_ROOT = $(shell cd ../..; pwd)
- include $(PROJECT_ROOT)/config/head.mk
- 
- PASS=APP
- 
- default:: Doof2dUMP
- 
- .PHONY: Doof2dUMP
- 
- Doof2dUMP:: $(ODIR)/Doof2dUMP
- 
- $(ODIR)/Doof2dUMP: $(ODIR)/Doof2dUMP.o $(ODIR)/cpptran1.o $(ODIR)/cpptran2.o \
- 		   $(ODIR)/pooma1.o $(ODIR)/pooma2.o $(ODIR)/pooma3.o \
- 		   $(ODIR)/pooma1c.o
- 	$(LinkToSuite)
- 
- include $(SHARED_ROOT)/tail.mk
- 
- # ACL:rcsinfo
- #  ----------------------------------------------------------------------
- #  $RCSfile: makefile,v $   $Author: julianc $
- #  $Revision: 1.8 $   $Date: 2000/07/21 21:34:44 $
- #  ----------------------------------------------------------------------
- # ACL:rcsinfo
--- 0 ----
Index: pooma1.cpp
===================================================================
RCS file: pooma1.cpp
diff -N pooma1.cpp
*** /tmp/cvsBeux4U	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,47 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void pooma1(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(new Doof2dP2&lt;Brick,false&gt;);
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: pooma1.cpp,v $   $Author: swhaney $
- // $Revision: 1.4 $   $Date: 2000/03/07 13:14:54 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: pooma1c.cpp
===================================================================
RCS file: pooma1c.cpp
diff -N pooma1c.cpp
*** /tmp/cvslt38Gl	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,47 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void pooma1c(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(new Doof2dP2&lt;CompressibleBrick,false&gt;);
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: pooma1c.cpp,v $   $Author: swhaney $
- // $Revision: 1.3 $   $Date: 2000/03/07 13:14:54 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: pooma2.cpp
===================================================================
RCS file: pooma2.cpp
diff -N pooma2.cpp
*** /tmp/cvsR8rOjM	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,49 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void pooma2(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(new Doof2dP2&lt;Brick,true&gt;(doof2d.numPatches()));
-   doof2d.addImplementation(new Doof2dP2&lt;Brick,true&gt;(doof2d.numPatches(),1));
-   doof2d.addImplementation(new Doof2dP2Opt&lt;Brick,true&gt;(doof2d.numPatches(),1));
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: pooma2.cpp,v $   $Author: swhaney $
- // $Revision: 1.5 $   $Date: 2000/03/07 13:14:54 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
Index: pooma3.cpp
===================================================================
RCS file: pooma3.cpp
diff -N pooma3.cpp
*** /tmp/cvspgAxWc	Fri Sep 28 08:32:22 2001
--- /dev/null	Fri Mar 23 21:37:44 2001
***************
*** 1,48 ****
- // -*- C++ -*-
- // ACL:license
- // ----------------------------------------------------------------------
- // This software and ancillary information (herein called &quot;SOFTWARE&quot;)
- // called POOMA (Parallel Object-Oriented Methods and Applications) is
- // made available under the terms described here.  The SOFTWARE has been
- // approved for release with associated LA-CC Number LA-CC-98-65.
- // 
- // Unless otherwise indicated, this SOFTWARE has been authored by an
- // employee or employees of the University of California, operator of the
- // Los Alamos National Laboratory under Contract No. W-7405-ENG-36 with
- // the U.S. Department of Energy.  The U.S. Government has rights to use,
- // reproduce, and distribute this SOFTWARE. The public may copy, distribute,
- // prepare derivative works and publicly display this SOFTWARE without 
- // charge, provided that this Notice and any statement of authorship are 
- // reproduced on all copies.  Neither the Government nor the University 
- // makes any warranty, express or implied, or assumes any liability or 
- // responsibility for the use of this SOFTWARE.
- // 
- // If SOFTWARE is modified to produce derivative works, such modified
- // SOFTWARE should be clearly marked, so as not to confuse it with the
- // version available from LANL.
- // 
- // For more information about POOMA, send e-mail to <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">pooma at acl.lanl.gov</A>,
- // or visit the POOMA web page at <A HREF="http://www.acl.lanl.gov/pooma/.">http://www.acl.lanl.gov/pooma/.</A>
- // ----------------------------------------------------------------------
- // ACL:license
- 
- // include files
- #include &quot;Doof2dUMP.h&quot;
- #include &quot;Pooma/Pooma.h&quot;
- 
- //-----------------------------------------------------------------------------
- // Main program.
- //-----------------------------------------------------------------------------
- 
- void pooma3(Benchmark&amp; doof2d)
- {
-   doof2d.addImplementation(
-     new Doof2dP2&lt;CompressibleBrick,true&gt;(doof2d.numPatches()));
- }
- 
- // ACL:rcsinfo
- // ----------------------------------------------------------------------
- // $RCSfile: pooma3.cpp,v $   $Author: swhaney $
- // $Revision: 1.4 $   $Date: 2000/03/07 13:14:54 $
- // ----------------------------------------------------------------------
- // ACL:rcsinfo
--- 0 ----
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000756.html">[QMTrack] new issue pooma_program_templates
</A></li>
	<LI>Next message: <A HREF="000758.html">[QMTrack] new issue doof2dgmp_missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#757">[ date ]</a>
              <a href="thread.html#757">[ thread ]</a>
              <a href="subject.html#757">[ subject ]</a>
              <a href="author.html#757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
