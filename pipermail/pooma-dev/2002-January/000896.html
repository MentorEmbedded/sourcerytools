<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Manual Patch: Figure Code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Manual%20Patch%3A%20Figure%20Code&In-Reply-To=%3C20020130154315.A25949%40vaio.codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000895.html">
   <LINK REL="Next"  HREF="000897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Manual Patch: Figure Code</H1>
    <B>Jeffrey D . Oldham</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20Manual%20Patch%3A%20Figure%20Code&In-Reply-To=%3C20020130154315.A25949%40vaio.codesourcery.com%3E"
       TITLE="Manual Patch: Figure Code">oldham at codesourcery.com
       </A><BR>
    <I>Wed Jan 30 23:43:15 UTC 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000895.html">Manual: Today's Patch
</A></li>
        <LI>Next message: <A HREF="000897.html">Manual Patch: Use Standard DocBook Tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#896">[ date ]</a>
              <a href="thread.html#896">[ thread ]</a>
              <a href="subject.html#896">[ subject ]</a>
              <a href="author.html#896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2002-Jan-30  Jeffrey D. Oldham  &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>&gt;

This patch moves most, hopefully all, of the manual's figure creation code
into the CVS tree.  Including the PNG files, used for the HTML and PDF
versions of the manual, is not strictly necessary since they can be
created.  However, converting the EPS files created MetaPost to PNG uses
the non-standard peps program so I include them in the tree.

The MetaPost source files were modified to include fonts in the initial
comments.
	
	* concepts-101.png: New illustration.
	* concepts-111.png: Likewise.
	* concepts.mp: Minor tweaking.  Include fonts in comments.
	* data-parallel-101.png: New illustration.
	* data-parallel-212.png: Likewise.
	* data-parallel.mp: Minor tweaking.  Include fonts in comments.
	* distributed-101.png: New illustration.
	* distributed.mp: Minor tweaking.  Include fonts in comments.  Fix
	labelling of context box.
	* doof2d-201.png: New illustration.
	* doof2d-202.png: Likewise.
	* doof2d-203.png: Likewise.
	* doof2d-210.png: Likewise.
	* doof2d-211.png: Likewise.
	* doof2d.mp: Minor tweaking.  Include fonts in comments.  Modify
	to avoid kerning problems.  Avoid math font problem by omitting
	'$...$'.
	* introduction-101.png: New illustration.
	* introduction.mp: Minor tweaking.  Include fonts in comments.
	* macros.ltx: Avoid macros to avoid kerning problems.

Applied to	mainline.

Thanks,
Jeffrey D. Oldham
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>
-------------- next part --------------
Index: concepts-101.png
===================================================================
RCS file: concepts-101.png
diff -N concepts-101.png
Binary files /dev/null and concepts-101.png differ
Index: concepts-111.png
===================================================================
RCS file: concepts-111.png
diff -N concepts-111.png
Binary files /dev/null and concepts-111.png differ
Index: concepts.mp
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/concepts.mp,v
retrieving revision 1.3
diff -c -p -r1.3 concepts.mp
*** concepts.mp	2001/12/14 04:18:13	1.3
--- concepts.mp	2002/01/30 23:17:45
***************
*** 6,23 ****
  
  %% Assumes TEX=latex.
  
  input boxes;
  
  verbatimtex
! \documentclass[10pt]{article}
  \input{macros.ltx}
  \begin{document}
  etex
  
  
  %% Container Declaration Concepts and Dependences
  beginfig(111)
!   numeric unit; unit = 0.9cm;
    numeric horizSpace; horizSpace = unit;
    numeric vertSpace; vertSpace = unit;
    
--- 6,27 ----
  
  %% Assumes TEX=latex.
  
+ %% Ensure fonts are included in the output.
+ prologues := 2;			% &gt;= 2 for PostScript
+ 
  input boxes;
  
  verbatimtex
! \documentclass[12pt]{article}
  \input{macros.ltx}
+ \usepackage{times}
  \begin{document}
  etex
  
  
  %% Container Declaration Concepts and Dependences
  beginfig(111)
!   numeric unit; unit = 0.5cm;
    numeric horizSpace; horizSpace = unit;
    numeric vertSpace; vertSpace = unit;
    
Index: data-parallel-101.png
===================================================================
RCS file: data-parallel-101.png
diff -N data-parallel-101.png
Binary files /dev/null and data-parallel-101.png differ
Index: data-parallel-212.png
===================================================================
RCS file: data-parallel-212.png
diff -N data-parallel-212.png
Binary files /dev/null and data-parallel-212.png differ
Index: data-parallel.mp
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/data-parallel.mp,v
retrieving revision 1.1
diff -c -p -r1.1 data-parallel.mp
*** data-parallel.mp	2002/01/04 17:42:43	1.1
--- data-parallel.mp	2002/01/30 23:17:45
***************
*** 6,18 ****
  
  %% Assumes TEX=latex.
  
  input boxes;
  input box-macros;
  input grid-macros;
  
  verbatimtex
! \documentclass[10pt]{article}
  \input{macros.ltx}
  \begin{document}
  etex
  
--- 6,22 ----
  
  %% Assumes TEX=latex.
  
+ %% Ensure fonts are included in the output.
+ prologues := 2;			% &gt;= 2 for PostScript
+ 
  input boxes;
  input box-macros;
  input grid-macros;
  
  verbatimtex
! \documentclass[12pt]{article}
  \input{macros.ltx}
+ \usepackage{times}
  \begin{document}
  etex
  
Index: distributed-101.png
===================================================================
RCS file: distributed-101.png
diff -N distributed-101.png
Binary files /dev/null and distributed-101.png differ
Index: distributed.mp
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/distributed.mp,v
retrieving revision 1.2
diff -c -p -r1.2 distributed.mp
*** distributed.mp	2001/12/11 20:36:13	1.2
--- distributed.mp	2002/01/30 23:17:47
***************
*** 6,16 ****
  
  %% Assumes TEX=latex.
  
  input boxes;
  
  verbatimtex
! \documentclass[10pt]{article}
  \input{macros.ltx}
  \begin{document}
  etex
  
--- 6,20 ----
  
  %% Assumes TEX=latex.
  
+ %% Ensure fonts are included in the output.
+ prologues := 2;			% &gt;= 2 for PostScript
+ 
  input boxes;
  
  verbatimtex
! \documentclass[12pt]{article}
  \input{macros.ltx}
+ \usepackage{times}
  \begin{document}
  etex
  
*************** beginfig(101)
*** 174,181 ****
      drawboxed(c[t]);
    endfor
    label.top(btex contexts etex, c[1].n);
-   label.bot(btex \begin{tabular}{c} Each context has memory and\\ processors to execute a program. \end{tabular} etex, c[1].s);
    drawboxed(configurationBoundary);
    label.top(btex Computer Configuration etex, configurationBoundary.n);
  
    %% Draw the Computer Computation structures.
--- 178,188 ----
      drawboxed(c[t]);
    endfor
    label.top(btex contexts etex, c[1].n);
    drawboxed(configurationBoundary);
+   picture foo;
+   foo = thelabel.bot(btex \begin{tabular}{c} Each context has memory and\\ processors to execute a program. \end{tabular} etex, c[1].s);
+   unfill bbox foo;
+   draw foo;
    label.top(btex Computer Configuration etex, configurationBoundary.n);
  
    %% Draw the Computer Computation structures.
Index: doof2d-201.png
===================================================================
RCS file: doof2d-201.png
diff -N doof2d-201.png
Binary files /dev/null and doof2d-201.png differ
Index: doof2d-202.png
===================================================================
RCS file: doof2d-202.png
diff -N doof2d-202.png
Binary files /dev/null and doof2d-202.png differ
Index: doof2d-203.png
===================================================================
RCS file: doof2d-203.png
diff -N doof2d-203.png
Binary files /dev/null and doof2d-203.png differ
Index: doof2d-210.png
===================================================================
RCS file: doof2d-210.png
diff -N doof2d-210.png
Binary files /dev/null and doof2d-210.png differ
Index: doof2d-211.png
===================================================================
RCS file: doof2d-211.png
diff -N doof2d-211.png
Binary files /dev/null and doof2d-211.png differ
Index: doof2d.mp
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/doof2d.mp,v
retrieving revision 1.4
diff -c -p -r1.4 doof2d.mp
*** doof2d.mp	2002/01/25 02:58:25	1.4
--- doof2d.mp	2002/01/30 23:17:47
***************
*** 6,17 ****
  
  %% Assumes TEX=latex.
  
  verbatimtex
! \documentclass[10pt]{article}
  \input{macros.ltx}
  \begin{document}
  etex
  
  input grid-macros;
  
  %% Global Declarations
--- 6,23 ----
  
  %% Assumes TEX=latex.
  
+ %% Ensure fonts are included in the output.
+ prologues := 2;			% &gt;= 2 for PostScript
+ 
  verbatimtex
! \documentclass[12pt]{article}
! \usepackage{times}
  \input{macros.ltx}
  \begin{document}
+ 
  etex
  
+ 
  input grid-macros;
  
  %% Global Declarations
*************** beginfig(201)
*** 37,43 ****
    endfor
  
    % Label the grid.
!   labelGrid(btex Array \varname{b}: Initial Configuration etex, nuCells, origin);
  endfig;
  
  
--- 43,49 ----
    endfor
  
    % Label the grid.
!   labelGrid(btex Array \varname{b}: Initial Con\avoidfi guration etex, nuCells, origin);
  endfig;
  
  
*************** beginfig(202)
*** 66,72 ****
    endfor
    
    % Label the grid.
!   labelGrid(btex Array \varname{a}: After the first averaging etex, nuCells, origin);
  endfig;
  
  
--- 72,78 ----
    endfor
    
    % Label the grid.
!   labelGrid(btex Array \varname{a}: After the \avoidfi rst averaging etex, nuCells, origin);
  endfig;
  
  
*************** beginfig(210)
*** 186,194 ****
    labelCellLeft(btex \footnotesize 2 etex, (0,2), z0);
    
    %% Label the grids.
!   labelGrid(btex $b(I,J)+b(I+1,J-1)$ etex, nuCells, z0);
!   labelGrid(btex $b(I,J)$ etex, nuCells, z1);
!   labelGrid(btex $b(I+1,J-1)$ etex, nuCells, z2);
  endfig;
  
  
--- 192,203 ----
    labelCellLeft(btex \footnotesize 2 etex, (0,2), z0);
    
    %% Label the grids.
! %% Avoid mpost problem.  labelGrid(btex $b(I,J)+b(I+1,J-1)$ etex, nuCells, z0);
! %% Avoid mpost problem.  labelGrid(btex $b(I,J)$ etex, nuCells, z1);
! %% Avoid mpost problem.  labelGrid(btex $b(I+1,J-1)$ etex, nuCells, z2);
!   labelGrid(btex b(I,J)+b(I+1,J-1) etex, nuCells, z0);
!   labelGrid(btex b(I,J) etex, nuCells, z1);
!   labelGrid(btex b(I+1,J-1) etex, nuCells, z2);
  endfig;
  
  
Index: introduction-101.png
===================================================================
RCS file: introduction-101.png
diff -N introduction-101.png
Binary files /dev/null and introduction-101.png differ
Index: introduction.mp
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/introduction.mp,v
retrieving revision 1.3
diff -c -p -r1.3 introduction.mp
*** introduction.mp	2002/01/25 02:58:25	1.3
--- introduction.mp	2002/01/30 23:17:47
***************
*** 6,18 ****
  
  %% Assumes TEX=latex.
  
  input boxes;
  input box-macros;
  
  verbatimtex
! \documentclass[10pt]{article}
  \usepackage{amsmath}
  \input{macros.ltx}
  \begin{document}
  etex
  
--- 6,22 ----
  
  %% Assumes TEX=latex.
  
+ %% Ensure fonts are included in the output.
+ prologues := 2;			% &gt;= 2 for PostScript
+ 
  input boxes;
  input box-macros;
  
  verbatimtex
! \documentclass[12pt]{article}
  \usepackage{amsmath}
  \input{macros.ltx}
+ \usepackage{times}
  \begin{document}
  etex
  
Index: macros.ltx
===================================================================
RCS file: /home/pooma/Repository/r2/docs/manual/figures/macros.ltx,v
retrieving revision 1.2
diff -c -p -r1.2 macros.ltx
*** macros.ltx	2002/01/25 02:58:25	1.2
--- macros.ltx	2002/01/30 23:17:47
***************
*** 35,37 ****
--- 35,43 ----
  \newcommand{\varname}[1]{\texttt{#1}}%
  	% Produce a C++ (or other programming language) variable.
  	% Requires:	1. the variable's name.
+ 
+ % Avoid dvitomp Errors.
+ \newcommand{\avoidfi}{f\mbox{}i}%
+ 	% Avoid a problem with dvitomp and ligatures.
+ \newcommand{\avoidFi}{F\mbox{}i}%
+ 	% Avoid a problem with dvitomp and ligatures.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000895.html">Manual: Today's Patch
</A></li>
	<LI>Next message: <A HREF="000897.html">Manual Patch: Use Standard DocBook Tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#896">[ date ]</a>
              <a href="thread.html#896">[ thread ]</a>
              <a href="subject.html#896">[ subject ]</a>
              <a href="author.html#896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
