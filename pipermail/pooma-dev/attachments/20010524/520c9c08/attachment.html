<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;RFA:&nbsp;DomainIterator.h:&nbsp;Add&nbsp;DomainTraits&nbsp;Specialization&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Actually,&nbsp;will&nbsp;the&nbsp;problem&nbsp;be&nbsp;fixed&nbsp;if&nbsp;you&nbsp;include&nbsp;DomainTraits.h&nbsp;and&nbsp;DomainTraits.int.h&nbsp;in&nbsp;Array.h&nbsp;and&nbsp;NewField/Field.h?&nbsp;These&nbsp;look&nbsp;like&nbsp;the&nbsp;culprits&nbsp;-&nbsp;they&nbsp;define&nbsp;these&nbsp;ViewN&nbsp;structs,&nbsp;which&nbsp;make&nbsp;use&nbsp;of&nbsp;the&nbsp;DomainTraits&nbsp;template,&nbsp;but&nbsp;the&nbsp;DomainTraits&nbsp;template&nbsp;and&nbsp;its&nbsp;specializations&nbsp;are&nbsp;never&nbsp;included.&nbsp;Further,&nbsp;these&nbsp;are&nbsp;used&nbsp;to&nbsp;implement&nbsp;the&nbsp;generic&nbsp;operator(),&nbsp;which&nbsp;is&nbsp;the&nbsp;main&nbsp;place&nbsp;where&nbsp;we&nbsp;need&nbsp;to&nbsp;detect&nbsp;if&nbsp;someone&nbsp;is&nbsp;passing&nbsp;an&nbsp;int&nbsp;as&nbsp;an&nbsp;argument.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;(The&nbsp;general&nbsp;DomainTraits&nbsp;template&nbsp;is&nbsp;always&nbsp;included&nbsp;implicitly&nbsp;by&nbsp;the&nbsp;client&nbsp;who&nbsp;uses&nbsp;a&nbsp;particular&nbsp;Domain,&nbsp;but&nbsp;the&nbsp;int&nbsp;specialization&nbsp;is&nbsp;not&nbsp;-&nbsp;I&nbsp;don't&nbsp;know&nbsp;why&nbsp;this&nbsp;works&nbsp;with&nbsp;other&nbsp;compilers.)&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;From:&nbsp;Jeffrey&nbsp;Oldham&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:oldham@codesourcery.com&quot;&gt;mailto:oldham@codesourcery.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Sent:&nbsp;Thursday,&nbsp;May&nbsp;24,&nbsp;2001&nbsp;10:09&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To:&nbsp;JimC@proximation.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Cc:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[pooma-dev]&nbsp;RFA:&nbsp;DomainIterator.h:&nbsp;Add&nbsp;DomainTraits&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Specialization&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;On&nbsp;Wed,&nbsp;May&nbsp;23,&nbsp;2001&nbsp;at&nbsp;03:28:34PM&nbsp;-0700,&nbsp;James&nbsp;Crotinger&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;don't&nbsp;think&nbsp;that's&nbsp;it&nbsp;either&nbsp;-&nbsp;the&nbsp;question&nbsp;is,&nbsp;who&nbsp;is&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;directly&nbsp;causing&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;DomainIterator&lt;int&gt;&nbsp;to&nbsp;be&nbsp;instantiated?&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;I&nbsp;do&nbsp;not&nbsp;know.&nbsp;&nbsp;Starting&nbsp;with&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;CoordinateSystems/tests/CartesianTest1.cpp&nbsp;with&nbsp;an&nbsp;empty&nbsp;main(),&nbsp;I&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;repeatedly&nbsp;replaced&nbsp;header&nbsp;files&nbsp;while&nbsp;the&nbsp;problem&nbsp;continued&nbsp;to&nbsp;exist&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;until&nbsp;I&nbsp;ended&nbsp;with&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;Domain/NewDomain.h&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;problem&nbsp;in&nbsp;here?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;Domain/DomainTraits.int.h&quot;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;main()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Replacing&nbsp;the&nbsp;first&nbsp;line&nbsp;with&nbsp;the&nbsp;header&nbsp;files&nbsp;it&nbsp;includes&nbsp;makes&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;problem&nbsp;disappear.&nbsp;&nbsp;Thus,&nbsp;I&nbsp;conclude&nbsp;that&nbsp;the&nbsp;use&nbsp;is&nbsp;in&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Domain/NewDomain.h,&nbsp;not&nbsp;in&nbsp;files&nbsp;it&nbsp;includes.&nbsp;&nbsp;Every&nbsp;use&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;DomainTraits&lt;...&gt;&nbsp;uses&nbsp;a&nbsp;template&nbsp;parameter&nbsp;so&nbsp;I&nbsp;do&nbsp;not&nbsp;know&nbsp;what&nbsp;is&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;being&nbsp;instantiated.&nbsp;&nbsp;Do&nbsp;you&nbsp;know&nbsp;of&nbsp;a&nbsp;way&nbsp;to&nbsp;have&nbsp;a&nbsp;compiler&nbsp;list&nbsp;all&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;the&nbsp;templates&nbsp;it&nbsp;is&nbsp;instantiating?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;****************&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;How&nbsp;about&nbsp;this?&nbsp;&nbsp;OK&nbsp;to&nbsp;commit?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;When&nbsp;trying&nbsp;to&nbsp;compile&nbsp;src/CoordinateSystems/tests/CartesianTest1.cpp,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;gcc&nbsp;3.0&nbsp;complained&nbsp;that&nbsp;a&nbsp;DomainTraits&nbsp;specialization&nbsp;was&nbsp;declared&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;after&nbsp;the&nbsp;general&nbsp;DomainTraits.&nbsp;&nbsp;This&nbsp;patch&nbsp;resolve&nbsp;the&nbsp;problem.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;2001&nbsp;May&nbsp;23&nbsp;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&nbsp;&nbsp;&lt;oldham@codesourcery.com&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;NewDomain.h:&nbsp;Add&nbsp;DomainTraits.int.h&nbsp;inclusion.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Tested&nbsp;on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sequential&nbsp;Linux&nbsp;using&nbsp;gcc&nbsp;3.0&nbsp;by&nbsp;compiling&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;CartesianTest1.cpp&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Approved&nbsp;by&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;???you???&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Thanks,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;oldham@codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
