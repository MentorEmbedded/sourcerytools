<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;RFA:&nbsp;delete_test1&nbsp;Modifications&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;memmove&nbsp;optimization&nbsp;was&nbsp;fairly&nbsp;substantial&nbsp;when&nbsp;I&nbsp;tested&nbsp;it.&nbsp;I&nbsp;think&nbsp;it&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;modify&nbsp;the&nbsp;code&nbsp;to&nbsp;pass&nbsp;addresses&nbsp;to&nbsp;memmove&nbsp;-&nbsp;again&nbsp;this&nbsp;gets&nbsp;to&nbsp;the&nbsp;question&nbsp;of&nbsp;whether&nbsp;it&nbsp;is&nbsp;really&nbsp;OK&nbsp;to&nbsp;use&nbsp;&amp;a.begin()[0]&nbsp;to&nbsp;be&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;0th&nbsp;element,&nbsp;etc.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;From:&nbsp;Jeffrey&nbsp;Oldham&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:oldham@codesourcery.com&quot;&gt;mailto:oldham@codesourcery.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Sent:&nbsp;Wednesday,&nbsp;May&nbsp;23,&nbsp;2001&nbsp;6:33&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Subject:&nbsp;[pooma-dev]&nbsp;RFA:&nbsp;delete_test1&nbsp;Modifications&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;OK&nbsp;to&nbsp;commit?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Compiling&nbsp;src/Utilities/tests/delete_test1.cpp&nbsp;showed&nbsp;that&nbsp;the&nbsp;vector&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;type&nbsp;`Array_t'&nbsp;was&nbsp;declared&nbsp;to&nbsp;store&nbsp;doubles&nbsp;but&nbsp;actually&nbsp;stored&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;integers.&nbsp;&nbsp;Also,&nbsp;a&nbsp;call&nbsp;to&nbsp;std::memmove()&nbsp;illegally&nbsp;converted&nbsp;vector&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;iterators&nbsp;to&nbsp;pointers.&nbsp;&nbsp;The&nbsp;alternative&nbsp;call&nbsp;to&nbsp;std::copy()&nbsp;is&nbsp;instead&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;used.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;2001&nbsp;May&nbsp;23&nbsp;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&nbsp;&nbsp;&lt;oldham@codesourcery.com&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;delete_test1.cpp&nbsp;(Array_t):&nbsp;s/vector&lt;double&gt;/vector&lt;int&gt;/&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(delete_shiftup_test2):&nbsp;Remove&nbsp;&quot;optimization&quot;&nbsp;call&nbsp;to&nbsp;memmove.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Tested&nbsp;on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sequential&nbsp;Linux&nbsp;using&nbsp;gcc&nbsp;3.0&nbsp;by&nbsp;compiling&nbsp;the&nbsp;program&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Approved&nbsp;by&nbsp;&nbsp;&nbsp;???you???&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Thanks,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;oldham@codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
