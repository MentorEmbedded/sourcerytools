<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;How&nbsp;Write&nbsp;Data&nbsp;Parallel&nbsp;Statement?&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;There's&nbsp;a&nbsp;function&nbsp;that&nbsp;provides&nbsp;indices&nbsp;called&nbsp;Iota&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;that&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;this:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&lt;cmath&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;Pooma/NewFields.h&quot;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;*argv[])&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pooma::initialize(argc,argv);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array&lt;2,Vector&lt;2&gt;&nbsp;&gt;&nbsp;c(5,4);&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Iota&lt;2&gt;::Iota_t&nbsp;ij(c.domain());&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;c.comp(0)&nbsp;=&nbsp;ij.comp(0)&nbsp;*&nbsp;cos(ij.comp(1));&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;c.comp(1)&nbsp;=&nbsp;ij.comp(0)&nbsp;*&nbsp;sin(ij.comp(1));&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;How&nbsp;do&nbsp;I&nbsp;write&nbsp;a&nbsp;data-parallel&nbsp;statement&nbsp;equivalent&nbsp;to?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(unsigned&nbsp;i&nbsp;=&nbsp;all&nbsp;values&nbsp;in&nbsp;c's&nbsp;domain's&nbsp;first&nbsp;component)&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;for&nbsp;(unsigned&nbsp;j&nbsp;=&nbsp;all&nbsp;values&nbsp;in&nbsp;c's&nbsp;domain's&nbsp;second&nbsp;component)&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;c(i,j)&nbsp;=&nbsp;Vector&lt;2&gt;(i&nbsp;*&nbsp;cos&nbsp;(j),&nbsp;i&nbsp;*&nbsp;sin&nbsp;(j));&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pooma::finalize();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Of&nbsp;course&nbsp;this&nbsp;isn't&nbsp;too&nbsp;efficient.&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;better&nbsp;to&nbsp;just&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;compute&nbsp;the&nbsp;vector&nbsp;at&nbsp;each&nbsp;location.&nbsp;&nbsp;We&nbsp;don't&nbsp;have&nbsp;a&nbsp;data-parallel&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;operation&nbsp;to&nbsp;create&nbsp;a&nbsp;vector&nbsp;from&nbsp;components...&nbsp;(it&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;write&nbsp;though).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;You&nbsp;could&nbsp;use&nbsp;the&nbsp;IndexFunction&nbsp;engine&nbsp;to&nbsp;perform&nbsp;an&nbsp;arbitrary&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;computation&nbsp;on&nbsp;the&nbsp;indices&nbsp;and&nbsp;get&nbsp;the&nbsp;compuation&nbsp;you&nbsp;want&nbsp;in&nbsp;one&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;step.&nbsp;&nbsp;You'd&nbsp;need&nbsp;to&nbsp;write&nbsp;the&nbsp;expression&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Vector&lt;2&gt;(i&nbsp;*&nbsp;cos&nbsp;(j),&nbsp;i&nbsp;*&nbsp;sin&nbsp;(j));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;out-of-line&nbsp;in&nbsp;a&nbsp;functor&nbsp;object.&nbsp;&nbsp;See&nbsp;the&nbsp;file&nbsp;src/Pooma/Indices.h&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;to&nbsp;see&nbsp;how&nbsp;to&nbsp;use&nbsp;an&nbsp;index&nbsp;function&nbsp;engine.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;Stephen&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Jeffrey&nbsp;Oldham&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:oldham@codesourcery.com&quot;&gt;mailto:oldham@codesourcery.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Thursday,&nbsp;April&nbsp;12,&nbsp;2001&nbsp;9:00&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[pooma-dev]&nbsp;How&nbsp;Write&nbsp;Data&nbsp;Parallel&nbsp;Statement?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;How&nbsp;do&nbsp;I&nbsp;write&nbsp;a&nbsp;Pooma&nbsp;data-parallel&nbsp;statement&nbsp;for&nbsp;this&nbsp;assignment&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;2-D&nbsp;array&nbsp;c?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&lt;cmath&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;#include&nbsp;&quot;Pooma/NewFields.h&quot;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;main(int&nbsp;argc,&nbsp;char&nbsp;*argv[])&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pooma::initialize(argc,argv);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array&lt;2,Vector&lt;2&gt;&nbsp;&gt;&nbsp;c(5,4);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;How&nbsp;do&nbsp;I&nbsp;write&nbsp;a&nbsp;data-parallel&nbsp;statement&nbsp;equivalent&nbsp;to?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(unsigned&nbsp;i&nbsp;=&nbsp;all&nbsp;values&nbsp;in&nbsp;c's&nbsp;domain's&nbsp;first&nbsp;component)&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;for&nbsp;(unsigned&nbsp;j&nbsp;=&nbsp;all&nbsp;values&nbsp;in&nbsp;c's&nbsp;domain's&nbsp;second&nbsp;component)&lt;/FONT&gt;<br>
&lt;BR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;c(i,j)&nbsp;=&nbsp;Vector&lt;2&gt;(i&nbsp;*&nbsp;cos&nbsp;(j),&nbsp;i&nbsp;*&nbsp;sin&nbsp;(j));&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pooma::finalize();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Jeffrey&nbsp;D.&nbsp;Oldham&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;oldham@codesourcery.com&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
