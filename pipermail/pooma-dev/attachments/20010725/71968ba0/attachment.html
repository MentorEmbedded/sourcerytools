<tt>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=windows-1251&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;5.00.3103.1000&quot;&nbsp;name=GENERATOR&gt;&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;DIV&gt;Hi&nbsp;Scott,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Thanks&nbsp;for&nbsp;your&nbsp;reply.&nbsp;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;interface&nbsp;to&nbsp;a&nbsp;linear&nbsp;solver&nbsp;package&nbsp;that&nbsp;is&nbsp;written&lt;/DIV&gt;<br>
&lt;DIV&gt;in&nbsp;f77.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;package&nbsp;that&nbsp;I&nbsp;have&nbsp;used&nbsp;alot&nbsp;in&nbsp;the&nbsp;past&nbsp;and&nbsp;am&nbsp;very&nbsp;familiar&nbsp;with.&nbsp;&nbsp;I&lt;/DIV&gt;<br>
&lt;DIV&gt;talked&nbsp;with&nbsp;you&nbsp;2-3&nbsp;years&nbsp;ago&nbsp;about&nbsp;the&nbsp;interface&nbsp;to&nbsp;this&nbsp;package&nbsp;with&nbsp;the&nbsp;idea&nbsp;of&nbsp;trying&lt;/DIV&gt;<br>
&lt;DIV&gt;to&nbsp;interface&nbsp;to&nbsp;Pooma&nbsp;1.&nbsp;&nbsp;But&nbsp;I&nbsp;never&nbsp;really&nbsp;had&nbsp;time&nbsp;to&nbsp;pursue&nbsp;that&nbsp;work.&nbsp;&nbsp;Now&nbsp;I&nbsp;am&lt;/DIV&gt;<br>
&lt;DIV&gt;trying&nbsp;to&nbsp;interface&nbsp;to&nbsp;this&nbsp;package&nbsp;using&nbsp;Pooma&nbsp;2.&nbsp;&nbsp;I&nbsp;talked&nbsp;with&nbsp;Jim&nbsp;about&nbsp;this&nbsp;when&nbsp;John&lt;/DIV&gt;<br>
&lt;DIV&gt;and&nbsp;I&nbsp;came&nbsp;down&nbsp;to&nbsp;Proximation&nbsp;a&nbsp;couple&nbsp;of&nbsp;months&nbsp;ago.&nbsp;&nbsp;I&nbsp;don't&nbsp;know&nbsp;if&nbsp;I&nbsp;can&nbsp;describe&lt;/DIV&gt;<br>
&lt;DIV&gt;the&nbsp;interface&nbsp;well&nbsp;enough&nbsp;for&nbsp;you&nbsp;to&nbsp;follow&nbsp;it&nbsp;or&nbsp;for&nbsp;that&nbsp;matter,&nbsp;even&nbsp;if&nbsp;it&nbsp;is&nbsp;worthwhile&lt;/DIV&gt;<br>
&lt;DIV&gt;at&nbsp;this&nbsp;stage.&nbsp;&nbsp;My&nbsp;ultimate&nbsp;goal&nbsp;is&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;call&nbsp;this&nbsp;package&nbsp;with&nbsp;the&nbsp;minimum&nbsp;amount&lt;/DIV&gt;<br>
&lt;DIV&gt;of&nbsp;data&nbsp;copying&nbsp;but&nbsp;right&nbsp;now,&nbsp;John&nbsp;and&nbsp;I&nbsp;have&nbsp;compromised&nbsp;on&nbsp;doing&nbsp;some&nbsp;extra&nbsp;copying.&lt;/DIV&gt;<br>
&lt;DIV&gt;Fundamentally,&nbsp;what&nbsp;I&nbsp;need&nbsp;to&nbsp;pass&nbsp;to&nbsp;this&nbsp;fortran&nbsp;linear&nbsp;solver&nbsp;package&nbsp;is&nbsp;the&nbsp;address&nbsp;of&lt;/DIV&gt;<br>
&lt;DIV&gt;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;chunk&nbsp;of&nbsp;data&nbsp;on&nbsp;a&nbsp;processor.&nbsp;&nbsp;The&nbsp;data&nbsp;must&nbsp;be&nbsp;contiguous.&nbsp;&nbsp;So,&nbsp;this&lt;/DIV&gt;<br>
&lt;DIV&gt;means&nbsp;that&nbsp;the&nbsp;data&nbsp;cannot&nbsp;have&nbsp;any&nbsp;guard&nbsp;cells.&nbsp;&nbsp;Also,&nbsp;I&nbsp;would&nbsp;presume&nbsp;that&nbsp;it&nbsp;means&nbsp;that&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;can&nbsp;only&nbsp;have&nbsp;1&nbsp;vnode&nbsp;or&nbsp;patch&nbsp;per&nbsp;processor.&nbsp;&nbsp;We&nbsp;were&nbsp;wanting&nbsp;to&nbsp;use&nbsp;Pooma&nbsp;2&nbsp;Fields&lt;/DIV&gt;<br>
&lt;DIV&gt;for&nbsp;all&nbsp;this&nbsp;work.&nbsp;&nbsp;All&nbsp;of&nbsp;our&nbsp;current&nbsp;physics&nbsp;code&nbsp;uses&nbsp;Pooma&nbsp;2&nbsp;Fields.&nbsp;&nbsp;So&nbsp;there&nbsp;was&nbsp;a&lt;/DIV&gt;<br>
&lt;DIV&gt;desire&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;use&nbsp;Pooma&nbsp;2&nbsp;Fields&nbsp;for&nbsp;this&nbsp;work&nbsp;as&nbsp;well&nbsp;rather&nbsp;than&nbsp;having&nbsp;to&nbsp;use&lt;/DIV&gt;<br>
&lt;DIV&gt;arrays.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;don't&nbsp;know&nbsp;if&nbsp;this&nbsp;is&nbsp;really&nbsp;answering&nbsp;any&nbsp;of&nbsp;your&nbsp;questions&nbsp;but&nbsp;I&nbsp;have&nbsp;to&nbsp;go&nbsp;for&nbsp;now.&lt;/DIV&gt;<br>
&lt;DIV&gt;I'll&nbsp;give&nbsp;this&nbsp;some&nbsp;more&nbsp;thought&nbsp;and&nbsp;perhaps&nbsp;respond&nbsp;some&nbsp;more&nbsp;to&nbsp;your&nbsp;email.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Thanks,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Dave&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;style=&quot;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;PADDING-RIGHT:&nbsp;0px&quot;&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;Arial&quot;&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT:&nbsp;10pt&nbsp;arial;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;&lt;A&nbsp;href=&quot;mailto:scotth@proximation.com&quot;&nbsp;title=scotth@proximation.com&gt;Scott&nbsp;Haney&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;To:&nbsp;&lt;/B&gt;&lt;A&nbsp;href=&quot;mailto:scotth@proximation.com&quot;&nbsp;title=scotth@proximation.com&gt;sunsetmesa@earthlink.net&lt;/A&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Cc:&nbsp;&lt;/B&gt;&lt;A&nbsp;href=&quot;mailto:scotth@proximation.com&quot;&nbsp;title=scotth@proximation.com&gt;pooma-dev@pooma.codesourcery.com&lt;/A&gt;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;7/25/2001&nbsp;7:51:15&nbsp;AM&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[pooma-dev]&nbsp;FW:&nbsp;Questions&nbsp;about&nbsp;data&nbsp;in&nbsp;Fields&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;FONT&nbsp;size=2&gt;<br>
&lt;P&gt;<br>
&lt;DIV&gt;Hi&nbsp;Dave,&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;The&nbsp;data&nbsp;in&nbsp;fields&nbsp;is&nbsp;not&nbsp;necessarily&nbsp;continuous.&nbsp;We&nbsp;allocate&nbsp;based&nbsp;on&nbsp;a&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;vertex-centered&nbsp;domain&nbsp;for&nbsp;all&nbsp;subfields.&nbsp;This&nbsp;is&nbsp;done&nbsp;so&nbsp;that&nbsp;when&nbsp;the&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;field&nbsp;is&nbsp;partitioned,&nbsp;all&nbsp;of&nbsp;the&nbsp;subfields&nbsp;will&nbsp;be&nbsp;aligned.&nbsp;This&nbsp;fixes&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;the&nbsp;nasty&nbsp;problems&nbsp;we&nbsp;had&nbsp;in&nbsp;R1&nbsp;with&nbsp;slightly&nbsp;different&nbsp;sized&nbsp;fields&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;giving&nbsp;dramatically&nbsp;different&nbsp;partitionings.&nbsp;This&nbsp;improves&nbsp;robustness&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;and&nbsp;should&nbsp;improve&nbsp;performance.&nbsp;Note&nbsp;as&nbsp;well&nbsp;that&nbsp;if&nbsp;you&nbsp;are&nbsp;looking&nbsp;at&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;a&nbsp;patch&nbsp;and&nbsp;there&nbsp;are&nbsp;internal&nbsp;guard&nbsp;layers,&nbsp;the&nbsp;data&nbsp;won't&nbsp;be&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;continuous&nbsp;either.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Your&nbsp;best&nbsp;bet&nbsp;is&nbsp;to&nbsp;assign&nbsp;the&nbsp;patch&nbsp;data&nbsp;to&nbsp;a&nbsp;brick-array&nbsp;of&nbsp;the&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;correct&nbsp;size.&nbsp;This&nbsp;will&nbsp;make&nbsp;the&nbsp;data&nbsp;continuous.&nbsp;However,&nbsp;it&nbsp;would&nbsp;be&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;helpful&nbsp;to&nbsp;see&nbsp;a&nbsp;snippet&nbsp;showing&nbsp;exactly&nbsp;what&nbsp;you're&nbsp;trying&nbsp;to&nbsp;do.&nbsp;This&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;would&nbsp;also&nbsp;help&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;size&nbsp;question&nbsp;-&nbsp;I&nbsp;am&nbsp;surprised&nbsp;by&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;the&nbsp;behavior&nbsp;you're&nbsp;reporting.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Scott&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;On&nbsp;Tuesday,&nbsp;July&nbsp;24,&nbsp;2001,&nbsp;at&nbsp;01:24&nbsp;PM,&nbsp;William&nbsp;Nystrom&nbsp;wrote:&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;Hi&nbsp;Guys,&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;I&nbsp;talked&nbsp;to&nbsp;Jim&nbsp;about&nbsp;interfacing&nbsp;to&nbsp;some&nbsp;fortran&nbsp;linear&nbsp;solver&nbsp;code&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;awhile&nbsp;back&nbsp;and&nbsp;then&nbsp;before&nbsp;I&nbsp;left&nbsp;for&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;vacation,&nbsp;John&nbsp;and&nbsp;I&nbsp;did&nbsp;some&nbsp;work&nbsp;to&nbsp;try&nbsp;and&nbsp;write&nbsp;the&nbsp;interface&nbsp;for&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;our&nbsp;application&nbsp;using&nbsp;Pooma&nbsp;2&nbsp;so&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;we&nbsp;could&nbsp;use&nbsp;this&nbsp;fortran&nbsp;linear&nbsp;solver&nbsp;package.&nbsp;&nbsp;One&nbsp;of&nbsp;the&nbsp;things&nbsp;I&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;am&nbsp;trying&nbsp;to&nbsp;do&nbsp;is&nbsp;to&nbsp;query&nbsp;a&nbsp;Pooma&nbsp;2&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;Field&nbsp;and&nbsp;find&nbsp;out&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;data&nbsp;that&nbsp;is&nbsp;local&nbsp;to&nbsp;a&nbsp;processor.&nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;I've&nbsp;done&nbsp;this&nbsp;query&nbsp;for&nbsp;the&nbsp;domain&nbsp;object&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;for&nbsp;a&nbsp;Field&nbsp;and&nbsp;for&nbsp;a&nbsp;cell&nbsp;centered&nbsp;field,&nbsp;it&nbsp;reports&nbsp;sizes&nbsp;in&nbsp;each&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;dimension&nbsp;or&nbsp;coordinate&nbsp;that&nbsp;are&nbsp;one&nbsp;more&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;than&nbsp;they&nbsp;should&nbsp;be.&nbsp;&nbsp;John&nbsp;told&nbsp;me&nbsp;that&nbsp;you&nbsp;guys&nbsp;had&nbsp;decided&nbsp;to&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;allocate&nbsp;enough&nbsp;space&nbsp;for&nbsp;a&nbsp;vertex&nbsp;centered&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;field&nbsp;even&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;cell&nbsp;centered&nbsp;-&nbsp;as&nbsp;an&nbsp;optimization&nbsp;of&nbsp;some&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;sort.&nbsp;&nbsp;I&nbsp;am&nbsp;worried&nbsp;that&nbsp;the&nbsp;data&nbsp;for&nbsp;a&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;cell&nbsp;centered&nbsp;field&nbsp;may&nbsp;not&nbsp;be&nbsp;contiguous&nbsp;because&nbsp;of&nbsp;the&nbsp;extra&nbsp;padding&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;that&nbsp;occurs&nbsp;for&nbsp;cell&nbsp;centered&nbsp;fields&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;and&nbsp;because&nbsp;the&nbsp;domain&nbsp;object&nbsp;thinks&nbsp;it's&nbsp;size&nbsp;in&nbsp;each&nbsp;dimension&nbsp;is&nbsp;one&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;larger.&nbsp;&nbsp;Can&nbsp;you&nbsp;tell&nbsp;me&nbsp;if&nbsp;the&nbsp;data&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;for&nbsp;a&nbsp;cell&nbsp;centered&nbsp;field&nbsp;that&nbsp;is&nbsp;local&nbsp;to&nbsp;a&nbsp;processor&nbsp;with&nbsp;one&nbsp;patch&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;per&nbsp;processor&nbsp;is&nbsp;actually&nbsp;contiguous&nbsp;in&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;memory?&nbsp;&nbsp;I&nbsp;can&nbsp;test&nbsp;this&nbsp;experimentally&nbsp;but&nbsp;I&nbsp;have&nbsp;not&nbsp;had&nbsp;a&nbsp;chance&nbsp;to&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;do&nbsp;this&nbsp;yet.&nbsp;&nbsp;Also,&nbsp;can&nbsp;you&nbsp;tell&nbsp;me&nbsp;the&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;recommended&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;correct&nbsp;size&nbsp;of&nbsp;my&nbsp;data&nbsp;on&nbsp;a&nbsp;local&nbsp;processor&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;for&nbsp;a&nbsp;cell&nbsp;centered&nbsp;Pooma&nbsp;2&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;Field?&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;Please&nbsp;send&nbsp;replies&nbsp;to&nbsp;&lt;A&nbsp;href=&quot;mailto:sunsetmesa@earthlink.net&quot;&gt;sunsetmesa@earthlink.net&lt;/A&gt;&nbsp;as&nbsp;I&nbsp;am&nbsp;not&nbsp;able&nbsp;right&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;now&nbsp;to&nbsp;read&nbsp;my&nbsp;lanl&nbsp;email&nbsp;and&nbsp;I&lt;/DIV&gt;<br>
&lt;DIV&gt;&gt;&nbsp;am&nbsp;not&nbsp;subscribing&nbsp;to&nbsp;pooma-dev&nbsp;from&nbsp;my&nbsp;ISP&nbsp;account.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;P&gt;&lt;/P&gt;&lt;/FONT&gt;<br>
&lt;P&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;---&nbsp;William&nbsp;Nystrom&lt;/DIV&gt;<br>
&lt;DIV&gt;---&nbsp;&lt;A&nbsp;href=&quot;mailto:sunsetmesa@earthlink.net&quot;&gt;sunsetmesa@earthlink.net&lt;/A&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;---&nbsp;EarthLink:&nbsp;It's&nbsp;your&nbsp;Internet.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
