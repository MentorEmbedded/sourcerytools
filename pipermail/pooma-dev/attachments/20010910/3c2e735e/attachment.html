<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;Patch:&nbsp;pack/unpack&nbsp;added&nbsp;to&nbsp;Blanca&nbsp;branch&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I've&nbsp;added&nbsp;pack&nbsp;and&nbsp;unpack&nbsp;to&nbsp;the&nbsp;blanca-2001Oct01&nbsp;branch.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;The&nbsp;functions&nbsp;return&nbsp;a&nbsp;RefCountedBlockPtr,&nbsp;so&nbsp;you&nbsp;don't&nbsp;have&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;to&nbsp;allocate&nbsp;or&nbsp;delete&nbsp;storage:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;RefCountedBlockPtr&lt;double&gt;&nbsp;ptr&nbsp;=&nbsp;pack(field);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;fortran_code(ptr.beginPointer(),&nbsp;ptr.size());&nbsp;//&nbsp;operate&nbsp;on&nbsp;double*,&nbsp;size&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;unpack(field,&nbsp;ptr);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Pack&nbsp;returns&nbsp;a&nbsp;1-D&nbsp;block&nbsp;of&nbsp;data&nbsp;that&nbsp;includes&nbsp;all&nbsp;the&nbsp;data&nbsp;local&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;to&nbsp;a&nbsp;given&nbsp;processor,&nbsp;excluding&nbsp;the&nbsp;guard&nbsp;layers.&nbsp;&nbsp;unpack&nbsp;performs&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;the&nbsp;inverse&nbsp;operation.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Let&nbsp;me&nbsp;know&nbsp;if&nbsp;this&nbsp;solution&nbsp;is&nbsp;sufficient&nbsp;and&nbsp;works&nbsp;for&nbsp;you.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Thanks,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stephen&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;FACE=&quot;Arial&quot;&nbsp;SIZE=2&nbsp;COLOR=&quot;#000000&quot;&gt;&nbsp;&lt;&lt;10Sep.pack.blanca.patch&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
