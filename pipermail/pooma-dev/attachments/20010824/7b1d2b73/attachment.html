<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;Profiling&nbsp;POOMA:&nbsp;How&nbsp;to?&nbsp;(1/3)&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Gaby,&nbsp;Microsoft&nbsp;Outlook&nbsp;has&nbsp;no&nbsp;idea&nbsp;what&nbsp;your&nbsp;attachments&nbsp;were.&nbsp;Here&nbsp;is&nbsp;a&nbsp;snippet&nbsp;of&nbsp;what&nbsp;I&nbsp;received:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;----------------------------------------------------------------------&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Hmm,&nbsp;I'm&nbsp;embarrased&nbsp;because&nbsp;I&nbsp;don't&nbsp;(yet)&nbsp;have&nbsp;any&nbsp;idea&nbsp;of&nbsp;why&nbsp;you're&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;seeing&nbsp;that&nbsp;behaviour.&nbsp;&nbsp;Which&nbsp;parameters&nbsp;did&nbsp;you&nbsp;run&nbsp;the&nbsp;ABC&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;test&nbsp;with?&nbsp;&nbsp;I&nbsp;tried&nbsp;the&nbsp;following&nbsp;to&nbsp;see&nbsp;whether&nbsp;I'll&nbsp;get&nbsp;a&nbsp;core&nbsp;dump&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;./ABC&nbsp;--run-impls&nbsp;2&nbsp;--sim-params&nbsp;1&nbsp;3&nbsp;100&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;the&nbsp;test&nbsp;completed&nbsp;fine,&nbsp;but&nbsp;I&nbsp;strongly&nbsp;suspect&nbsp;I&nbsp;must&nbsp;be&nbsp;testing&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;with&nbsp;the&nbsp;wrong&nbsp;parameters&nbsp;(the&nbsp;&quot;nan&quot;&nbsp;part&nbsp;is&nbsp;a&nbsp;bit&nbsp;intriguing).&nbsp;&nbsp;The&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;output&nbsp;is&nbsp;in&nbsp;ABC.out&nbsp;and&nbsp;the&nbsp;profiling&nbsp;information&nbsp;(flat&nbsp;profile&nbsp;and&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;call&nbsp;graph)&nbsp;is&nbsp;in&nbsp;ABC.prof,&nbsp;all&nbsp;attached.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;I'm&nbsp;using&nbsp;GNU&nbsp;gprof-2.10.91&nbsp;on&nbsp;a&nbsp;linux&nbsp;box.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--&nbsp;Gaby&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--Multipart_Fri_Aug_24_02:46:57_2001-1&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Content-Type:&nbsp;application/octet-stream&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Content-Disposition:&nbsp;attachment;&nbsp;filename=&quot;ABC.out&quot;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Content-Transfer-Encoding:&nbsp;base64&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Ci4vQUJDIEJlbmNobWFyawotLS0tLS0tLS0tLS0tLS0KUnVubmluZyBzYW1wbGUgIzEgZm9y&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;IFBvb21hSUkgQnJpY2sgSW1wbGVtZW50YXRpb246CiAgTiA9IDEuLi4KICAgIENvcnJlY3Ru&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;ZXNzIHRlc3QgdmFsdWUgZm9yIE4gPSAxIGlzIG5hbi4KICBOID0gMS4uLgogICAgQ29ycmVj&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-------------------------------------------------------------------------&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Regarding&nbsp;your&nbsp;questions,&nbsp;it&nbsp;wasn't&nbsp;ABC&nbsp;that&nbsp;crashed,&nbsp;it&nbsp;was&nbsp;gprof&nbsp;when&nbsp;I&nbsp;ran&nbsp;it&nbsp;on&nbsp;ABC's&nbsp;gmon.out&nbsp;file&nbsp;(or&nbsp;whatever&nbsp;it&nbsp;is&nbsp;called).&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;nan's&nbsp;you're&nbsp;seeing&nbsp;for&nbsp;the&nbsp;above&nbsp;args&nbsp;are&nbsp;probably&nbsp;related&nbsp;to&nbsp;the&nbsp;input&nbsp;parameters&nbsp;indirectly&nbsp;-&nbsp;the&nbsp;&quot;correctness&nbsp;value&quot;&nbsp;that&nbsp;is&nbsp;printed&nbsp;out&nbsp;for&nbsp;this&nbsp;test&nbsp;is&nbsp;the&nbsp;value&nbsp;at&nbsp;the&nbsp;point&nbsp;&quot;N/2,N/2&quot;.&nbsp;For&nbsp;reasons&nbsp;that&nbsp;escape&nbsp;me,&nbsp;the&nbsp;domain&nbsp;for&nbsp;the&nbsp;arrays&nbsp;in&nbsp;this&nbsp;test&nbsp;is&nbsp;[1..N]x[1..N].&nbsp;So&nbsp;if&nbsp;N&nbsp;==&nbsp;1,&nbsp;N/2&nbsp;give&nbsp;0&nbsp;and&nbsp;this&nbsp;results&nbsp;in&nbsp;the&nbsp;correctness&nbsp;calculation&nbsp;trying&nbsp;to&nbsp;read&nbsp;a(0,0),&nbsp;which&nbsp;is&nbsp;out-of-bounds.&nbsp;(This&nbsp;would&nbsp;be&nbsp;caught&nbsp;with&nbsp;bounds&nbsp;checking&nbsp;on,&nbsp;if&nbsp;we&nbsp;still&nbsp;have&nbsp;such&nbsp;a&nbsp;thing&nbsp;8-).&nbsp;The&nbsp;upshot&nbsp;is&nbsp;that&nbsp;N&nbsp;==&nbsp;1&nbsp;is&nbsp;a&nbsp;bad&nbsp;value.&nbsp;Also,&nbsp;anything&nbsp;less&nbsp;than&nbsp;N&nbsp;==&nbsp;10&nbsp;will&nbsp;not&nbsp;work&nbsp;with&nbsp;the&nbsp;default&nbsp;number&nbsp;of&nbsp;patches&nbsp;for&nbsp;the&nbsp;UMP&nbsp;tests&nbsp;since&nbsp;they&nbsp;try&nbsp;to&nbsp;decompose&nbsp;into&nbsp;npatch&nbsp;x&nbsp;npatch&nbsp;patches,&nbsp;which&nbsp;will&nbsp;fail&nbsp;if&nbsp;N&nbsp;&lt;&nbsp;npatch.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Anyway,&nbsp;I&nbsp;just&nbsp;ran&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;%&nbsp;ABC&nbsp;--run-impls&nbsp;2&nbsp;--sim-params&nbsp;100&nbsp;0&nbsp;1&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;%&nbsp;gprof&nbsp;ABC&nbsp;&gt;&amp;gprof.out&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;gprof&nbsp;has&nbsp;now&nbsp;used&nbsp;up&nbsp;4&nbsp;minutes&nbsp;of&nbsp;CPU&nbsp;time&nbsp;and&nbsp;its&nbsp;image&nbsp;size&nbsp;is&nbsp;1.5&nbsp;GB.&nbsp;I&nbsp;suspect&nbsp;it&nbsp;will&nbsp;crash&nbsp;soon.&nbsp;8-)&nbsp;I'm&nbsp;using&nbsp;GNU&nbsp;gprof&nbsp;2.10.91&nbsp;as&nbsp;well.&nbsp;I&nbsp;did&nbsp;compile&nbsp;with&nbsp;KCC&nbsp;and&nbsp;full&nbsp;optimization&nbsp;-&nbsp;does&nbsp;gprof&nbsp;now&nbsp;work&nbsp;in&nbsp;that&nbsp;situation?&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Oh,&nbsp;yes,&nbsp;gprof&nbsp;finally&nbsp;died&nbsp;after&nbsp;10+&nbsp;minutes&nbsp;of&nbsp;CPU&nbsp;time&nbsp;-&nbsp;&quot;Cannot&nbsp;allocate&nbsp;3087007742&nbsp;bytes...&quot;.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;From:&nbsp;Gabriel&nbsp;Dos&nbsp;Reis&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:gdr@codesourcery.com&quot;&gt;mailto:gdr@codesourcery.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Sent:&nbsp;Thursday,&nbsp;August&nbsp;23,&nbsp;2001&nbsp;6:47&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[pooma-dev]&nbsp;Profiling&nbsp;POOMA:&nbsp;How&nbsp;to?&nbsp;(1/3)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
