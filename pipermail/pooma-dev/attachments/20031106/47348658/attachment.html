<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;[RFA/PATCH]&nbsp;FieldEngine&nbsp;FIXMEs&nbsp;anyone?&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;That's&nbsp;what&nbsp;happens&nbsp;when&nbsp;a&nbsp;contract&nbsp;gets&nbsp;cancelled&nbsp;mid-development.&nbsp;:(&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Field&nbsp;&quot;domains&quot;&nbsp;were&nbsp;made&nbsp;cell-centric&nbsp;because&nbsp;that&nbsp;provided&nbsp;a&nbsp;nice&nbsp;way&nbsp;of&nbsp;dealing&nbsp;with&nbsp;complex&nbsp;cell-oriented&nbsp;algorithms.&nbsp;This&nbsp;was&nbsp;an&nbsp;experimental&nbsp;departure&nbsp;form&nbsp;Pooma&nbsp;1,&nbsp;which&nbsp;handled&nbsp;centerings&nbsp;as&nbsp;a&nbsp;template&nbsp;parameter,&nbsp;a&nbsp;fact&nbsp;that&nbsp;gave&nbsp;rise&nbsp;to&nbsp;a&nbsp;variety&nbsp;of&nbsp;complaints.&nbsp;The&nbsp;new&nbsp;design&nbsp;made&nbsp;things&nbsp;like&nbsp;edge/face-centered&nbsp;fields,&nbsp;which&nbsp;don't&nbsp;have&nbsp;simple&nbsp;Cartesian-product&nbsp;domains,&nbsp;much&nbsp;cleaner.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Jeffrey&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;better&nbsp;elucidate&nbsp;some&nbsp;of&nbsp;the&nbsp;Field&nbsp;design&nbsp;decisions&nbsp;as&nbsp;he&nbsp;worked&nbsp;pretty&nbsp;closely&nbsp;with&nbsp;Scott&nbsp;Haney&nbsp;and&nbsp;Stephen&nbsp;Smith&nbsp;on&nbsp;the&nbsp;new&nbsp;design.&nbsp;I&nbsp;don't&nbsp;think&nbsp;Scott&nbsp;Haney&nbsp;follows&nbsp;this&nbsp;list&nbsp;anymore,&nbsp;and&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;about&nbsp;Stephen.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;INode&nbsp;and&nbsp;FieldEnginePatch&nbsp;views&nbsp;are&nbsp;for&nbsp;getting&nbsp;&quot;Brick-like&quot;&nbsp;views,&nbsp;if&nbsp;I&nbsp;remember&nbsp;correctly.&nbsp;If&nbsp;the&nbsp;field&nbsp;has&nbsp;an&nbsp;underlying&nbsp;Multi-patch&nbsp;engine,&nbsp;then&nbsp;a&nbsp;view&nbsp;with&nbsp;a&nbsp;regular&nbsp;Domain&nbsp;will&nbsp;give&nbsp;you&nbsp;a&nbsp;field&nbsp;with&nbsp;a&nbsp;Multi-patch&nbsp;view.&nbsp;Even&nbsp;if&nbsp;local,&nbsp;indexing&nbsp;will&nbsp;be&nbsp;slow.&nbsp;By&nbsp;getting&nbsp;a&nbsp;brick-like&nbsp;view,&nbsp;you're&nbsp;guaranteed&nbsp;fast&nbsp;serial&nbsp;access.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Richard&nbsp;Guenther&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:rguenth@tat.physik.uni-tuebingen.de&quot;&gt;mailto:rguenth@tat.physik.uni-tuebingen.de&lt;/A&gt;]&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Thursday,&nbsp;November&nbsp;06,&nbsp;2003&nbsp;2:02&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[pooma-dev]&nbsp;[RFA/PATCH]&nbsp;FieldEngine&nbsp;FIXMEs&nbsp;anyone?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi!&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;While&nbsp;looking&nbsp;for&nbsp;the&nbsp;cause&nbsp;of&nbsp;centering&nbsp;views&nbsp;of&nbsp;FieldEngines&nbsp;being&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;costly,&nbsp;I&nbsp;noticed&nbsp;several&nbsp;points&nbsp;in&nbsp;the&nbsp;FieldEngine&nbsp;implementation:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;-&nbsp;lots&nbsp;of&nbsp;FIXMEs!&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;-&nbsp;a&nbsp;mix&nbsp;of&nbsp;weird&nbsp;centeringSize()/numMaterials()&nbsp;checks&nbsp;and&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;implementations&nbsp;differing&nbsp;for&nbsp;specific&nbsp;cases&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;-&nbsp;interesting&nbsp;way&nbsp;of&nbsp;keeping&nbsp;track&nbsp;of&nbsp;the&nbsp;domains&nbsp;in&nbsp;case&nbsp;of&nbsp;multiple&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;centering&nbsp;points&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;-&nbsp;everything&nbsp;is&nbsp;with&nbsp;respect&nbsp;to&nbsp;cell&nbsp;domains,&nbsp;not&nbsp;vertex&nbsp;domains&nbsp;(as&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;arrays&nbsp;and&nbsp;also&nbsp;Meshes&nbsp;expect)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;In&nbsp;the&nbsp;way&nbsp;of&nbsp;understanding&nbsp;whats&nbsp;going&nbsp;on,&nbsp;I&nbsp;added&nbsp;some&nbsp;documentation&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;two&nbsp;new&nbsp;subfield&nbsp;view&nbsp;constructors&nbsp;(see&nbsp;patch&nbsp;below).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Can&nbsp;anyone&nbsp;elaborate&nbsp;on&nbsp;the&nbsp;successful&nbsp;usages&nbsp;of&nbsp;the&nbsp;centering/materials&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;concept&nbsp;from&nbsp;real&nbsp;applications?&nbsp;&nbsp;Would&nbsp;it&nbsp;be&nbsp;acceptable&nbsp;to&nbsp;remove&nbsp;all&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;special-cases&nbsp;for&nbsp;centeringSize()==1&nbsp;and/or&nbsp;numMaterials()==1?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Does&nbsp;it&nbsp;really&nbsp;make&nbsp;sense&nbsp;to&nbsp;take&nbsp;views&nbsp;of&nbsp;multiple-centering&nbsp;fields?&nbsp;If&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;yes,&nbsp;can&nbsp;we&nbsp;change&nbsp;the&nbsp;expected&nbsp;domains&nbsp;to&nbsp;be&nbsp;vertex&nbsp;domains&nbsp;instead?&nbsp;So&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;an&nbsp;application&nbsp;can&nbsp;transparently&nbsp;switch&nbsp;Array/Field&nbsp;for&nbsp;vertex&nbsp;centerings.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Is&nbsp;there&nbsp;some&nbsp;documentation&nbsp;on&nbsp;why/how&nbsp;the&nbsp;INode&nbsp;and&nbsp;FieldEnginePatch&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;views&nbsp;are&nbsp;supposed&nbsp;to&nbsp;work&nbsp;and&nbsp;what&nbsp;is&nbsp;the&nbsp;advantage&nbsp;of&nbsp;using&nbsp;them&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;compared&nbsp;to&nbsp;usual&nbsp;domain&nbsp;views?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks&nbsp;for&nbsp;any&nbsp;hints,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Richard.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;=====&nbsp;FieldEngine.h&nbsp;1.7&nbsp;vs&nbsp;edited&nbsp;=====&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;---&nbsp;1.7/r2/src/Field/FieldEngine/FieldEngine.h&nbsp;&nbsp;Mon&nbsp;Oct&nbsp;27&nbsp;11:25:16&nbsp;2003&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+++&nbsp;edited/FieldEngine.h&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thu&nbsp;Nov&nbsp;&nbsp;6&nbsp;21:25:18&nbsp;2003&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-37,7&nbsp;+37,7&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;/**&nbsp;@file&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&nbsp;@ingroup&nbsp;Field&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&nbsp;@brief&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;*&nbsp;FieldEngineBase&nbsp;and&nbsp;related&nbsp;classes.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;*&nbsp;FieldEngine&nbsp;and&nbsp;FieldEngineBaseData&nbsp;classes.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&nbsp;POOMA&nbsp;supports&nbsp;a&nbsp;flexible&nbsp;form&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&nbsp;of&nbsp;&quot;centering&quot;&nbsp;that&nbsp;allows&nbsp;a&nbsp;hierarchy&nbsp;of&nbsp;multiple&nbsp;centering&nbsp;points&nbsp;per&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-69,6&nbsp;+69,11&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;template&lt;int&nbsp;Dim,&nbsp;class&nbsp;T,&nbsp;class&nbsp;EngineTag&gt;&nbsp;class&nbsp;Engine;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;template&lt;class&nbsp;Components&gt;&nbsp;class&nbsp;ComponentWrapper;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+namespace&nbsp;Pooma&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;struct&nbsp;MaterialViewTag&nbsp;{};&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;struct&nbsp;CenteringViewTag&nbsp;{};&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;/**&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;*&nbsp;FieldEngineBaseData&nbsp;holds&nbsp;an&nbsp;engine&nbsp;and&nbsp;the&nbsp;relations.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-83,6&nbsp;+88,9&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;engine_m()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Initializer&nbsp;to&nbsp;be&nbsp;used&nbsp;with&nbsp;an&nbsp;engine&nbsp;compatible&nbsp;layout&nbsp;or&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;similar&nbsp;initializer.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;template&lt;class&nbsp;Initializer&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngineBaseData(const&nbsp;Initializer&nbsp;&amp;init)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;engine_m(init)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-192,41&nbsp;+200,57&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;///&nbsp;Sub-field&nbsp;view&nbsp;constructor.&nbsp;This&nbsp;is&nbsp;when&nbsp;we&nbsp;want&nbsp;to&nbsp;construct&nbsp;a&nbsp;view&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;///&nbsp;one&nbsp;of&nbsp;the&nbsp;subFields&nbsp;in&nbsp;our&nbsp;top-level&nbsp;list.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;subField)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///@name&nbsp;Sub-field&nbsp;view&nbsp;constructors&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;//@{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Takes&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;centering&nbsp;point&nbsp;of&nbsp;the&nbsp;specified&nbsp;material.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;m,&nbsp;int&nbsp;c)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(1),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.stride_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m(model.physicalCellDomain_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(model.guards_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh_m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(model.numMaterials()&nbsp;&gt;&nbsp;1)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;model.stride_m&nbsp;*&nbsp;subField;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;else&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering()[subField];&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;subField;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;PAssert((m&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(m&nbsp;&lt;&nbsp;model.numMaterials()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;PAssert((c&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(c&nbsp;&lt;&nbsp;model.centeringSize()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering()[c];&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;model.stride_m&nbsp;*&nbsp;m&nbsp;+&nbsp;c;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;m,&nbsp;int&nbsp;c)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(1),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Takes&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;centering&nbsp;point&nbsp;from&nbsp;all&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;materials.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;c,&nbsp;const&nbsp;Pooma::CenteringViewTag&amp;)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(model.num_materials_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.stride_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m(model.physicalCellDomain_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(model.guards_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh_m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;PAssert((m&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(m&nbsp;&lt;&nbsp;model.numMaterials()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PAssert((c&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(c&nbsp;&lt;&nbsp;model.centeringSize()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering()[c];&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;model.stride_m&nbsp;*&nbsp;m&nbsp;+&nbsp;c;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;c;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Takes&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;material&nbsp;retaining&nbsp;all&nbsp;centering&nbsp;points.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;m,&nbsp;const&nbsp;Pooma::MaterialViewTag&amp;)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(1),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m(model.centering_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.stride_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m(model.physicalCellDomain_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(model.guards_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh_m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;PAssert((m&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(m&nbsp;&lt;&nbsp;model.numMaterials()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;m&nbsp;*&nbsp;model.stride_m;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Takes&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;centering&nbsp;point&nbsp;of&nbsp;the&nbsp;first&nbsp;material.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;This&nbsp;is&nbsp;useless&nbsp;for&nbsp;fields&nbsp;with&nbsp;multiple&nbsp;materials&nbsp;and&nbsp;thus&nbsp;this&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;method&nbsp;is&nbsp;deprecated.&nbsp;Use&nbsp;FieldEngine(field,&nbsp;0,&nbsp;c).&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(int&nbsp;c,&nbsp;const&nbsp;This_t&nbsp;&amp;model)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(1),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.stride_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-239,7&nbsp;+263,42&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;c;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;///&nbsp;View&nbsp;constructors.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Takes&nbsp;a&nbsp;view&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;&nbsp;-&nbsp;the&nbsp;specified&nbsp;material&nbsp;including&nbsp;all&nbsp;centering&nbsp;points,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;there&nbsp;is&nbsp;more&nbsp;than&nbsp;one&nbsp;material&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;&nbsp;-&nbsp;the&nbsp;specified&nbsp;centering,&nbsp;if&nbsp;there&nbsp;is&nbsp;only&nbsp;one&nbsp;material&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;These&nbsp;are&nbsp;weird&nbsp;semantics&nbsp;and&nbsp;thus&nbsp;this&nbsp;method&nbsp;is&nbsp;deprecated.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&nbsp;int&nbsp;subField)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(1),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.stride_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m(model.physicalCellDomain_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(model.guards_m),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh_m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;PAssert((subField&nbsp;&gt;=&nbsp;0)&nbsp;&amp;&amp;&nbsp;(subField&nbsp;&lt;&nbsp;model.numSubFields()));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(model.numMaterials()&nbsp;&gt;&nbsp;1)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;model.stride_m&nbsp;*&nbsp;subField;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;else&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m&nbsp;=&nbsp;model.centering()[subField];&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_m&nbsp;=&nbsp;model.data_m&nbsp;+&nbsp;subField;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;//@}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///@name&nbsp;View&nbsp;constructors&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;//@{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Taking&nbsp;a&nbsp;domain&nbsp;view&nbsp;of&nbsp;the&nbsp;specified&nbsp;field-engine.&nbsp;For&nbsp;a&nbsp;field-engine&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;with&nbsp;one&nbsp;centering&nbsp;point&nbsp;and&nbsp;possibly&nbsp;multiple&nbsp;materials&nbsp;this&nbsp;is&nbsp;well&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;defined&nbsp;and&nbsp;expects&nbsp;the&nbsp;domain&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;centering&nbsp;of&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;materials.&nbsp;&nbsp;For&nbsp;multiple&nbsp;centerings&nbsp;this&nbsp;expects&nbsp;a&nbsp;cell&nbsp;domain&nbsp;as&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;viewing&nbsp;domain&nbsp;that&nbsp;is&nbsp;possibly&nbsp;extended&nbsp;to&nbsp;the&nbsp;respective&nbsp;vertex&nbsp;domain.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;template&lt;class&nbsp;T2,&nbsp;class&nbsp;EngineTag2&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh,&nbsp;T2,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-277,29&nbsp;+336,7&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;///&nbsp;This&nbsp;constructor&nbsp;handle&nbsp;weird&nbsp;things&nbsp;like&nbsp;range&nbsp;views.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;template&lt;class&nbsp;Mesh2,&nbsp;class&nbsp;T2,&nbsp;class&nbsp;EngineTag2,&nbsp;class&nbsp;Domain&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh2,&nbsp;T2,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Domain&nbsp;&amp;d)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(model.numMaterials()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m(model.centering()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.centeringSize()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(0)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;addSubFields();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;Does&nbsp;this&nbsp;ever&nbsp;happen&nbsp;to&nbsp;fields&nbsp;with&nbsp;multiple&nbsp;centering&nbsp;points?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;(or&nbsp;event&nbsp;to&nbsp;fields&nbsp;with&nbsp;multiple&nbsp;materials???)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;PAssert(model.centeringSize()&nbsp;==&nbsp;1);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;m&nbsp;=&nbsp;0;&nbsp;m&nbsp;&lt;&nbsp;num_materials_m;&nbsp;++m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data(m,&nbsp;0)&nbsp;=&nbsp;Data_t(model.data(m,&nbsp;0).engine(),&nbsp;d,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.data(m,&nbsp;0).relations());&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;how&nbsp;do&nbsp;we&nbsp;construct&nbsp;the&nbsp;mesh?????&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;mesh_m&nbsp;=&nbsp;Mesh(DomainLayout&lt;Dim&gt;(inputDomainToVertexDomain(data(0,0).engine().domain())));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m&nbsp;=&nbsp;mesh_m.physicalCellDomain();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;INode&nbsp;view.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;template&lt;class&nbsp;T2,&nbsp;class&nbsp;EngineTag2&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh,&nbsp;T2,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-308,6&nbsp;+345,11&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m(model.centering()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.centeringSize()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(0),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;should&nbsp;hand&nbsp;INode&nbsp;to&nbsp;mesh?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Probably,&nbsp;but&nbsp;Mesh(Mesh&amp;,&nbsp;INode&amp;)&nbsp;expects&nbsp;the&nbsp;INode&nbsp;domain&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;being&nbsp;a&nbsp;vertex&nbsp;domain.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;constructor&nbsp;expects&nbsp;a&nbsp;cell&nbsp;domain&nbsp;instead?&nbsp;I&nbsp;can't&nbsp;see&nbsp;how&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;this&nbsp;can&nbsp;be&nbsp;correct&nbsp;for&nbsp;centering&nbsp;sizes&nbsp;&gt;&nbsp;1.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh(),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputDomainToVertexDomain(i.domain()))&nbsp;//&nbsp;FIXME:&nbsp;should&nbsp;hand&nbsp;INode&nbsp;to&nbsp;mesh?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-363,6&nbsp;+405,8&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;FieldEnginePatch&nbsp;view.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;template&lt;class&nbsp;EngineTag2&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh,&nbsp;T,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;FieldEnginePatch&lt;Dim&gt;&nbsp;&amp;p)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-370,7&nbsp;+414,9&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m(model.centering()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.centeringSize()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(model.guardLayers()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh())&nbsp;//&nbsp;FIXME:&nbsp;should&nbsp;take&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;mesh???&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;should&nbsp;take&nbsp;a&nbsp;view&nbsp;of&nbsp;the&nbsp;mesh???&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Yes.&nbsp;But&nbsp;again&nbsp;the&nbsp;mesh&nbsp;expects&nbsp;vertex&nbsp;domains.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mesh_m(model.mesh(),&nbsp;p)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;should&nbsp;we&nbsp;copy&nbsp;the&nbsp;relations&nbsp;for&nbsp;patch?&nbsp;&nbsp;Do&nbsp;we&nbsp;want&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;to&nbsp;take&nbsp;patch&nbsp;views&nbsp;of&nbsp;composite&nbsp;fields?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-381,6&nbsp;+427,8&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centeringDomainToCellDomain(p.domain_m,&nbsp;centering_m,&nbsp;0);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Component&nbsp;view.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;template&lt;class&nbsp;Mesh2,&nbsp;class&nbsp;T2,&nbsp;class&nbsp;EngineTag2,&nbsp;class&nbsp;Components&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh2,&nbsp;T2,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;ComponentWrapper&lt;Components&gt;&nbsp;&amp;cw)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-403,6&nbsp;+451,33&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;This&nbsp;constructor&nbsp;handle&nbsp;weird&nbsp;things&nbsp;like&nbsp;range&nbsp;views.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;Its&nbsp;probably&nbsp;far&nbsp;from&nbsp;doing&nbsp;anything&nbsp;sane.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;template&lt;class&nbsp;Mesh2,&nbsp;class&nbsp;T2,&nbsp;class&nbsp;EngineTag2,&nbsp;class&nbsp;Domain&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;FieldEngine(const&nbsp;FieldEngine&lt;Mesh2,&nbsp;T2,&nbsp;EngineTag2&gt;&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Domain&nbsp;&amp;d)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(model.numMaterials()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;centering_m(model.centering()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stride_m(model.centeringSize()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guards_m(0)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;addSubFields();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;Does&nbsp;this&nbsp;ever&nbsp;happen&nbsp;to&nbsp;fields&nbsp;with&nbsp;multiple&nbsp;centering&nbsp;points?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;(or&nbsp;event&nbsp;to&nbsp;fields&nbsp;with&nbsp;multiple&nbsp;materials???)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;PAssert(model.centeringSize()&nbsp;==&nbsp;1);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;m&nbsp;=&nbsp;0;&nbsp;m&nbsp;&lt;&nbsp;num_materials_m;&nbsp;++m)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data(m,&nbsp;0)&nbsp;=&nbsp;Data_t(model.data(m,&nbsp;0).engine(),&nbsp;d,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.data(m,&nbsp;0).relations());&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;FIXME:&nbsp;how&nbsp;do&nbsp;we&nbsp;construct&nbsp;the&nbsp;mesh?????&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;mesh_m&nbsp;=&nbsp;Mesh(DomainLayout&lt;Dim&gt;(inputDomainToVertexDomain(data(0,0).engine().domain())));&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;&nbsp;&nbsp;physicalCellDomain_m&nbsp;=&nbsp;mesh_m.physicalCellDomain();&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;//@}&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;FieldEngine(const&nbsp;This_t&nbsp;&amp;model,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;Pooma::DontCopyRelations&nbsp;&amp;d)&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;num_materials_m(model.numMaterials()),&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;@@&nbsp;-673,6&nbsp;+748,10&nbsp;@@&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;num_materials_m;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;Centering&lt;Dim&gt;&nbsp;centering_m;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;int&nbsp;stride_m;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;A&nbsp;one-dimensional&nbsp;organization&nbsp;of&nbsp;the&nbsp;FieldEngineBaseData&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;objects,&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;numMaterials&nbsp;materials&nbsp;there&nbsp;are&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;centeringSize&nbsp;data&nbsp;objects.&nbsp;We&nbsp;use&nbsp;stride_m&nbsp;for&nbsp;taking&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;+&nbsp;&nbsp;///&nbsp;views,&nbsp;thus&nbsp;data(m,c)&nbsp;==&nbsp;data_m[material&nbsp;*&nbsp;stride_m&nbsp;+&nbsp;centering].&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;RefCountedBlockPtr&lt;Data_t&gt;&nbsp;data_m;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;Domain_t&nbsp;physicalCellDomain_m;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
