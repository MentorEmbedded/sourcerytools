<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;fields&nbsp;on&nbsp;unstructured&nbsp;meshes&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;From:&nbsp;Toon&nbsp;Knapen&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:toon.knapen@si-lab.com&quot;&gt;mailto:toon.knapen@si-lab.com&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;Sent:&nbsp;Wednesday,&nbsp;April&nbsp;24,&nbsp;2002&nbsp;11:25&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;Subject:&nbsp;[pooma-dev]&nbsp;fields&nbsp;on&nbsp;unstructured&nbsp;meshes&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;The&nbsp;documentation&nbsp;of&nbsp;pooma&nbsp;2.3&nbsp;indicates&nbsp;that&nbsp;one&nbsp;of&nbsp;the&nbsp;next&nbsp;releases&nbsp;will&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;contain&nbsp;unstructured&nbsp;meshes.&nbsp;I&nbsp;guess&nbsp;it's&nbsp;not&nbsp;yet&nbsp;for&nbsp;2.4&nbsp;since&nbsp;I&nbsp;can't&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;find&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;them&nbsp;in&nbsp;the&nbsp;CVS.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;That&nbsp;was&nbsp;the&nbsp;plan&nbsp;when&nbsp;the&nbsp;Pooma&nbsp;team&nbsp;was&nbsp;still&nbsp;at&nbsp;Los&nbsp;Alamos.&nbsp;Obviously&nbsp;the&nbsp;docs&nbsp;were&nbsp;not&nbsp;given&nbsp;a&nbsp;thorough&nbsp;review&nbsp;when&nbsp;2.3&nbsp;was&nbsp;released.&nbsp;When&nbsp;2.4&nbsp;was&nbsp;started,&nbsp;I&nbsp;think&nbsp;there&nbsp;was&nbsp;still&nbsp;some&nbsp;hope&nbsp;that&nbsp;unstructured&nbsp;might&nbsp;be&nbsp;a&nbsp;follow-on&nbsp;project&nbsp;-&nbsp;probably&nbsp;2.5.&nbsp;As&nbsp;the&nbsp;lab&nbsp;cut&nbsp;funding&nbsp;for&nbsp;2.4&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;project,&nbsp;that&nbsp;is&nbsp;very&nbsp;unlikely.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;But&nbsp;I&nbsp;don't&nbsp;see&nbsp;how&nbsp;the&nbsp;Field&nbsp;concept&nbsp;will&nbsp;be&nbsp;extended&nbsp;to&nbsp;unstructured&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;meshes.&nbsp;&nbsp;A&nbsp;field&nbsp;currently&nbsp;supports&nbsp;Array-like&nbsp;indexing&nbsp;(e.g.&nbsp;2&nbsp;indices&nbsp;for&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;2-dimensional&nbsp;meshes).&nbsp;But&nbsp;on&nbsp;unstructured&nbsp;meshes,&nbsp;the&nbsp;elements&nbsp;need&nbsp;be&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;numbered&nbsp;using&nbsp;some&nbsp;numbering&nbsp;scheme&nbsp;that&nbsp;is&nbsp;not&nbsp;purely&nbsp;based&nbsp;on&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;position&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;of&nbsp;the&nbsp;element.&nbsp;But&nbsp;what&nbsp;happens&nbsp;with&nbsp;the&nbsp;Array-like&nbsp;indexing&nbsp;in&nbsp;this&nbsp;case&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;There&nbsp;would&nbsp;be&nbsp;no&nbsp;tensor&nbsp;product&nbsp;indexing.&nbsp;This&nbsp;was&nbsp;definitely&nbsp;a&nbsp;research-area&nbsp;that&nbsp;we&nbsp;had&nbsp;not&nbsp;explored&nbsp;in&nbsp;much&nbsp;depth.&nbsp;But&nbsp;we&nbsp;did&nbsp;believe&nbsp;that&nbsp;there&nbsp;was&nbsp;value&nbsp;to&nbsp;data-parallel&nbsp;abstractions&nbsp;with&nbsp;unstructured.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;I'm&nbsp;also&nbsp;curious&nbsp;why&nbsp;you&nbsp;decided&nbsp;to&nbsp;use&nbsp;the&nbsp;dimension&nbsp;(of&nbsp;the&nbsp;problem)&nbsp;as&nbsp;a&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;template&nbsp;parameter&nbsp;.&nbsp;As&nbsp;a&nbsp;consequence,&nbsp;you&nbsp;need&nbsp;different&nbsp;executables&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;simulate&nbsp;input-files&nbsp;describing&nbsp;a&nbsp;2D&nbsp;and&nbsp;a&nbsp;3D&nbsp;problem.&nbsp;But&nbsp;I&nbsp;guess&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;decision&nbsp;is&nbsp;based&nbsp;on&nbsp;the&nbsp;performance&nbsp;that&nbsp;can&nbsp;be&nbsp;gained&nbsp;by&nbsp;fixing&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;dimension&nbsp;?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;This&nbsp;is&nbsp;required&nbsp;for&nbsp;the&nbsp;compile-time&nbsp;optimizations&nbsp;to&nbsp;work.&nbsp;Indexing&nbsp;has&nbsp;to&nbsp;know&nbsp;the&nbsp;dimensionality&nbsp;in&nbsp;order&nbsp;for&nbsp;expressions&nbsp;like&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;A(I,J)&nbsp;=&nbsp;B(I,J+1)&nbsp;-&nbsp;B(I-1,J);&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;to&nbsp;effectively&nbsp;turn&nbsp;into&nbsp;a&nbsp;set&nbsp;of&nbsp;nested&nbsp;loops&nbsp;each&nbsp;containing&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;a(i,j)&nbsp;=&nbsp;b(i,j+1)&nbsp;-&nbsp;b(i-1,j);&nbsp;//&nbsp;Fortran&nbsp;notation&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;This&nbsp;has&nbsp;to&nbsp;happen&nbsp;at&nbsp;compile&nbsp;time&nbsp;in&nbsp;order&nbsp;for&nbsp;the&nbsp;expression&nbsp;templates&nbsp;to&nbsp;yield&nbsp;the&nbsp;kind&nbsp;of&nbsp;efficiency&nbsp;that&nbsp;one&nbsp;would&nbsp;get&nbsp;using&nbsp;hand-coded&nbsp;loops.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;This&nbsp;does&nbsp;lead&nbsp;to&nbsp;code&nbsp;bloat&nbsp;in&nbsp;certain&nbsp;applications,&nbsp;but&nbsp;it&nbsp;is&nbsp;basically&nbsp;unavoidable&nbsp;if&nbsp;you're&nbsp;going&nbsp;to&nbsp;use&nbsp;expression&nbsp;templates.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
