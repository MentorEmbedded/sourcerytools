Index: FileSetWriter.h===================================================================RCS file: /home/pooma/Repository/r2/src/IO/FileSetWriter.h,vretrieving revision 1.5diff -c -2 -p -r1.5 FileSetWriter.h*** FileSetWriter.h     2001/09/18 14:45:51     1.5--- FileSetWriter.h     2001/09/18 19:26:39*************** private:*** 106,110 ****      template<class T>!   Offset_t writeValues(std::ofstream &fs, const T *vals, int n);      void writeValue(std::ofstream &fs, const Interval<Dim> &val);--- 106,110 ----      template<class T>!   void writeValues(std::ofstream &fs, const T *vals, int n);      void writeValue(std::ofstream &fs, const Interval<Dim> &val);*************** void FileSetWriter<Dim>::writePatch(cons*** 354,357 ****--- 354,359 ----        // documentation, but it DOES match the code. Bad Bill! Bad! :-)  +       // Also, the offset is in terms of ELEMENTS, not bytes.+         odata.vnodedata_m[i * 6 + 1] = a.domain()[i].first();        odata.vnodedata_m[i * 6 + 2] = 1;*************** void FileSetWriter<Dim>::writePatch(cons*** 373,379 ****        // Might as well just write the data here.              !       currentOffset_m += !         writeValues(data_m, a.engine().localEngine().dataBlock().beginPointer(),!           a.domain().size());      }      --- 375,381 ----        // Might as well just write the data here.              !       writeValues(data_m, a.engine().localEngine().dataBlock().beginPointer(),!         a.domain().size());!       currentOffset_m += a.domain().size();      }      *************** void FileSetWriter<Dim>::writeValue(std:*** 406,411 ****  template<int Dim>  template<class T>! typename FileSetWriter<Dim>::Offset_t ! FileSetWriter<Dim>::writeValues(std::ofstream &fs, const T *vals, int n)  {    // We only want to write if we are on the I/O context.--- 408,412 ----  template<int Dim>  template<class T>! void FileSetWriter<Dim>::writeValues(std::ofstream &fs, const T *vals, int n)  {    // We only want to write if we are on the I/O context.*************** FileSetWriter<Dim>::writeValues(std::ofs*** 415,420 ****        fs.write((char *) vals, n * sizeof(T));      }-     -   return n * sizeof(T);  }  --- 416,419 ----Index: objfile.mk===================================================================RCS file: /home/pooma/Repository/r2/src/IO/objfile.mk,vretrieving revision 1.12diff -c -2 -p -r1.12 objfile.mk*** objfile.mk  2001/09/14 23:13:41     1.12--- objfile.mk  2001/09/18 19:26:39*************** include $(SHARED_ROOT)/include2.mk*** 35,39 ****    $(UNIQUE)_OBJS := \!       $(ODIR)/DiskLayout.cmpl.o    LOCAL_OBJS += $($(UNIQUE)_OBJS)--- 35,41 ----    $(UNIQUE)_OBJS := \!       $(ODIR)/DiskLayout.cmpl.o \!       $(ODIR)/DiskMeta.cmpl.o \!       $(ODIR)/MetaTokenIterator.cmpl.o    LOCAL_OBJS += $($(UNIQUE)_OBJS)cvs server: Diffing doccvs server: Diffing testsIndex: tests/makefile===================================================================RCS file: /home/pooma/Repository/r2/src/IO/tests/makefile,vretrieving revision 1.28diff -c -2 -p -r1.28 makefile*** tests/makefile      2001/09/14 23:13:41     1.28--- tests/makefile      2001/09/18 19:26:39*************** run_tests: tests*** 46,51 ****        $(ODIR)/DiskLayoutTest1 $(TSTOPTS) 1>DiskLayoutTest1.out 2>&1        $(ODIR)/FileSetWriter $(TSTOPTS) 1>FileSetWriter.out 2>&1  ! tests:: $(ODIR)/DiskLayoutTest1 $(ODIR)/FileSetWriter    ###########################--- 46,52 ----        $(ODIR)/DiskLayoutTest1 $(TSTOPTS) 1>DiskLayoutTest1.out 2>&1        $(ODIR)/FileSetWriter $(TSTOPTS) 1>FileSetWriter.out 2>&1+       $(ODIR)/MetaTokenIteratorTest1 $(TSTOPTS) 1>MetaTokenIteratorTest1.out 2>&1  ! tests:: $(ODIR)/DiskLayoutTest1 $(ODIR)/FileSetWriter $(ODIR)/MetaTokenIteratorTest1    ###########################*************** FileSetWriter: $(ODIR)/FileSetWriter*** 63,66 ****--- 64,74 ----    $(ODIR)/FileSetWriter: $(ODIR)/FileSetWriter.o+       $(LinkToSuite)+ + .PHONY: MetaTokenIteratorTest1+ + MetaTokenIteratorTest1: $(ODIR)/MetaTokenIteratorTest1+ + $(ODIR)/MetaTokenIteratorTest1: $(ODIR)/MetaTokenIteratorTest1.o        $(LinkToSuite)