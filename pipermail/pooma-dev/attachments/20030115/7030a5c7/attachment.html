<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;[BUG]&nbsp;ScalarCode&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;Arrays&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;I&nbsp;don't&nbsp;think&nbsp;this&nbsp;makes&nbsp;sense.&nbsp;Engine&nbsp;is&nbsp;about&nbsp;data&nbsp;storage,&nbsp;not&nbsp;about&nbsp;spatial&nbsp;stuff,&nbsp;guards,&nbsp;etc.,&nbsp;so&nbsp;I&nbsp;don't&nbsp;think&nbsp;it&nbsp;should&nbsp;have&nbsp;anything&nbsp;but&nbsp;&quot;domain()&quot;.&nbsp;&nbsp;Of&nbsp;course,&nbsp;I&nbsp;would&nbsp;say&nbsp;the&nbsp;same&nbsp;thing&nbsp;about&nbsp;Array&nbsp;-&nbsp;I&nbsp;don't&nbsp;know&nbsp;when&nbsp;Array&nbsp;acquired&nbsp;a&nbsp;physicalDomain().&nbsp;I'm&nbsp;sure&nbsp;this&nbsp;was&nbsp;to&nbsp;simplify&nbsp;some&nbsp;generic&nbsp;code,&nbsp;but&nbsp;this&nbsp;could&nbsp;have&nbsp;been&nbsp;done&nbsp;with&nbsp;traits&nbsp;without&nbsp;making&nbsp;an&nbsp;unnecessary&nbsp;expansion&nbsp;of&nbsp;Array's&nbsp;interface.&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Anyway,&nbsp;that's&nbsp;my&nbsp;2&nbsp;cents,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Richard&nbsp;Guenther&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:rguenth@tat.physik.uni-tuebingen.de&quot;&gt;mailto:rguenth@tat.physik.uni-tuebingen.de&lt;/A&gt;]&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Wednesday,&nbsp;January&nbsp;15,&nbsp;2003&nbsp;6:56&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;pooma-dev@pooma.codesourcery.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[pooma-dev]&nbsp;[BUG]&nbsp;ScalarCode&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;Arrays&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi!&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Due&nbsp;to&nbsp;the&nbsp;mess&nbsp;(it&nbsp;seems&nbsp;to&nbsp;me...)&nbsp;of&nbsp;the&nbsp;different&nbsp;domain()&nbsp;access&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;functions&nbsp;for&nbsp;Arrays&nbsp;and&nbsp;Fields&nbsp;(namely&nbsp;physicalDomain()&nbsp;having&nbsp;different&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;semantics),&nbsp;ScalarCode&nbsp;does&nbsp;not&nbsp;work&nbsp;for&nbsp;Arrays.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;To&nbsp;summarize:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Array.domain()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;engine.domain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;layout-&gt;domain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Array.physicalDomain()&nbsp;-&gt;&nbsp;engine.domain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;layout-&gt;domain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Array.totalDomain()&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;engine.domain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;layout-&gt;domain()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Field.domain()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;fieldEngine.physicalDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(effectively)&nbsp;layout-&gt;innerDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Field.physicalDomain()&nbsp;-&gt;&nbsp;fieldEngine.physicalDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(effectively)&nbsp;layout-&gt;innerDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Field.totalDomain()&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;fieldEngine.totalDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(effectively)&nbsp;layout-&gt;baseDomain()&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;but&nbsp;all&nbsp;those&nbsp;dependend&nbsp;on&nbsp;centering&nbsp;(i.e.&nbsp;vertex&nbsp;vs.&nbsp;cell&nbsp;domains)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Layout.domain()&nbsp;==&nbsp;Layout.baseDomain()&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;So&nbsp;I&nbsp;propose&nbsp;to&nbsp;make&nbsp;Engine's&nbsp;domain&nbsp;access&nbsp;interface&nbsp;match&nbsp;FieldEngine's,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;i.e.&nbsp;add&nbsp;Engine-&gt;physicalDomain(),&nbsp;make&nbsp;Array.physicalDomain()&nbsp;call&nbsp;that&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;return&nbsp;Layout-&gt;innerDomain()&nbsp;for&nbsp;this.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Other&nbsp;suggestions?&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Thanks,&nbsp;Richard.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Richard&nbsp;Guenther&nbsp;&lt;richard.guenther@uni-tuebingen.de&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;WWW:&nbsp;&lt;A&nbsp;HREF=&quot;http://www.tat.physik.uni-tuebingen.de/~rguenth/&quot;&nbsp;TARGET=&quot;_blank&quot;&gt;http://www.tat.physik.uni-tuebingen.de/~rguenth/&lt;/A&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
