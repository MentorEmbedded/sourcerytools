<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;UserFunction&nbsp;question&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Actually,&nbsp;no.&nbsp;&nbsp;The&nbsp;expression&nbsp;below&nbsp;will&nbsp;be&nbsp;evaluated&nbsp;with&nbsp;a&nbsp;loop:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;for(i&nbsp;=&nbsp;...&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;Big2(i)&nbsp;=&nbsp;F.operator()(Big1(i));&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;UserFunction&nbsp;was&nbsp;create&nbsp;to&nbsp;work&nbsp;within&nbsp;expressions&nbsp;efficiently.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;As&nbsp;the&nbsp;other&nbsp;response&nbsp;pointed&nbsp;out,&nbsp;it's&nbsp;more&nbsp;efficient&nbsp;to&nbsp;just&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;return&nbsp;the&nbsp;result:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inline&nbsp;InnerType_t&amp;&nbsp;operator(&nbsp;const&nbsp;InnerType_t&amp;&nbsp;t&nbsp;)&nbsp;const&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;t&nbsp;*&nbsp;t;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;(You&nbsp;can&nbsp;have&nbsp;local&nbsp;data&nbsp;in&nbsp;the&nbsp;functor,&nbsp;but&nbsp;it&nbsp;might&nbsp;not&nbsp;do&nbsp;what&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;you&nbsp;want&nbsp;in&nbsp;parallel.&nbsp;&nbsp;If&nbsp;the&nbsp;arrays&nbsp;are&nbsp;multipatch,&nbsp;then&nbsp;each&nbsp;piece&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;of&nbsp;the&nbsp;expression&nbsp;has&nbsp;its&nbsp;own&nbsp;copy&nbsp;of&nbsp;the&nbsp;user's&nbsp;functor&nbsp;object.)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;Stephen&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Renato&nbsp;Fernandes&nbsp;Cantão&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:cantao@ime.unicamp.br&quot;&gt;mailto:cantao@ime.unicamp.br&lt;/A&gt;]&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Monday,&nbsp;September&nbsp;02,&nbsp;2002&nbsp;4:09&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;Pooma&nbsp;Dev&nbsp;List&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[pooma-dev]&nbsp;UserFunction&nbsp;question&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;Big2&nbsp;=&nbsp;F(&nbsp;Big1&nbsp;);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;}&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;F&nbsp;runs&nbsp;through&nbsp;Big1,&nbsp;applies&nbsp;Operation.operator()&nbsp;in&nbsp;each&nbsp;Big1(&nbsp;i&nbsp;)&nbsp;--&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;2D&nbsp;Array's&nbsp;with&nbsp;10000&nbsp;elements&nbsp;each&nbsp;--&nbsp;and&nbsp;finally&nbsp;*copies*&nbsp;the&nbsp;result&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;to&nbsp;Big2(&nbsp;i&nbsp;).&nbsp;Correct?&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
