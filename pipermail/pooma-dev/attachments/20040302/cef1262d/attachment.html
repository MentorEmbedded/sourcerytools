<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2653.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;AltView*&nbsp;classes&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Hi&nbsp;all,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Jeffrey's&nbsp;email&nbsp;shook&nbsp;a&nbsp;few&nbsp;more&nbsp;things&nbsp;loose.&nbsp;:)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Yes,&nbsp;more&nbsp;classes&nbsp;means&nbsp;more&nbsp;parse&nbsp;time,&nbsp;but&nbsp;the&nbsp;issue&nbsp;was&nbsp;link&nbsp;time.&nbsp;The&nbsp;Blanca&nbsp;folk&nbsp;did&nbsp;explicit&nbsp;instantiation&nbsp;of&nbsp;as&nbsp;much&nbsp;stuff&nbsp;as&nbsp;they&nbsp;could.&nbsp;My&nbsp;recollection&nbsp;was&nbsp;that&nbsp;without&nbsp;explicit&nbsp;instantiation,&nbsp;there&nbsp;was&nbsp;a&nbsp;link-time&nbsp;compile&nbsp;for&nbsp;every&nbsp;view&nbsp;in&nbsp;every&nbsp;file&nbsp;that&nbsp;took&nbsp;a&nbsp;view,&nbsp;or&nbsp;something&nbsp;like&nbsp;that.&nbsp;There&nbsp;was&nbsp;a&nbsp;problem&nbsp;doing&nbsp;implicit&nbsp;instantiation&nbsp;of&nbsp;the&nbsp;views&nbsp;themselves,&nbsp;though&nbsp;I&nbsp;don't&nbsp;remember&nbsp;what&nbsp;the&nbsp;issue&nbsp;was.&nbsp;The&nbsp;solution&nbsp;was&nbsp;to&nbsp;move&nbsp;the&nbsp;enum&nbsp;into&nbsp;the&nbsp;AltView&nbsp;class&nbsp;and&nbsp;explicitly&nbsp;instantiate&nbsp;all&nbsp;of&nbsp;these.&nbsp;With&nbsp;this&nbsp;addition,&nbsp;the&nbsp;linker&nbsp;always&nbsp;found&nbsp;the&nbsp;sv&nbsp;variable&nbsp;and&nbsp;no&nbsp;additional&nbsp;link-time&nbsp;compile&nbsp;was&nbsp;needed.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;This&nbsp;is&nbsp;obviously&nbsp;coming&nbsp;from&nbsp;some&nbsp;pretty&nbsp;rusty&nbsp;neurons,&nbsp;but&nbsp;I&nbsp;believe&nbsp;this&nbsp;is&nbsp;the&nbsp;crux&nbsp;of&nbsp;the&nbsp;issue.&nbsp;For&nbsp;large&nbsp;codes,&nbsp;POOMA&nbsp;is&nbsp;a&nbsp;pig&nbsp;at&nbsp;link/compile&nbsp;time&nbsp;(depending&nbsp;on&nbsp;the&nbsp;instantiation&nbsp;model)&nbsp;and&nbsp;there&nbsp;were&nbsp;various&nbsp;possibly&nbsp;non-obvious&nbsp;factorings&nbsp;made&nbsp;along&nbsp;the&nbsp;way&nbsp;in&nbsp;order&nbsp;to&nbsp;try&nbsp;to&nbsp;keep&nbsp;this&nbsp;under&nbsp;control.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;------------------------------------------------------------------------&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;James&nbsp;A.&nbsp;Crotinger&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jimc@numerix.com&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;NumeriX,&nbsp;LLC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phone:&nbsp;&nbsp;(505)&nbsp;424-4477&nbsp;x104&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;2960&nbsp;Rodeo&nbsp;Park&nbsp;Dr.&nbsp;W.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Santa&nbsp;Fe,&nbsp;NM&nbsp;87505&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;From:&nbsp;Richard&nbsp;Guenther&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:rguenth@tat.physik.uni-tuebingen.de&quot;&gt;mailto:rguenth@tat.physik.uni-tuebingen.de&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Sent:&nbsp;Tuesday,&nbsp;March&nbsp;02,&nbsp;2004&nbsp;9:54&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To:&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Cc:&nbsp;James&nbsp;Crotinger;&nbsp;'pooma-dev@pooma.codesourcery.com'&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[pooma-dev]&nbsp;AltView*&nbsp;classes&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;James&nbsp;Crotinger&nbsp;wrote:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;Hi&nbsp;Richard,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;This&nbsp;tickled&nbsp;a&nbsp;neuron&nbsp;the&nbsp;other&nbsp;day,&nbsp;but&nbsp;I&nbsp;couldn't&nbsp;recall&nbsp;the&nbsp;details.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;The&nbsp;AltView&nbsp;classes&nbsp;were&nbsp;put&nbsp;in&nbsp;to&nbsp;reduce&nbsp;link&nbsp;times&nbsp;and&nbsp;sizes&nbsp;for&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;large&nbsp;codes.&nbsp;The&nbsp;classes&nbsp;that&nbsp;have&nbsp;enums&nbsp;end&nbsp;up&nbsp;having&nbsp;a&nbsp;link-time&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;cost,&nbsp;both&nbsp;in&nbsp;space&nbsp;and&nbsp;time.&nbsp;I&nbsp;believe&nbsp;this&nbsp;refactoring&nbsp;was&nbsp;done&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;reduce&nbsp;the&nbsp;cardinality&nbsp;of&nbsp;classes&nbsp;having&nbsp;the&nbsp;&quot;sv&quot;&nbsp;enum.&nbsp;My&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;recollection&nbsp;is&nbsp;that&nbsp;this,&nbsp;and&nbsp;other&nbsp;similar&nbsp;&quot;optimizations&quot;,&nbsp;had&nbsp;a&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;pretty&nbsp;substantial&nbsp;impact&nbsp;on&nbsp;link-time&nbsp;for&nbsp;Blanca.&nbsp;Unless&nbsp;these&nbsp;are&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&gt;&nbsp;hurting&nbsp;something&nbsp;else,&nbsp;I&nbsp;would&nbsp;tend&nbsp;to&nbsp;leave&nbsp;them&nbsp;in.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;It&nbsp;seems&nbsp;they&nbsp;are&nbsp;only&nbsp;used&nbsp;for&nbsp;return&nbsp;type&nbsp;creation&nbsp;which&nbsp;hinted&nbsp;me&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;that&nbsp;it&nbsp;may&nbsp;have&nbsp;beed&nbsp;a&nbsp;compiler&nbsp;bug&nbsp;workaround&nbsp;(so&nbsp;does&nbsp;the&nbsp;CVS&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;histroy).&nbsp;&nbsp;As&nbsp;an&nbsp;optimization&nbsp;this&nbsp;looks&nbsp;worthless&nbsp;at&nbsp;it&nbsp;just&nbsp;adds&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;classes&nbsp;to&nbsp;parse.&nbsp;No?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;The&nbsp;POOMA&nbsp;CVS&nbsp;repository&nbsp;history&nbsp;goes&nbsp;back&nbsp;to&nbsp;at&nbsp;least&nbsp;1998&nbsp;March.&nbsp;&nbsp;For&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;example,&nbsp;see&nbsp;the&nbsp;log&nbsp;for&nbsp;src/Array/Array.h.&nbsp;&nbsp;This&nbsp;log&nbsp;gives&nbsp;an&nbsp;entry&nbsp;for&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;AltView0&nbsp;and&nbsp;AltView1Implementation:&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;revision&nbsp;1.141&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;date:&nbsp;2001/05/25&nbsp;17:42:48;&nbsp;&nbsp;author:&nbsp;oldham;&nbsp;&nbsp;state:&nbsp;Exp;&nbsp;&nbsp;lines:&nbsp;+47&nbsp;-6&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;branches:&nbsp;&nbsp;1.141.4;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;2001-05-25&nbsp;&nbsp;Jeffrey&nbsp;D.&nbsp;Oldham&nbsp;&lt;oldham@codesourcery.com&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Array/Array.h&nbsp;(View0):&nbsp;Modify&nbsp;initial&nbsp;comment&nbsp;to&nbsp;indicate&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changes&nbsp;should&nbsp;also&nbsp;be&nbsp;made&nbsp;to&nbsp;AltView0.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(AltView0):&nbsp;New&nbsp;class&nbsp;to&nbsp;avoid&nbsp;explicit&nbsp;instantiation&nbsp;problems.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;The&nbsp;same&nbsp;comment&nbsp;is&nbsp;above&nbsp;the&nbsp;classes&nbsp;in&nbsp;the&nbsp;source,&nbsp;but&nbsp;it's&nbsp;not&nbsp;very&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;helpful&nbsp;in&nbsp;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;what&nbsp;these&nbsp;problems&nbsp;are/were.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;It's&nbsp;in&nbsp;my&nbsp;tree&nbsp;now,&nbsp;so&nbsp;I&nbsp;won't&nbsp;forget&nbsp;about&nbsp;it&nbsp;at&nbsp;least&nbsp;until&nbsp;the&nbsp;next&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;treediff&nbsp;to&nbsp;CVS.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Richard.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
