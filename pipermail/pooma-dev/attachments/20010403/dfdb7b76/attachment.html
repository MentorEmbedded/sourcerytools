<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;RE:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;your&nbsp;particle&nbsp;BC&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Actually,&nbsp;I&nbsp;think&nbsp;destroy&nbsp;will&nbsp;take&nbsp;quite&nbsp;a&nbsp;variety&nbsp;of&nbsp;domain&nbsp;representations.&nbsp;For&nbsp;example,&nbsp;it&nbsp;will&nbsp;take&nbsp;a&nbsp;pair&nbsp;of&nbsp;iterators&nbsp;into&nbsp;a&nbsp;list:&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;(from&nbsp;Engine/tests/dynamic_test2.cpp)&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;kill_array[8]&nbsp;=&nbsp;{0,&nbsp;1,&nbsp;5,&nbsp;6,&nbsp;7,&nbsp;14,&nbsp;18,&nbsp;19};&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;C.destroy(kill_array,&nbsp;kill_array+8,&nbsp;BackFill());&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;It&nbsp;will&nbsp;also&nbsp;take&nbsp;our&nbsp;regular&nbsp;domain&nbsp;objects.&nbsp;IndirectionList&nbsp;is&nbsp;used&nbsp;internally&nbsp;(for&nbsp;its&nbsp;shallow&nbsp;copy&nbsp;semantics,&nbsp;I&nbsp;think),&nbsp;but&nbsp;I&nbsp;do&nbsp;not&nbsp;recommend&nbsp;that&nbsp;users&nbsp;use&nbsp;it&nbsp;-&nbsp;it&nbsp;really&nbsp;wasn't&nbsp;designed&nbsp;to&nbsp;be&nbsp;an&nbsp;all-purpose&nbsp;user-friendly&nbsp;class.&nbsp;(It&nbsp;is&nbsp;easy&nbsp;to&nbsp;get&nbsp;bitten&nbsp;by&nbsp;its&nbsp;shallow&nbsp;copy&nbsp;semantics,&nbsp;IMHO).&nbsp;I&nbsp;guess&nbsp;I'd&nbsp;tend&nbsp;to&nbsp;use&nbsp;a&nbsp;std::vector&nbsp;for&nbsp;these&nbsp;things,&nbsp;but&nbsp;I'd&nbsp;have&nbsp;to&nbsp;see&nbsp;the&nbsp;real&nbsp;application&nbsp;to&nbsp;understand&nbsp;if&nbsp;that&nbsp;is&nbsp;correct.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Jim&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;---------------------------------------------------&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;James&nbsp;A.&nbsp;Crotinger&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Software&nbsp;Research&nbsp;Scientist&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Proximation,&nbsp;LLC&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;&nbsp;&nbsp;Steve&nbsp;Nolen&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:drnuke@lanl.gov&quot;&gt;mailto:drnuke@lanl.gov&lt;/A&gt;]&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;&nbsp;&nbsp;Tuesday,&nbsp;April&nbsp;03,&nbsp;2001&nbsp;10:41&nbsp;AM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cummings@cacr.caltech.edu&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Cc:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pooma&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[pooma-dev]&nbsp;RE:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;your&nbsp;particle&nbsp;BC&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;if&nbsp;one&nbsp;of&nbsp;the&nbsp;destroy&nbsp;or&nbsp;sync&nbsp;functions&nbsp;accepted&nbsp;a&nbsp;list&nbsp;or&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;vector&nbsp;of&nbsp;integers&nbsp;denoting&nbsp;which&nbsp;particles&nbsp;to&nbsp;destroy.&nbsp;&nbsp;the&nbsp;conversion&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;an&nbsp;IndirectionList&nbsp;(or&nbsp;even&nbsp;a&nbsp;DynamicArray&nbsp;for&nbsp;this&nbsp;matter)&nbsp;is&nbsp;just&nbsp;a&nbsp;little&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;too&nbsp;much&nbsp;pooma&nbsp;for&nbsp;the&nbsp;casual&nbsp;user.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;From:&nbsp;Julian&nbsp;C.&nbsp;Cummings&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:cummings@cacr.caltech.edu&quot;&gt;mailto:cummings@cacr.caltech.edu&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Sent:&nbsp;Monday,&nbsp;April&nbsp;02,&nbsp;2001&nbsp;6:26&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To:&nbsp;Steve&nbsp;Nolen&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Subject:&nbsp;RE:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;your&nbsp;particle&nbsp;BC&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&lt;snip&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;To&nbsp;assign&nbsp;a&nbsp;particle&nbsp;to&nbsp;the&nbsp;destroy&nbsp;list,&nbsp;use&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;deferredDestroy()&nbsp;method.&nbsp;&nbsp;The&nbsp;first&nbsp;argument&nbsp;is&nbsp;a&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Domain&nbsp;describing&nbsp;the&nbsp;particle(s)&nbsp;to&nbsp;be&nbsp;added&nbsp;to&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;the&nbsp;list,&nbsp;and&nbsp;the&nbsp;second&nbsp;is&nbsp;a&nbsp;local&nbsp;patch&nbsp;id&nbsp;number&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;(if&nbsp;this&nbsp;is&nbsp;a&nbsp;local&nbsp;particle&nbsp;destroy).&nbsp;&nbsp;For&nbsp;a&nbsp;single&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;particle,&nbsp;the&nbsp;Domain&nbsp;will&nbsp;be&nbsp;an&nbsp;int&nbsp;or&nbsp;a&nbsp;Loc&lt;1&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;containing&nbsp;the&nbsp;local&nbsp;index&nbsp;number&nbsp;of&nbsp;the&nbsp;particle,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;and&nbsp;the&nbsp;patchID&nbsp;says&nbsp;which&nbsp;local&nbsp;patch&nbsp;has&nbsp;this&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;particle.&nbsp;&nbsp;Particles&nbsp;on&nbsp;the&nbsp;destroy&nbsp;list&nbsp;are&nbsp;not&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;destroyed&nbsp;until&nbsp;you&nbsp;call&nbsp;performDestroy()&nbsp;(or&nbsp;it&nbsp;gets&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;called&nbsp;by&nbsp;the&nbsp;sync()&nbsp;method).&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;If&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;do&nbsp;this&nbsp;repeatedly,&nbsp;you&nbsp;might&nbsp;want&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;to&nbsp;create&nbsp;your&nbsp;own&nbsp;temporary&nbsp;destroy&nbsp;list.&nbsp;&nbsp;Create&nbsp;a&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;DynamicArray&nbsp;of&nbsp;ints&nbsp;to&nbsp;store&nbsp;the&nbsp;indices&nbsp;of&nbsp;local&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;particles&nbsp;to&nbsp;be&nbsp;destroyed&nbsp;on&nbsp;a&nbsp;particular&nbsp;local&nbsp;patch.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Call&nbsp;the&nbsp;create()&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;new&nbsp;element&nbsp;for&nbsp;each&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;particle&nbsp;to&nbsp;be&nbsp;destroyed.&nbsp;&nbsp;Then&nbsp;assign&nbsp;the&nbsp;local&nbsp;index&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;number&nbsp;of&nbsp;the&nbsp;particle&nbsp;to&nbsp;that&nbsp;element&nbsp;in&nbsp;your&nbsp;destroy&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;list.&nbsp;&nbsp;Once&nbsp;your&nbsp;destroy&nbsp;list&nbsp;is&nbsp;complete,&nbsp;you&nbsp;must&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;convert&nbsp;it&nbsp;into&nbsp;an&nbsp;IndirectionList&lt;int&gt;.&nbsp;&nbsp;The&nbsp;destroy&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;functions&nbsp;only&nbsp;accept&nbsp;domain&nbsp;types&nbsp;as&nbsp;descriptors&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;the&nbsp;set&nbsp;of&nbsp;particles&nbsp;to&nbsp;be&nbsp;destroyed,&nbsp;so&nbsp;you&nbsp;must&nbsp;use&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;the&nbsp;IndirectionList&nbsp;here.&nbsp;&nbsp;IndirectionList&nbsp;has&nbsp;a&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;constructor&nbsp;which&nbsp;takes&nbsp;a&nbsp;1D&nbsp;Array&nbsp;as&nbsp;its&nbsp;argument.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Now&nbsp;you&nbsp;can&nbsp;call&nbsp;either&nbsp;deferredDestroy&nbsp;(to&nbsp;destroy&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;later&nbsp;on)&nbsp;or&nbsp;destroy&nbsp;(to&nbsp;do&nbsp;it&nbsp;now)&nbsp;and&nbsp;pass&nbsp;it&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;IndirectionList&nbsp;and&nbsp;the&nbsp;local&nbsp;patchID.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;DynamicArray&lt;int&gt;&nbsp;kill;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;kill.create(1);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;kill(0)&nbsp;=&nbsp;i;&nbsp;&nbsp;//&nbsp;add&nbsp;particle&nbsp;i&nbsp;to&nbsp;list&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;IndirectionList&lt;int&gt;&nbsp;klist(kill);&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&nbsp;Neutrons.destroy(klist,patch);&nbsp;&nbsp;//&nbsp;destroy&nbsp;particles&nbsp;in&nbsp;klist&nbsp;on&nbsp;patch&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;&gt;&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
