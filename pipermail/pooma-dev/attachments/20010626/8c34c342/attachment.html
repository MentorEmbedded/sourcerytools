<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;5.5.2650.12&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[pooma-dev]&nbsp;Problems&nbsp;running&nbsp;in&nbsp;parallel&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Dave,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Almost&nbsp;all&nbsp;the&nbsp;of&nbsp;tests&nbsp;in&nbsp;NewField/tests&nbsp;create&nbsp;fields&nbsp;that&nbsp;are&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;distributed&nbsp;in&nbsp;parallel.&nbsp;&nbsp;Running&nbsp;ExpressionTest&nbsp;and&nbsp;StencilTests&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;with&nbsp;-shmem&nbsp;-np&nbsp;4&nbsp;verifies&nbsp;that&nbsp;you&nbsp;are&nbsp;running&nbsp;on&nbsp;top&nbsp;of&nbsp;Cheetah&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;correctly.&nbsp;&nbsp;FieldTour1&nbsp;creates&nbsp;a&nbsp;layout&nbsp;with&nbsp;ReplicatedTag()&nbsp;instead&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;of&nbsp;LayoutTag_t(),&nbsp;which&nbsp;is&nbsp;why&nbsp;it&nbsp;fails&nbsp;(the&nbsp;test&nbsp;has&nbsp;a&nbsp;bug).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;If&nbsp;you&nbsp;based&nbsp;your&nbsp;parallel&nbsp;code&nbsp;on&nbsp;FieldTour1,&nbsp;verify&nbsp;that&nbsp;you&nbsp;are&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;using&nbsp;Remote&lt;Brick&gt;&nbsp;or&nbsp;Remote&lt;CompressibleBrick&gt;&nbsp;as&nbsp;the&nbsp;patch&nbsp;tag,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;DistributeTag()&nbsp;as&nbsp;the&nbsp;tag&nbsp;used&nbsp;to&nbsp;initialize&nbsp;the&nbsp;layout.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;The&nbsp;fact&nbsp;that&nbsp;you&nbsp;are&nbsp;not&nbsp;getting&nbsp;reproducible&nbsp;results&nbsp;is&nbsp;disturbing.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Could&nbsp;you&nbsp;compile&nbsp;with&nbsp;--bounds&nbsp;as&nbsp;well&nbsp;as&nbsp;--messaging&nbsp;to&nbsp;verify&nbsp;that&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;enough&nbsp;guard&nbsp;layers&nbsp;are&nbsp;used&nbsp;everywhere?&nbsp;&nbsp;If&nbsp;the&nbsp;code&nbsp;still&nbsp;runs&nbsp;without&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;errors,&nbsp;then&nbsp;we&nbsp;probably&nbsp;have&nbsp;a&nbsp;problem&nbsp;with&nbsp;the&nbsp;evaluation&nbsp;somewhere.&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;A&nbsp;useful&nbsp;serial&nbsp;test&nbsp;would&nbsp;be&nbsp;to&nbsp;compile&nbsp;with&nbsp;&quot;--sched&nbsp;serialAsync&quot;&nbsp;which&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;uses&nbsp;data-flow&nbsp;evaluation&nbsp;on&nbsp;one&nbsp;processor.&nbsp;&nbsp;If&nbsp;you&nbsp;see&nbsp;problems&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;with&nbsp;serialAsync,&nbsp;then&nbsp;we&nbsp;would&nbsp;know&nbsp;that&nbsp;the&nbsp;error&nbsp;is&nbsp;coming&nbsp;from&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;some&nbsp;basic&nbsp;ordering&nbsp;problem&nbsp;(like&nbsp;boundary&nbsp;conditions).&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;Stephen&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;-----Original&nbsp;Message-----&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;From:&nbsp;Dave&nbsp;Nystrom&nbsp;[&lt;A&nbsp;HREF=&quot;mailto:wdn@lanl.gov&quot;&gt;mailto:wdn@lanl.gov&lt;/A&gt;]&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Sent:&nbsp;Monday,&nbsp;June&nbsp;25,&nbsp;2001&nbsp;10:22&nbsp;PM&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;To:&nbsp;pooma-dev&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Subject:&nbsp;[pooma-dev]&nbsp;Problems&nbsp;running&nbsp;in&nbsp;parallel&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;John&nbsp;and&nbsp;I&nbsp;are&nbsp;trying&nbsp;to&nbsp;get&nbsp;our&nbsp;stuff&nbsp;running&nbsp;in&nbsp;parallel&nbsp;and&nbsp;we&nbsp;are&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;having&nbsp;runtime&nbsp;problems.&nbsp;&nbsp;We&nbsp;are&nbsp;using&nbsp;KCC-4.0e&nbsp;with&nbsp;the&nbsp;4.0f&nbsp;prelinker&nbsp;on&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;RedHat&nbsp;Linux&nbsp;7.1.&nbsp;&nbsp;We&nbsp;are&nbsp;using&nbsp;Cheetah&nbsp;1.0&nbsp;sitting&nbsp;on&nbsp;top&nbsp;of&nbsp;mm-1.1.1&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;i.e.&nbsp;we&nbsp;used&nbsp;--shmem&nbsp;--nompi&nbsp;on&nbsp;the&nbsp;Cheetah&nbsp;configure&nbsp;script.&nbsp;&nbsp;We&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;successfully&nbsp;ran&nbsp;the&nbsp;tests&nbsp;for&nbsp;mm&nbsp;and&nbsp;Cheetah.&nbsp;&nbsp;We&nbsp;built&nbsp;Pooma&nbsp;2&nbsp;using&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;--messaging&nbsp;option&nbsp;to&nbsp;select&nbsp;the&nbsp;use&nbsp;of&nbsp;Cheetah.&nbsp;&nbsp;We&nbsp;built&nbsp;tests&nbsp;in&nbsp;the&nbsp;Array&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;and&nbsp;NewField&nbsp;directory&nbsp;and&nbsp;ran&nbsp;them.&nbsp;&nbsp;For&nbsp;these&nbsp;tests,&nbsp;we&nbsp;were&nbsp;doing&nbsp;debug&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;builds&nbsp;with&nbsp;KCC&nbsp;without&nbsp;exceptions&nbsp;and&nbsp;for&nbsp;the&nbsp;Cheetah&nbsp;case.&nbsp;&nbsp;We&nbsp;ran&nbsp;about&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;half&nbsp;of&nbsp;the&nbsp;Array&nbsp;tests&nbsp;and&nbsp;they&nbsp;all&nbsp;reported&nbsp;passing.&nbsp;&nbsp;We&nbsp;ran&nbsp;all&nbsp;of&nbsp;the&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;tests&nbsp;for&nbsp;the&nbsp;NewField&nbsp;case&nbsp;and&nbsp;all&nbsp;passed&nbsp;except&nbsp;one.&nbsp;&nbsp;The&nbsp;one&nbsp;that&nbsp;failed&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;was&nbsp;FieldTour1&nbsp;which&nbsp;is&nbsp;the&nbsp;only&nbsp;one&nbsp;that&nbsp;seemed&nbsp;to&nbsp;have&nbsp;any&nbsp;Cheetah&nbsp;specific&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;code&nbsp;in&nbsp;it.&nbsp;&nbsp;The&nbsp;command&nbsp;line&nbsp;that&nbsp;we&nbsp;were&nbsp;using&nbsp;was:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FieldTour1&nbsp;-shmem&nbsp;-np&nbsp;4&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Also,&nbsp;the&nbsp;following&nbsp;command&nbsp;line&nbsp;failed:&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FieldTour1&nbsp;-shmem&nbsp;-np&nbsp;1&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;How&nbsp;should&nbsp;we&nbsp;proceed&nbsp;on&nbsp;this?&nbsp;&nbsp;Are&nbsp;there&nbsp;examples&nbsp;in&nbsp;the&nbsp;Pooma&nbsp;2&nbsp;source&nbsp;tree&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;which&nbsp;demonstrate&nbsp;how&nbsp;to&nbsp;use&nbsp;the&nbsp;NewField&nbsp;Fields&nbsp;in&nbsp;parallel&nbsp;that&nbsp;we&nbsp;can&nbsp;look&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;at?&nbsp;&nbsp;Are&nbsp;there&nbsp;any&nbsp;Pooma&nbsp;2&nbsp;tests&nbsp;that&nbsp;exercise&nbsp;running&nbsp;in&nbsp;parallel&nbsp;that&nbsp;pass?&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;John&nbsp;and&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;get&nbsp;our&nbsp;stuff&nbsp;running&nbsp;in&nbsp;parallel&nbsp;before&nbsp;I&nbsp;leave&nbsp;for&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;vacation.&nbsp;&nbsp;Right&nbsp;now,&nbsp;we&nbsp;only&nbsp;have&nbsp;3&nbsp;more&nbsp;days&nbsp;in&nbsp;which&nbsp;our&nbsp;schedules&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;overlap.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also,&nbsp;it&nbsp;turns&nbsp;out&nbsp;that&nbsp;John&nbsp;used&nbsp;the&nbsp;FieldTour1.cpp&nbsp;example&nbsp;as&nbsp;a&nbsp;guide&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;for&nbsp;building&nbsp;our&nbsp;Fields&nbsp;for&nbsp;the&nbsp;parallel&nbsp;case.&nbsp;&nbsp;When&nbsp;we&nbsp;run&nbsp;our&nbsp;test&nbsp;problem,&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;we&nbsp;are&nbsp;getting&nbsp;some&nbsp;pretty&nbsp;strange&nbsp;behavior&nbsp;-&nbsp;it&nbsp;seems&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;even&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;getting&nbsp;reproducible&nbsp;results&nbsp;from&nbsp;one&nbsp;run&nbsp;to&nbsp;the&nbsp;next&nbsp;and&nbsp;only&nbsp;about&nbsp;half&nbsp;of&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;the&nbsp;field&nbsp;is&nbsp;getting&nbsp;the&nbsp;correct&nbsp;answer.&nbsp;&nbsp;Our&nbsp;test&nbsp;problems&nbsp;run&nbsp;correctly&nbsp;for&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;the&nbsp;serial&nbsp;case&nbsp;i.e.&nbsp;no&nbsp;Cheetah&nbsp;and&nbsp;CompressibleBrick.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;--&nbsp;&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;Dave&nbsp;Nystrom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;email:&nbsp;wdn@lanl.gov&lt;/FONT&gt;<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&gt;LANL&nbsp;X-3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phone:&nbsp;505-667-7913&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fax:&nbsp;505-665-3046&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
