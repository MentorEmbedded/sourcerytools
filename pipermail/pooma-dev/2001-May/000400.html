<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pooma-dev] docbook overview
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20%5Bpooma-dev%5D%20docbook%20overview&In-Reply-To=%3Cmailman.28.1331172043.20475.pooma-dev%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000379.html">
   <LINK REL="Next"  HREF="000380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pooma-dev] docbook overview</H1>
    <B>Scott Haney</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20%5Bpooma-dev%5D%20docbook%20overview&In-Reply-To=%3Cmailman.28.1331172043.20475.pooma-dev%40codesourcery.com%3E"
       TITLE="[pooma-dev] docbook overview">scotth at proximation.com
       </A><BR>
    <I>Fri May 25 14:57:32 UTC 2001</I>
    <P><UL>
        <LI>Previous message: <A HREF="000379.html">docbook overview
</A></li>
        <LI>Next message: <A HREF="000380.html">[pooma-dev] RFA: DomainIterator.h: Add DomainTraits Specializ	ation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Allan,

I have a few questions and concerns.

Is it clear that HTML with CSS will not work for us?

I ask because there are some very nice WYSIWYG HTML editors like 
Dreamweaver that make things a lot easier than even something like 
LaTeX, given that we're not doing a lot of equations. Also, the world 
seems to be moving to XML and good tools are rapidly being developed to 
support this. I hope that we can focus on content and leave it to tools 
to figure out how to program a table or a list. I'd also hate for us to 
invest a lot in SGML just as people are moving away from it.

This said, I think your points are quite valid in general and maybe, in 
practice, DocBook is a little less scary than it sounds from your 
message. Therefore, I look forward to your report.

Scott

On Thursday, May 24, 2001, at 05:57 AM, Allan Stokes wrote:

&gt;<i>
</I>&gt;<i> Hello everyone,
</I>&gt;<i>
</I>&gt;<i> Back at the Proximation meeting it was suggested that the Pooma
</I>&gt;<i> documentation be prepared in DocBook format.  Not everyone there was
</I>&gt;<i> familiar with DocBook so I'd like to take a few minutes to describe 
</I>&gt;<i> DocBook
</I>&gt;<i> and the authoring process so everyone understands the document format.
</I>&gt;<i>
</I>&gt;<i> About ten years ago SGML (Generalized Markup Language) became an 
</I>&gt;<i> official
</I>&gt;<i> standard for document markup.  This is an extremely rich structure which
</I>&gt;<i> does not lend itself to simple applications.  For example, in SGML you 
</I>&gt;<i> can
</I>&gt;<i> redeclare the characters which function as markup delimiters.  There 
</I>&gt;<i> isn't
</I>&gt;<i> much you take for granted without a full parse.
</I>&gt;<i>
</I>&gt;<i> HTML is a simplified language which includes a subset of all possible 
</I>&gt;<i> SGML
</I>&gt;<i> documents.  The HTML subset was designed to exclude SGML mechanisms 
</I>&gt;<i> which
</I>&gt;<i> complicate parsing so that HTML documents would be simple to read and
</I>&gt;<i> process.
</I>&gt;<i>
</I>&gt;<i> Unfortunately, the markup elements included in HTML conflate structure 
</I>&gt;<i> with
</I>&gt;<i> layout.  Tags such as &lt;p&gt; and &lt;ul&gt; express paragraph and list document
</I>&gt;<i> elements.  But you also find stuff like this (as on the Pooma.com home
</I>&gt;<i> page):
</I>&gt;<i>
</I>&gt;<i> &lt;table width=&quot;100%&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;
</I>&gt;<i> &lt;tr bgcolor=&quot;#E5D5C4&quot;&gt;
</I>&gt;<i> &lt;/tr&gt;
</I>&gt;<i> &lt;/table&gt;
</I>&gt;<i>
</I>&gt;<i> The table structure and the visual presentation are hopelessly mangled
</I>&gt;<i> together.  This makes HTML a poor choice for creating portable 
</I>&gt;<i> documents.
</I>&gt;<i>
</I>&gt;<i> TeX also suffers from unnatural commingling, which is one of several 
</I>&gt;<i> reasons
</I>&gt;<i> people find TeX unpleasant to use.  In the case of TeX, the problem was
</I>&gt;<i> partly addressed by creating LaTeX as a document language.  LaTeX 
</I>&gt;<i> allows the
</I>&gt;<i> author to describe the structure of the document directly and (mostly) 
</I>&gt;<i> keeps
</I>&gt;<i> the visual mechanics behind the curtains.
</I>&gt;<i>
</I>&gt;<i> DocBook was invented to solve the same problem with HTML: separating
</I>&gt;<i> structure from presentation.  The structure DocBook describes is 
</I>&gt;<i> everything
</I>&gt;<i> you might want to put in a book.
</I>&gt;<i>
</I>&gt;<i> Here is a small scrap which I created while testing my DocBook tools to 
</I>&gt;<i> give
</I>&gt;<i> the flavour of the notation.
</I>&gt;<i>
</I>&gt;<i> &lt;!DOCTYPE Book PUBLIC &quot;-//OASIS//DTD DocBook V4.1//EN&quot;&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;book&gt;
</I>&gt;<i>   &lt;bookinfo&gt;
</I>&gt;<i>     &lt;title&gt;Allan's First DocBook Book&lt;/title&gt;
</I>&gt;<i>     &lt;author&gt;
</I>&gt;<i>       &lt;firstname&gt;Allan&lt;/firstname&gt;
</I>&gt;<i>       &lt;surname&gt;Stokes&lt;/surname&gt;
</I>&gt;<i>     &lt;/author&gt;
</I>&gt;<i>     &lt;copyright&gt;
</I>&gt;<i>       &lt;year&gt;2001&lt;/year&gt;
</I>&gt;<i>       &lt;holder&gt;Allan Stokes&lt;/holder&gt;
</I>&gt;<i>     &lt;/copyright&gt;
</I>&gt;<i>   &lt;/bookinfo&gt;
</I>&gt;<i>   &lt;preface&gt;
</I>&gt;<i>     &lt;title&gt;Foreward&lt;/title&gt;
</I>&gt;<i>     &lt;para&gt;I survived PSGML.&lt;/para&gt;
</I>&gt;<i>   &lt;/preface&gt;
</I>&gt;<i>   &lt;chapter&gt;
</I>&gt;<i>     &lt;title&gt;chapters MUST have a title&lt;/title&gt;
</I>&gt;<i>     &lt;para&gt;The location of the PSGML tutorial is www.lysator.liu.se
</I>&gt;<i>     &lt;/para&gt;
</I>&gt;<i>     &lt;para&gt;And so it goes.
</I>&gt;<i>     &lt;/para&gt;
</I>&gt;<i>   &lt;/chapter&gt;
</I>&gt;<i> &lt;/book&gt;
</I>&gt;<i>
</I>&gt;<i> This is a valid SGML document.  The first line declares the document 
</I>&gt;<i> data
</I>&gt;<i> type (DTD) which governs the structure of the rest of the document.  
</I>&gt;<i> The DTD
</I>&gt;<i> formally defines what markup elements are legal, required, optional, 
</I>&gt;<i> etc.
</I>&gt;<i>
</I>&gt;<i> If you run this scrap through a formal SGML validator, the validator 
</I>&gt;<i> will be
</I>&gt;<i> able to tell you if your document obeys the rules imposed by the DTD.  
</I>&gt;<i> This
</I>&gt;<i> fragment references the DocBook DTD for DocBook version 4.1.
</I>&gt;<i>
</I>&gt;<i> With this background I can now define what DocBook is.  DocBook is an 
</I>&gt;<i> SGML
</I>&gt;<i> DTD.  Presently the DocBook DTD is about 300,000 characters of SGML in 
</I>&gt;<i> SGML
</I>&gt;<i> DTD syntax which defines the vast majority of document elements which 
</I>&gt;<i> any
</I>&gt;<i> technical book might wish to include.  O'Reilly has published high 
</I>&gt;<i> quality
</I>&gt;<i> technical books directly from DocBook sources.
</I>&gt;<i>
</I>&gt;<i> DocBook is also used for electronic documentation.  The Linux 
</I>&gt;<i> Documentation
</I>&gt;<i> Project (LDP) has standardized on DocBook, and FreeBSD is in the 
</I>&gt;<i> process of
</I>&gt;<i> converting much of their own online documentation into DocBook format.  
</I>&gt;<i> The
</I>&gt;<i> tools required to work with DocBook are now standard components on many 
</I>&gt;<i> of
</I>&gt;<i> these platforms, so DocBook has become exceptionally portable.
</I>&gt;<i>
</I>&gt;<i> A common stumbling block in understanding DocBook is that DocBook itself
</I>&gt;<i> provides no tools.  DocBook is an SGML DTD.  The DocBook DTD is 
</I>&gt;<i> essentially
</I>&gt;<i> an SGML document in its own right.  (In the SGML world, everything is a
</I>&gt;<i> document.  When you have a hammer ...)
</I>&gt;<i>
</I>&gt;<i> The core tool for working with DocBook is the SGML validator.  A formal 
</I>&gt;<i> SGML
</I>&gt;<i> validator parses the DTD to determine the rules which govern the 
</I>&gt;<i> document
</I>&gt;<i> instance which follows.  The validator will tell you if your DocBook
</I>&gt;<i> document is a legal document.  In the purest sense, DocBook defines a 
</I>&gt;<i> subset
</I>&gt;<i> of all possible SGML documents as being legal DocBook documents.  The
</I>&gt;<i> semantics of the markup are defined by the tools used in the 
</I>&gt;<i> postproduction.
</I>&gt;<i>
</I>&gt;<i> All DocBook gives us is a structure for composing well-formed 
</I>&gt;<i> documents.  We
</I>&gt;<i> need to address the issue of publishing the document separately.
</I>&gt;<i>
</I>&gt;<i> To do this you need an SGML processor which is capable of converting the
</I>&gt;<i> DocBook source document into a backend format.  There are many tools out
</I>&gt;<i> there which can manipulate SGML so there are many ways to publish a 
</I>&gt;<i> DocBook
</I>&gt;<i> document.  In the non-commercial world, DocBook publishing is usually 
</I>&gt;<i> done
</I>&gt;<i> with Jade (a free tool written by James Clark).
</I>&gt;<i>
</I>&gt;<i> Jade comes with a set of standard stylesheets for a variety of backend
</I>&gt;<i> formats.  The quality of output is quite acceptable using the default
</I>&gt;<i> stylesheets.  It is unlikely that we will wish to make any changes to 
</I>&gt;<i> the
</I>&gt;<i> standard stylesheets for publishing the Pooma documentation.  You can
</I>&gt;<i> typically use Jade without having to deal with much of Jade's 
</I>&gt;<i> complexity.
</I>&gt;<i> But I'll describe Jade anyway.
</I>&gt;<i>
</I>&gt;<i> There are a variety of standards for specifying stylesheets.  Jade 
</I>&gt;<i> supports
</I>&gt;<i> the DSSSL standard.  DSSSL stylesheets are written in a Scheme-like
</I>&gt;<i> language.  DSSSL processing reminds me of Pooma.  The DocBook document 
</I>&gt;<i> is an
</I>&gt;<i> SGML tree structure (much like a Pooma template expression), and DSSSL
</I>&gt;<i> behaves like an expression template which walks the tree structure and
</I>&gt;<i> transforms it (decorates, trims, etc.) into a new tree structure, then
</I>&gt;<i> finally you flatten the whole thing for output (e.g. evaluate).
</I>&gt;<i>
</I>&gt;<i> DSSSL is a functional language which iterates via tail recursion.  A 
</I>&gt;<i> DSSSL
</I>&gt;<i> stylesheet, surprise, is itself a valid SGML document.  (It is even 
</I>&gt;<i> possible
</I>&gt;<i> to use Jade to transform DSSSL stylesheets into other DSSSL stylesheets.
</I>&gt;<i> It's this kind of thing which gives DSSSL a cult reputation.  Let go of 
</I>&gt;<i> your
</I>&gt;<i> mouse and back away quietly.)
</I>&gt;<i>
</I>&gt;<i> The primary backend formats supported by Jade are HTML, RTF, TeX.  The 
</I>&gt;<i> TeX
</I>&gt;<i> produced by Jade is suitable for conversion into high quality 
</I>&gt;<i> Postscript or
</I>&gt;<i> PDF.
</I>&gt;<i>
</I>&gt;<i> Jade is easy enough to use, but configuring Jade involves a couple of
</I>&gt;<i> frustrating steps.  SGML contains several methods of indirection which 
</I>&gt;<i> are
</I>&gt;<i> used extensively to modularize the implementation of the DocBook DTD 
</I>&gt;<i> and the
</I>&gt;<i> DSSSL stylesheets.  Most SGML entities are reference via public 
</I>&gt;<i> identifiers
</I>&gt;<i> (as opposed to host filenames).  Most SGML tools resolve the public
</I>&gt;<i> identifiers by searching site-local files called catalogs.  The catalog
</I>&gt;<i> files supply local mappings to names which can be resolved on the local 
</I>&gt;<i> file
</I>&gt;<i> system.  Most SGML toolsets expect the catalog configuration to be done
</I>&gt;<i> manually before all the SGML magic will work.
</I>&gt;<i>
</I>&gt;<i> Invoking Jade with the right combinations of stylesheets and backend 
</I>&gt;<i> formats
</I>&gt;<i> is moderately tricky as well.
</I>&gt;<i>
</I>&gt;<i> The &quot;DocBook Definitive Guide&quot; presents a solution to this problem which
</I>&gt;<i> demonstrates typical DSSSL trickery.  A DSSSL stylesheet is an SGML 
</I>&gt;<i> document
</I>&gt;<i> whose structure is defined by a DSSSL DTD.  What they do is modify the
</I>&gt;<i> standard DSSSL DTD to allow annotations to be placed inside the DSSSL
</I>&gt;<i> stylesheet which define what combinations of stylesheets and backends 
</I>&gt;<i> are
</I>&gt;<i> appropriate.  Then they supply a Perl script which uses Jade to look 
</I>&gt;<i> inside
</I>&gt;<i> the DSSSL stylesheet to find the annotations which govern how the 
</I>&gt;<i> backend
</I>&gt;<i> format specified on the command line should be produced.
</I>&gt;<i>
</I>&gt;<i> The whole thing is slick when it works, but initially you get a severe 
</I>&gt;<i> dose
</I>&gt;<i> of abstraction shock trying to figure out which bit of syntax functions 
</I>&gt;<i> at
</I>&gt;<i> what level.
</I>&gt;<i>
</I>&gt;<i> I have most of this stuff working in my own environment.  Once I figure 
</I>&gt;<i> out
</I>&gt;<i> how I accomplished this feat I think it would be a good idea to 
</I>&gt;<i> document my
</I>&gt;<i> Jade configuration and publishing process.  Perhaps these notes would be
</I>&gt;<i> suitable for a web page somewhere on pooma.com.  (Is that stuff under 
</I>&gt;<i> source
</I>&gt;<i> control?)
</I>&gt;<i>
</I>&gt;<i> The final piece of the puzzle is the authoring process.
</I>&gt;<i>
</I>&gt;<i> Generally, everything I've found on the web about authoring DocBook 
</I>&gt;<i> applies
</I>&gt;<i> to emacs.  emacs has a psgml package which defines a major mode for 
</I>&gt;<i> editing
</I>&gt;<i> DocBook documents.  psgml defines several menus and many keystrokes for
</I>&gt;<i> applying syntax directed markup.  When you load your DocBook document, 
</I>&gt;<i> psgml
</I>&gt;<i> parses the DocBook DTD to determine the required markup structure for 
</I>&gt;<i> your
</I>&gt;<i> document.  It will prompt you on legal completions when you get lost in
</I>&gt;<i> tricky annotations.
</I>&gt;<i>
</I>&gt;<i> It also has hooks to run external SGML validators to find errors in your
</I>&gt;<i> markup.  You can also automate the process of publishing your documents
</I>&gt;<i> using Jade by commands invoked from within emacs.  There are also a 
</I>&gt;<i> number
</I>&gt;<i> of commercial applications which provide the same capabilities (syntax
</I>&gt;<i> directed editing of SGML documents).
</I>&gt;<i>
</I>&gt;<i> psgml is a generic setup.  I discovered that I needed to apply a number 
</I>&gt;<i> of
</I>&gt;<i> tweaks to emacs to make the configuration usable.  For example, psgml
</I>&gt;<i> doesn't necessarily know how you have your catalog files set up when
</I>&gt;<i> invoking external tools.
</I>&gt;<i>
</I>&gt;<i> Maintaining an existing DocBook document manually (e.g. without setting 
</I>&gt;<i> up
</I>&gt;<i> psgml) is not much worse than maintaining HTML manually.  However, I 
</I>&gt;<i> doubt
</I>&gt;<i> anyone would want to crank new material without the support of something
</I>&gt;<i> like psgml.
</I>&gt;<i>
</I>&gt;<i> There's another aspect of DocBook which I should mention briefly because
</I>&gt;<i> many of the web materials talk about it.  So far I've described the SGML
</I>&gt;<i> version of DocBook and the tools appropriate for publishing SGML DocBook
</I>&gt;<i> (Jade/DSSSL).
</I>&gt;<i>
</I>&gt;<i> There is also a parallel version of DocBook in XML format.  XML is also 
</I>&gt;<i> an
</I>&gt;<i> SGML language, simplified even more than HTML.  The SGML version of 
</I>&gt;<i> DocBook
</I>&gt;<i> is slightly more human friendly so most people write in the SGML 
</I>&gt;<i> dialect.
</I>&gt;<i> The interconversion is mechanical.
</I>&gt;<i>
</I>&gt;<i> Jade and DSSSL are mature tools (with many limitations) which are no 
</I>&gt;<i> longer
</I>&gt;<i> being aggressively developed, in part because DSSSL/Scheme is regarded 
</I>&gt;<i> as
</I>&gt;<i> overkill.
</I>&gt;<i>
</I>&gt;<i> The ongoing work is mostly in the XML camp now.  XML defines several
</I>&gt;<i> different stylesheets languages (e.g. CSS) and different transformation
</I>&gt;<i> tools (e.g. XSL/XSLT).  When browsers fully support HTML/CSS it will be
</I>&gt;<i> possible to publish XML DocBook documents directly to the web.  The web
</I>&gt;<i> browser will do the presentation directly from the style sheet.
</I>&gt;<i>
</I>&gt;<i> The XML version of DocBook uses an XML syntax for declaring the DocBook 
</I>&gt;<i> DTD.
</I>&gt;<i> If I understand the situation correctly, the XML syntax is slightly less
</I>&gt;<i> expressive than the SGML syntax, so the two DocBook DTDs are not 
</I>&gt;<i> presently
</I>&gt;<i> formally equivalent.  The next major version of DocBook is supposed to
</I>&gt;<i> address this issue.
</I>&gt;<i>
</I>&gt;<i> The XML tools at this point are mostly experimental.  Within the next 
</I>&gt;<i> few
</I>&gt;<i> years it is anticipated that the new XML model will largely supplant the
</I>&gt;<i> Jade/DSSSL process.  It will be a different way of publishing the same
</I>&gt;<i> source documents.
</I>&gt;<i>
</I>&gt;<i> I hope that gives people a good overview of what DocBook is, where it is
</I>&gt;<i> going, and how the process fits together.  Once I finish collecting my
</I>&gt;<i> installation notes I'll set up my document framework for the Pooma 
</I>&gt;<i> concepts.
</I>&gt;<i>
</I>&gt;<i> Allan
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000379.html">docbook overview
</A></li>
	<LI>Next message: <A HREF="000380.html">[pooma-dev] RFA: DomainIterator.h: Add DomainTraits Specializ	ation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#400">[ date ]</a>
              <a href="thread.html#400">[ thread ]</a>
              <a href="subject.html#400">[ subject ]</a>
              <a href="author.html#400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
