<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pooma-dev] KCC versus icc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20%5Bpooma-dev%5D%20KCC%20versus%20icc&In-Reply-To=%3C3E5C28A4.6090702%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001216.html">
   <LINK REL="Next"  HREF="001218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pooma-dev] KCC versus icc</H1>
    <B>Jeffrey Oldham</B> 
    <A HREF="mailto:pooma-dev%40codesourcery.com?Subject=Re%3A%20%5Bpooma-dev%5D%20KCC%20versus%20icc&In-Reply-To=%3C3E5C28A4.6090702%40codesourcery.com%3E"
       TITLE="[pooma-dev] KCC versus icc">oldham at codesourcery.com
       </A><BR>
    <I>Wed Feb 26 02:38:28 UTC 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="001216.html">KCC versus icc
</A></li>
        <LI>Next message: <A HREF="001218.html">[pooma-dev] KCC versus icc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1217">[ date ]</a>
              <a href="thread.html#1217">[ thread ]</a>
              <a href="subject.html#1217">[ subject ]</a>
              <a href="author.html#1217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paul A. Renard wrote:
&gt;<i> Hope I'm asking the correct crowd...
</I>&gt;<i> 
</I>&gt;<i> Given the following:
</I>&gt;<i> 
</I>&gt;<i>  const int N=128;
</I>&gt;<i>  Array&lt;2,complex&lt;float&gt; &gt; u(N,N);
</I>&gt;<i>  Iota&lt;2&gt;::Iota_t ij(iota(u.domain());
</I>&gt;<i>  Iota&lt;2&gt;::Index_t I(ij.comp(0));
</I>&gt;<i>  Iota&lt;2&gt;::Index_t J(ij.comp(1));
</I>&gt;<i>  Array&lt;1,complex&lt;float&gt; &gt; cx(N), cy(N);
</I>&gt;<i> 
</I>&gt;<i>  // Values for u, cx, cy are filled elsewhere.
</I>&gt;<i> 
</I>&gt;<i>  // Then the following is called:
</I>&gt;<i>  void compute(){
</I>&gt;<i>   u *= cx(I)*cy(J);    // runs 4X slower with icc than KCC
</I>&gt;<i>  }
</I>&gt;<i> 
</I>&gt;<i>  When I time this routine, I find that it runs about 4X slower when 
</I>&gt;<i> compiled with Intel's icc (Version 7, -O3 -DNOPAssert -DNOCTASSERT) than 
</I>&gt;<i> with KCC (version 4.0f, +K3 -DNOPAssert, -DNOCTAssert).  As expected, 
</I>&gt;<i> the KCC version runs as fast as hand-written loops.
</I>&gt;<i> 
</I>&gt;<i> Do others observe this same sluggish behavior with icc?  Am I missing 
</I>&gt;<i> some obvious compile flag? 
</I>&gt;<i> 
</I>&gt;<i> thanks
</I>&gt;<i> Paul
</I>
This is the first such report on icc's bad behavior.  Perhaps someone 
else will have some idea.

Arch Robison (<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">robison at kai.com</A>) moved to work on icc.  He would probably 
be interested in the smallest test case you can construct.  If you send 
him information, would you please consider ccing me?

Thanks,
Jeffrey D. Oldham
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">oldham at codesourcery.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001216.html">KCC versus icc
</A></li>
	<LI>Next message: <A HREF="001218.html">[pooma-dev] KCC versus icc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1217">[ date ]</a>
              <a href="thread.html#1217">[ thread ]</a>
              <a href="subject.html#1217">[ subject ]</a>
              <a href="author.html#1217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/pooma-dev">More information about the pooma-dev
mailing list</a><br>
</body></html>
