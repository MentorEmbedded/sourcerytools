<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [power-gnu-discuss] Support for the MPC5554 (e200z6 core)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:power-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bpower-gnu-discuss%5D%20Support%20for%20the%20MPC5554%20%28e200z6%20core%29&In-Reply-To=%3C4A261CBE.1080006%40westcontrol.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000035.html">
   <LINK REL="Next"  HREF="000037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[power-gnu-discuss] Support for the MPC5554 (e200z6 core)</H1>
    <B>David Brown</B> 
    <A HREF="mailto:power-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bpower-gnu-discuss%5D%20Support%20for%20the%20MPC5554%20%28e200z6%20core%29&In-Reply-To=%3C4A261CBE.1080006%40westcontrol.com%3E"
       TITLE="[power-gnu-discuss] Support for the MPC5554 (e200z6 core)">david at westcontrol.com
       </A><BR>
    <I>Wed Jun  3 06:48:30 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000035.html">[power-gnu-discuss] Support for the MPC5554 (e200z6 core)
</A></li>
        <LI>Next message: <A HREF="000037.html">Debugger hardware for for the MPC5554 (e200z6 core)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nathan Froyd wrote:
&gt;<i> On Tue, Jun 02, 2009 at 11:59:02PM +0200, David Brown wrote:
</I>&gt;&gt;<i> Nathan Froyd wrote:
</I>&gt;&gt;&gt;<i> GCC does support generating SPE instructions for hardware floating
</I>&gt;&gt;&gt;<i> point.  You need to compile with the &quot;-te500v1&quot; flag, which enables the
</I>&gt;&gt;&gt;<i> compiler to use single-precision floating-point SPE instructions.  You
</I>&gt;&gt;&gt;<i> should not use additional &quot;-mcpu=&quot; flags on the command-line along with
</I>&gt;&gt;&gt;<i> &quot;-te500v1&quot;.
</I>&gt;&gt;<i> Marvellous!  This looks like gcc is now generating exactly the code I 
</I>&gt;&gt;<i> want - SPE instructions for single precision, and library code for 
</I>&gt;&gt;<i> double precision (unless -fshort-double is in effect).
</I>&gt;<i> 
</I>&gt;<i> Glad to hear it.
</I>&gt;<i> 
</I>&gt;&gt;<i> I can't see the -te500v1 flag documented anywhere - is it a new flag 
</I>&gt;&gt;<i> that hasn't yet made it into the documentation?
</I>&gt;<i> 
</I>&gt;<i> The flag is at least mentioned in the Getting Started Guide that comes
</I>&gt;<i> with each release, although I see that the documentation for the option
</I>&gt;<i> is rather sparse (e.g. no mention is made of generating SPE instructions
</I>&gt;<i> for -te500v1).  We'll work on fixing that.
</I>&gt;<i> 
</I>
Yes, I see it now in section &quot;3.1 library configurations&quot;.  As you say, 
it's a little sparse.  I can't see it anywhere in the gcc documentation 
itself (the usual reference for flags).  If it's practical, it could be 
extremely useful if you were able to make a list of PowerPC devices and 
the appropriate flags to match these cores.  It's not always easy to 
tell from the Freescale webpages what core each device has, and what the 
difference is, and to then match it up with appropriate compiler flags 
(especially if they are not standard &quot;-mcpu=&quot; flags, and barely 
documented!).  It doesn't help that Freescale gives different cores what 
appear to be a minor revision change (like e300c2 and ec300c3), yet 
there are huge differences in the core features.

Ideally, of course, there should be a lot more -mcpu= choices to cover 
all the devices.  But I'd imagine a list of devices, cores, and flags 
would be faster to write and easier to maintain, and give users all the 
information they need.

Many thanks,

David


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000035.html">[power-gnu-discuss] Support for the MPC5554 (e200z6 core)
</A></li>
	<LI>Next message: <A HREF="000037.html">Debugger hardware for for the MPC5554 (e200z6 core)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/power-gnu-discuss">More information about the power-gnu-discuss
mailing list</a><br>
</body></html>
