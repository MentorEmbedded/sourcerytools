<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mips-tls] A couple of potential changes to the MIPS TLS ABI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mips-tls%40codesourcery.com?Subject=Re%3A%20%5Bmips-tls%5D%20A%20couple%20of%20potential%20changes%20to%20the%20MIPS%20TLS%20ABI&In-Reply-To=%3C41FFE191.8090603%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000018.html">
   <LINK REL="Next"  HREF="000020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mips-tls] A couple of potential changes to the MIPS TLS ABI</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:mips-tls%40codesourcery.com?Subject=Re%3A%20%5Bmips-tls%5D%20A%20couple%20of%20potential%20changes%20to%20the%20MIPS%20TLS%20ABI&In-Reply-To=%3C41FFE191.8090603%40codesourcery.com%3E"
       TITLE="[mips-tls] A couple of potential changes to the MIPS TLS ABI">mark at codesourcery.com
       </A><BR>
    <I>Tue Feb  1 20:07:45 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000018.html">[mips-tls] A couple of potential changes to the MIPS TLS ABI
</A></li>
        <LI>Next message: <A HREF="000020.html">[mips-tls] A couple of potential changes to the MIPS TLS ABI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19">[ date ]</a>
              <a href="thread.html#19">[ thread ]</a>
              <a href="subject.html#19">[ subject ]</a>
              <a href="author.html#19">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Daniel Jacobowitz wrote:
&gt;<i> On Tue, Feb 01, 2005 at 02:10:50AM -0800, Michael Uhler wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>The one area that I'm concerned about is the use of rdhwr to return the
</I>&gt;&gt;<i>pointer.  There are several reasons why I'm not sure this is the right thing
</I>&gt;&gt;<i>to do:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm getting a lot of conflicting feedback about this.
</I>
 From our point of view, we've already got a validated implementation 
using rdhwr.  We'd like to avoid having to rework our code and then 
revalidate.

Realistically, if rdhwr isn't officially blessed, some vendors might 
still use our implementation.  Or, things might just languish.  In other 
words, I'm somewhat afraid that we've missed the technical window to 
debate this particular technical point.

As Dan says, the new MIPS ABI can do better in this regard, as in 
others.  Furthermore, if the kernel adds a syscall that can be used by 
the o32 ABI, then the tools can be updated to work with that too.  I 
think the only immutable aspect of this existing design is that if/once 
our implementation escapes into the wild, then kernels forevermore may 
have to support the rdhwr solution, even if most programs no longer use 
it.  I think that's a relatively small price to pay to get NPTL working 
on MIPS.

-- 
Mark Mitchell
CodeSourcery, LLC
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/mips-tls">mark at codesourcery.com</A>
(916) 791-8304

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000018.html">[mips-tls] A couple of potential changes to the MIPS TLS ABI
</A></li>
	<LI>Next message: <A HREF="000020.html">[mips-tls] A couple of potential changes to the MIPS TLS ABI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19">[ date ]</a>
              <a href="thread.html#19">[ thread ]</a>
              <a href="subject.html#19">[ subject ]</a>
              <a href="author.html#19">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/mips-tls">More information about the mips-tls
mailing list</a><br>
</body></html>
