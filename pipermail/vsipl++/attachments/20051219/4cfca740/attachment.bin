
Index: benchmarks/GNUmakefile.inc.in
===================================================================
RCS file: /home/cvs/Repository/vpp/benchmarks/GNUmakefile.inc.in,v
retrieving revision 1.2
diff -c -p -r1.2 GNUmakefile.inc.in
*** benchmarks/GNUmakefile.inc.in	13 Dec 2005 20:35:54 -0000	1.2
--- benchmarks/GNUmakefile.inc.in	19 Dec 2005 18:56:52 -0000
*************** benchmarks_cxx_exes    := $(patsubst $(s
*** 30,36 ****
  benchmarks_cxx_tests   := $(patsubst $(srcdir)/%.cpp, %.test,		\
                                       $(benchmarks_cxx_sources))
  
! benchmarks_cxx_exes_special   := benchmarks/main$(EXEEXT)
  benchmarks_cxx_exes_def_build := $(filter-out $(benchmarks_cxx_exes_special), \
                                                $(benchmarks_cxx_exes)) 
  
--- 30,43 ----
  benchmarks_cxx_tests   := $(patsubst $(srcdir)/%.cpp, %.test,		\
                                       $(benchmarks_cxx_sources))
  
! benchmarks_cxx_exes_ipp	:= benchmarks/conv_ipp$(EXEEXT)			\
! 	benchmarks/fft_ipp$(EXEEXT) benchmarks/fft_ext_ipp$(EXEEXT)	\
! 	benchmarks/vmul_ipp$(EXEEXT)
! 
! benchmarks_cxx_exes_lapack := benchmarks/qrd$(EXEEXT)
! 
! benchmarks_cxx_exes_special   := benchmarks/main$(EXEEXT) 	\
! 	$(benchmarks_cxx_exes_ipp) $(benchmarks_cxx_exes_lapack)
  benchmarks_cxx_exes_def_build := $(filter-out $(benchmarks_cxx_exes_special), \
                                                $(benchmarks_cxx_exes)) 
  
*************** cxx_sources += $(benchmarks_cxx_sources)
*** 41,47 ****
  # Rules
  ########################################################################
  
! bench:: $(benchmarks_cxx_exec)
  
  # Object files will be deleted by the parent clean rule.
  clean::
--- 48,58 ----
  # Rules
  ########################################################################
  
! bench:: $(benchmarks_cxx_exes_def_build)
! 
! bench-ipp:: $(benchmarks_cxx_exes_ipp)
! 
! bench-lapack:: $(benchmarks_cxx_exes_lapack)
  
  # Object files will be deleted by the parent clean rule.
  clean::
*************** clean::
*** 50,58 ****
--- 61,79 ----
  $(benchmarks_cxx_exes_def_build): %$(EXEEXT) : %.$(OBJEXT) benchmarks/main.$(OBJEXT) src/vsip/libvsip.a
  	$(CXX) $(LDFLAGS) -o $@ $^ $(LIBS) || rm -f $@
  
+ $(benchmarks_cxx_exes_ipp): %$(EXEEXT) : %.$(OBJEXT) benchmarks/main.$(OBJEXT) src/vsip/libvsip.a
+ 	$(CXX) $(LDFLAGS) -o $@ $^ $(LIBS) || rm -f $@
+ 
+ $(benchmarks_cxx_exes_lapack): %$(EXEEXT) : %.$(OBJEXT) benchmarks/main.$(OBJEXT) src/vsip/libvsip.a
+ 	$(CXX) $(LDFLAGS) -o $@ $^ $(LIBS) || rm -f $@
+ 
  xyz:
  	@echo $(benchmarks_cxx_exes)
  	@echo "--------------------------------------------------"
  	@echo $(benchmarks_cxx_exes_def_build)
  	@echo "--------------------------------------------------"
+ 	@echo $(benchmarks_cxx_exes_ipp)
+ 	@echo "--------------------------------------------------"
+ 	@echo $(benchmarks_cxx_exes_fft)
+ 	@echo "--------------------------------------------------"
  	@echo $(benchmarks_cxx_exes_special)
Index: benchmarks/dot.cpp
===================================================================
RCS file: /home/cvs/Repository/vpp/benchmarks/dot.cpp,v
retrieving revision 1.1
diff -c -p -r1.1 dot.cpp
*** benchmarks/dot.cpp	12 Oct 2005 12:45:05 -0000	1.1
--- benchmarks/dot.cpp	19 Dec 2005 18:56:53 -0000
*************** struct t_dot2
*** 107,113 ****
  
      typedef typename Vector<T>::block_type block_type;
  
!     typedef impl::Evaluator<impl::Op_prod_vv, impl::Return_scalar<T>,
                              impl::Op_list_2<block_type, block_type>, ImplTag>
  		Eval;
  
--- 107,113 ----
  
      typedef typename Vector<T>::block_type block_type;
  
!     typedef impl::Evaluator<impl::Op_prod_vv_dot, impl::Return_scalar<T>,
                              impl::Op_list_2<block_type, block_type>, ImplTag>
  		Eval;
