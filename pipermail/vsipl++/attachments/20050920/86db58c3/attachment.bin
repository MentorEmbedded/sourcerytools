Index: vpp_database.py
===================================================================
RCS file: /home/cvs/Repository/vpp/tests/QMTest/vpp_database.py,v
retrieving revision 1.3
diff -u -r1.3 vpp_database.py
--- vpp_database.py	16 Sep 2005 19:10:54 -0000	1.3
+++ vpp_database.py	20 Sep 2005 19:10:55 -0000
@@ -143,11 +143,13 @@
             ids.append('compiler_table')
             
         else: # SUITE
-            ids = []
+            ids = [self.JoinLabels(directory, d)
+                   for d in self.GetSubdirectories(directory)]
 
         if scan_subdirs:
             for subdir in dircache.listdir(dirname):
-                if subdir != 'data':
+                if (subdir != 'data'
+                    and os.path.isdir(os.path.join(dirname, subdir))):
                     dir = self.JoinLabels(directory, subdir)
                     ids.extend(self.GetIds(kind, dir, True))
         return ids
@@ -175,6 +177,9 @@
         dirname = os.path.join(self.GetRoot(), *id_components[:-1])
         basename = id_components[-1]
 
+        if os.path.isdir(os.path.join(dirname, basename)):
+            return DirectorySuite(self, item_id)
+
         # If <dirname>/data is an existing directory...
         if os.path.isdir(os.path.join(dirname, 'data')):
             # ...and <basename> ends with '.cpp',...
