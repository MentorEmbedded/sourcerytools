<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [vsipl++] [patch] configure change for IPP 5.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20%5Bvsipl%2B%2B%5D%20%5Bpatch%5D%20configure%20change%20for%20IPP%205.0&In-Reply-To=%3C44F310BB.5030506%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000667.html">
   <LINK REL="Next"  HREF="000676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[vsipl++] [patch] configure change for IPP 5.0</H1>
    <B>Jules Bergmann</B> 
    <A HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20%5Bvsipl%2B%2B%5D%20%5Bpatch%5D%20configure%20change%20for%20IPP%205.0&In-Reply-To=%3C44F310BB.5030506%40codesourcery.com%3E"
       TITLE="[vsipl++] [patch] configure change for IPP 5.0">jules at codesourcery.com
       </A><BR>
    <I>Mon Aug 28 15:50:19 UTC 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000667.html">[patch] configure change for IPP 5.0
</A></li>
        <LI>Next message: <A HREF="000676.html">[vsipl++] [patch] configure change for IPP 5.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#670">[ date ]</a>
              <a href="thread.html#670">[ thread ]</a>
              <a href="subject.html#670">[ subject ]</a>
              <a href="author.html#670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Don McCoy wrote:
&gt;<i> This teaches configure about a function name change in IPP 5.0 that 
</I>&gt;<i> affected the way configure probes for the core library.  This now works 
</I>&gt;<i> for both 4.1 and 5.0.
</I>
Don,

This looks good.  Please have a look at my comment below.  If that isn't 
feasible, then please check it in.

				-- Jules


&gt;<i>      save_LDFLAGS=&quot;$LDFLAGS&quot;
</I>&gt;<i>      LDFLAGS=&quot;$LDFLAGS $IPP_LDFLAGS&quot;
</I>&gt;<i>      LIBS=&quot;-lpthread $LIBS&quot;
</I>&gt;<i> +    # IPP 4.1 uses the first version, 5.0 uses the second.
</I>&gt;<i>      AC_SEARCH_LIBS(ippCoreGetCpuType, [$ippcore_search],,
</I>&gt;<i> -      [LD_FLAGS=&quot;$save_LDFLAGS&quot;])
</I>&gt;<i> +      [
</I>&gt;<i> +        AC_SEARCH_LIBS(ippGetCpuType, [$ippcore_search],,
</I>&gt;<i> +          [LD_FLAGS=&quot;$save_LDFLAGS&quot;])
</I>&gt;<i> +      ])
</I>&gt;<i>      
</I>&gt;<i>      save_LDFLAGS=&quot;$LDFLAGS&quot;
</I>&gt;<i>      LDFLAGS=&quot;$LDFLAGS $IPP_LDFLAGS&quot;
</I>
If these are the only changes necessary to go from 4.1 to 5.0, it looks 
like they are pretty similar.

Since we don't actually use ippCoreGetCputype/ippGetCpuType in the 
library, i.e. we only use it to determine if IPP is present, is there 
another function that we could check for that is the same in both 4.1 
and 5.0?  Then our configure check would be even simpler.

					
-- 
Jules Bergmann
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/vsipl++">jules at codesourcery.com</A>
(650) 331-3385 x705

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000667.html">[patch] configure change for IPP 5.0
</A></li>
	<LI>Next message: <A HREF="000676.html">[vsipl++] [patch] configure change for IPP 5.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#670">[ date ]</a>
              <a href="thread.html#670">[ thread ]</a>
              <a href="subject.html#670">[ subject ]</a>
              <a href="author.html#670">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/vsipl++">More information about the vsipl++
mailing list</a><br>
</body></html>
