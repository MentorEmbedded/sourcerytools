<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Compile problems with reference implementation and gnu 3.4.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20Compile%20problems%20with%20reference%20implementation%20and%20gnu%203.4.5&In-Reply-To=%3CE7191752EF4FAD498FD0E968F7A7DAF70AA340%40mlbe2k5.cs.myharris.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Compile problems with reference implementation and gnu 3.4.5</H1>
    <B>Schnetzer, Everett</B> 
    <A HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20Compile%20problems%20with%20reference%20implementation%20and%20gnu%203.4.5&In-Reply-To=%3CE7191752EF4FAD498FD0E968F7A7DAF70AA340%40mlbe2k5.cs.myharris.net%3E"
       TITLE="Compile problems with reference implementation and gnu 3.4.5">eschnetz at harris.com
       </A><BR>
    <I>Wed Sep  5 12:48:53 UTC 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001162.html">[vsipl++] Compile problems with reference implementation and gnu 3.4.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1161">[ date ]</a>
              <a href="thread.html#1161">[ thread ]</a>
              <a href="subject.html#1161">[ subject ]</a>
              <a href="author.html#1161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to port the reference implementation to Windows using MinGW
and gnu 3.4.5, and the doesn't like certain static methods within
template structs. The first error encountered while building the
tests/ref-impl programs is:

g++ -DUNIT_TEST_FAILURE_PRINT \
-I../../src -I/include \
-c math-matvec.cpp -o math-matvec.o
../../src/vsip/core/matvec.hpp: In function `typename
vsip::Promotion&lt;Left, Right&gt;::type
vsip::impl::impl_dot(vsip::const_Vector&lt;T0, Block0&gt;,
vsip::const_Vector&lt;T1, Block1&gt;) [with T0 = vsip::cscalar_f, T1 =
vsip::cscalar_f, Block0 = vsip::Dense&lt;1u, vsip::cscalar_f,
vsip::tuple&lt;0u, 1u, 2u&gt;, vsip::Local_map&gt;, Block1 = const
vsip::impl::Unary_expr_block&lt;1u, vsip::impl::conj_functor,
vsip::Dense&lt;1u, vsip::cscalar_f, vsip::tuple&lt;0u, 1u, 2u&gt;,
vsip::Local_map&gt;, vsip::cscalar_f&gt;]':
../../src/vsip/core/matvec.hpp:609:   instantiated from `typename
vsip::Promotion&lt;std::complex&lt;_Tp&gt;, std::complex&lt;Right&gt; &gt;::type
vsip::cvjdot(vsip::const_Vector&lt;std::complex&lt;_Tp&gt;, Block0&gt;,
vsip::const_Vector&lt;std::complex&lt;Right&gt;, Block1&gt;) [with T0 = float, T1 =
float, Block0 = vsip::Dense&lt;1u, vsip::cscalar_f, vsip::tuple&lt;0u, 1u,
2u&gt;, vsip::Local_map&gt;, Block1 = vsip::Dense&lt;1u, vsip::cscalar_f,
vsip::tuple&lt;0u, 1u, 2u&gt;, vsip::Local_map&gt;]'
math-matvec.cpp:83:   instantiated from here
../../src/vsip/core/matvec.hpp:164: error: `exec' is not a member of
`vsip::impl::Evaluator&lt;vsip::impl::Op_prod_vv_dot,
vsip::impl::Return_scalar&lt;std::complex&lt;float&gt; &gt;,
vsip::impl::Op_list_2&lt;vsip::Dense&lt;1u, vsip::cscalar_f, vsip::tuple&lt;0u,
1u, 2u&gt;, vsip::Local_map&gt;, const vsip::impl::Unary_expr_block&lt;1u,
vsip::impl::conj_functor, vsip::Dense&lt;1u, vsip::cscalar_f,
vsip::tuple&lt;0u, 1u, 2u&gt;, vsip::Local_map&gt;, vsip::cscalar_f&gt; &gt;,
vsip::impl::Cvsip_tag&gt;'

I cannot spot any errors in the source that would lead to this error.
The compiler doesn't have this issue with the GPL version of the code,
although there seems to be similar implementation patterns in that code
as well. The error does show up in the GPL version of the tests
(matvec-prod.cpp) if I force it to use the reference version via the
VSIP_IMPL_REF_IMPL flag. So I'm stuck trying to figure out why gnu 3.4.5
doesn't like the implementations of Evaluator in core/matvec.hpp. Any
clues would be appreciated.

Sincerely,

Everett Schnetzer
Software Engineer, Harris GCSD
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/vsipl++">eschnetz at harris.com</A>
321-727-6607

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/vsipl++/attachments/20070905/c2060fef/attachment.html">http://sourcerytools.com/pipermail/vsipl++/attachments/20070905/c2060fef/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001162.html">[vsipl++] Compile problems with reference implementation and gnu 3.4.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1161">[ date ]</a>
              <a href="thread.html#1161">[ thread ]</a>
              <a href="subject.html#1161">[ subject ]</a>
              <a href="author.html#1161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/vsipl++">More information about the vsipl++
mailing list</a><br>
</body></html>
