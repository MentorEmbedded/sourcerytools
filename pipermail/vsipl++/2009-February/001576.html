<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [vsipl++] [patch] Building VSIPL++ shared libraries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20%5Bvsipl%2B%2B%5D%20%5Bpatch%5D%20Building%20VSIPL%2B%2B%20shared%20libraries&In-Reply-To=%3C49A86826.9030505%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001575.html">
   <LINK REL="Next"  HREF="001578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[vsipl++] [patch] Building VSIPL++ shared libraries</H1>
    <B>Brooks Moses</B> 
    <A HREF="mailto:vsipl%2B%2B%40codesourcery.com?Subject=Re%3A%20%5Bvsipl%2B%2B%5D%20%5Bpatch%5D%20Building%20VSIPL%2B%2B%20shared%20libraries&In-Reply-To=%3C49A86826.9030505%40codesourcery.com%3E"
       TITLE="[vsipl++] [patch] Building VSIPL++ shared libraries">brooks at codesourcery.com
       </A><BR>
    <I>Fri Feb 27 22:24:38 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001575.html">[patch] Building VSIPL++ shared libraries
</A></li>
        <LI>Next message: <A HREF="001578.html">[vsipl++] [patch] Building VSIPL++ shared libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1576">[ date ]</a>
              <a href="thread.html#1576">[ thread ]</a>
              <a href="subject.html#1576">[ subject ]</a>
              <a href="author.html#1576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jules Bergmann wrote, at 2/27/2009 2:10 PM:
&gt;<i> Ok to apply?
</I>
Given that this is indeed building multiple shared libraries, it seems
odd for the option to be '--enable-shared-lib' in the singular form, not
the plural '--enable-shared-libs'.

Also, do we want to do versioned versions of the .so files?  The usual
habit from IBM's libraries is to create library.so.X.Y.Z as the actual
library (where X.Y.Z is the version number), and install library.so.X
and library.so as symlinks to it.  They also include a linker options of
&quot;-shared -Wl,-soname=library.so.X&quot; when linking the library; the -shared
part might be redundant but the soname is probably a good idea, as it
(may) enable programs to throw helpful runtime errors if the wrong
version of the library is installed.

Also, a couple of specific comments:

&gt;<i> Index: GNUmakefile.in
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- GNUmakefile.in	(revision 236492)
</I>&gt;<i> +++ GNUmakefile.in	(working copy)
</I>&gt;<i> @@ -88,8 +88,6 @@
</I>&gt;<i>  AR := @AR@
</I>&gt;<i>  # The path to the C compiler.
</I>&gt;<i>  CC := @CC@
</I>&gt;<i> -# C compilation flags.
</I>&gt;<i> -CFLAGS := @CFLAGS@
</I>&gt;<i>  # C preprocessor flags.
</I>&gt;<i>  CPPFLAGS := @CPPFLAGS@
</I>&gt;<i>  # The path to the C compiler.
</I>
What's the purpose of this change?  It seems unrelated.

&gt;<i> +     &lt;varlistentry&gt;
</I>&gt;<i> +      &lt;term&gt;&lt;option&gt;--enable-shared-lib&lt;/option&gt;&lt;/term&gt;
</I>&gt;<i> +      &lt;listitem&gt;
</I>&gt;<i> +       &lt;para&gt;
</I>&gt;<i> +        Build shared libraries as well as static libraries.  This
</I>&gt;<i> +        requires that position independent code be generated,
</I>&gt;<i> +        which may reduce performance.
</I>&gt;<i> +       &lt;/para&gt;
</I>&gt;<i> +      &lt;/listitem&gt;
</I>&gt;<i> +     &lt;/varlistentry&gt;
</I>
Yay for updating the documentation in the same patch!  :)  This looks
good, except that that should be &quot;position-independent code&quot; with a hyphen.

- Brooks


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001575.html">[patch] Building VSIPL++ shared libraries
</A></li>
	<LI>Next message: <A HREF="001578.html">[vsipl++] [patch] Building VSIPL++ shared libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1576">[ date ]</a>
              <a href="thread.html#1576">[ thread ]</a>
              <a href="subject.html#1576">[ subject ]</a>
              <a href="author.html#1576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/vsipl++">More information about the vsipl++
mailing list</a><br>
</body></html>
