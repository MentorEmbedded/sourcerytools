<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [arm-gnu] Compiler versions other than 2009q3-68 all fail??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20Compiler%20versions%20other%20than%202009q3-68%20all%20fail%3F%3F&In-Reply-To=%3C20120202142046.14743drh9ln0vz8k%40chinstruments.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[arm-gnu] Compiler versions other than 2009q3-68 all fail??</H1>
    <B>chen at chinstruments.com</B> 
    <A HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20Compiler%20versions%20other%20than%202009q3-68%20all%20fail%3F%3F&In-Reply-To=%3C20120202142046.14743drh9ln0vz8k%40chinstruments.com%3E"
       TITLE="[arm-gnu] Compiler versions other than 2009q3-68 all fail??">chen at chinstruments.com
       </A><BR>
    <I>Thu Feb  2 20:20:46 UTC 2012</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000040.html">[arm-gnu] Compiler versions other than 2009q3-68 all fail??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have code (linked below) that only runs correctly when compiled only with arm-none-eabi version 2009q3-68; the application fails when compiled with _both newer and older versions_ of arm-none-eabi.  

The problems were observed on TI's AM1707 EVM Rev. H (ARM926EJ-S core).  The code is a bare metal application that runs the EVM board as a generic USB bulk device, with console output via serial port interrupts.  Using the same code and EVM board, different behavior is obtained when using different compiler versions (no internal compiler errors for any version):

_Older CodeSourcery versions_ (2009q1-161 and older, through 2008)

  *  Everything works fine when run from debugger, but...
  *  USB enumeration fails, but only when application is flashed to the board

_Newer CodeSourcery versions_ (2010q1-188 to 2011.09-69) 

  *  Serial port outputs as gibberish via interrupts (both from debugger and when flashed)
  *  USB enumeration fails (both from debugger and when flashed)

_CodeSourcery G++ Lite version 2009q3-68_ 

  *  Everything works correctly! 

  *  Serial port output works correctly (both from debugger and when flashed)
  *  USB enumeration and data transfer work correctly (both from debugger and when flashed)

Source code + makefile + long description 
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx?PageIndex=2#584582">http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx?PageIndex=2#584582</A>&gt; 

More on serial port regression
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/160340.aspx">http://e2e.ti.com/support/embedded/starterware/f/790/t/160340.aspx</A>&gt;

Serial port only code (no USB)
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx#570450">http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx#570450</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/arm-gnu/attachments/20120202/c8621cf1/attachment.html">http://sourcerytools.com/pipermail/arm-gnu/attachments/20120202/c8621cf1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000040.html">[arm-gnu] Compiler versions other than 2009q3-68 all fail??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">More information about the arm-gnu
mailing list</a><br>
</body></html>
