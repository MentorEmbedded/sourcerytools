<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [arm-gnu] (no subject)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20%28no%20subject%29&In-Reply-To=%3C385dc3c78d3cfeb44ce49de2d813426d.squirrel%40chinstruments.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000043.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[arm-gnu] (no subject)</H1>
    <B>chen at chinstruments.com</B> 
    <A HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20%28no%20subject%29&In-Reply-To=%3C385dc3c78d3cfeb44ce49de2d813426d.squirrel%40chinstruments.com%3E"
       TITLE="[arm-gnu] (no subject)">chen at chinstruments.com
       </A><BR>
    <I>Fri Feb  3 15:25:56 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000043.html">[arm-gnu] Compiler versions other than 2009q3-68 all fail??
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41">[ date ]</a>
              <a href="thread.html#41">[ thread ]</a>
              <a href="subject.html#41">[ subject ]</a>
              <a href="author.html#41">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>resend again as plain text (no html or attachment)

---------------------------- Original Message ----------------------------
Subject: Compiler versions other than 2009q3-68 all fail??
Date:    Thu, February 2, 2012 2:20 pm
To:      <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">arm-gnu at codesourcery.com</A>
--------------------------------------------------------------------------

I have code (linked below) that only runs correctly when compiled only
with arm-none-eabi version 2009q3-68; the application fails when compiled
with *both newer and older versions* of arm-none-eabi.

The problems were observed on TI's AM1707 EVM Rev. H (ARM926EJ-S core).
The code is a bare metal application that runs the EVM board as a generic
USB bulk device, with console output via serial port interrupts.  Using
the same code and EVM board, different behavior is obtained when using
different compiler versions (no internal compiler errors for any version):

Older CodeSourcery versions (2009q1-161 and older, through 2008)
---------------------------
 *  Everything works fine when run from debugger, but...
 *  USB enumeration fails, but only when application is flashed to the board


Newer CodeSourcery versions (2010q1-188 to 2011.09-69)
---------------------------
 *  Serial port outputs as gibberish via interrupts (both from debugger
and when flashed)
 *  USB enumeration fails (both from debugger and when flashed)


CodeSourcery G++ Lite version 2009q3-68
---------------------------------------
 *  Everything works correctly!

 *  Serial port output works correctly (both from debugger and when flashed)
 *  USB enumeration and data transfer work correctly (both from debugger
- Hide quoted text -
and when flashed)


Source code + makefile + long description
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx?PageIndex=2#584582">http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx?PageIndex=2#584582</A>&gt;

More on serial port regression
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/160340.aspx">http://e2e.ti.com/support/embedded/starterware/f/790/t/160340.aspx</A>&gt;

Serial port only code (no USB)
&lt;<A HREF="http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx#570450">http://e2e.ti.com/support/embedded/starterware/f/790/t/151682.aspx#570450</A>&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000043.html">[arm-gnu] Compiler versions other than 2009q3-68 all fail??
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41">[ date ]</a>
              <a href="thread.html#41">[ thread ]</a>
              <a href="subject.html#41">[ subject ]</a>
              <a href="author.html#41">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">More information about the arm-gnu
mailing list</a><br>
</body></html>
