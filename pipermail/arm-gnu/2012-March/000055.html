<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [arm-gnu] [BUG]: Error: bad instruction `strhne r3,[r0]' WTF?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20%5BBUG%5D%3A%20Error%3A%20bad%20instruction%20%60strhne%20r3%2C%5Br0%5D%27%20WTF%3F&In-Reply-To=%3C4F72815E.6020301%40yandex.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000052.html">
   <LINK REL="Next"  HREF="000053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[arm-gnu] [BUG]: Error: bad instruction `strhne r3,[r0]' WTF?</H1>
    <B>pps</B> 
    <A HREF="mailto:arm-gnu%40codesourcery.com?Subject=Re%3A%20%5Barm-gnu%5D%20%5BBUG%5D%3A%20Error%3A%20bad%20instruction%20%60strhne%20r3%2C%5Br0%5D%27%20WTF%3F&In-Reply-To=%3C4F72815E.6020301%40yandex.ru%3E"
       TITLE="[arm-gnu] [BUG]: Error: bad instruction `strhne r3,[r0]' WTF?">i-love-spam at yandex.ru
       </A><BR>
    <I>Wed Mar 28 03:11:26 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000052.html">[arm-gnu] [BUG]: Error: bad instruction `strhne r3,[r0]' WTF?
</A></li>
        <LI>Next message: <A HREF="000053.html">[arm-gnu] using codesourcery light with eclipse indigo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>]
X-pstn-settings: 4 (1.5000:1.5000) s cv gt3 gt2 gt1 r p m c 
X-pstn-addresses: from &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">i-love-spam at yandex.ru</A>&gt; [db-null] 

On 26-Mar-12 11:37, Julian Brown wrote:
&gt;<i> On Mon, 26 Mar 2012 04:57:09 +0400
</I>&gt;<i> i-love-spam&lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">i-love-spam at yandex.ru</A>&gt;  wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> ]
</I>&gt;&gt;<i> X-pstn-settings: 4 (1.5000:1.5000) s cv gt3 gt2 gt1 r p m c
</I>&gt;&gt;<i> X-pstn-addresses: from&lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">i-love-spam at yandex.ru</A>&gt;  [db-null]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I simply have no explanation. It's a bug.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> here's the code:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> strhne r3,[r0]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> arm-none-eabi-gcc.exe -marm -g -D__ELF__ -mcpu=cortex-a8 -mfpu=neon
</I>&gt;&gt;<i> -c test.S -march=armv7-a -o test.S.o
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I use:
</I>&gt;&gt;<i> gcc version 4.6.1 (Sourcery CodeBench Lite 2011.09-69)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> any idea what's wrong, maybe I can use some alternative name that
</I>&gt;&gt;<i> GCC/binutils use for this opcode?
</I>&gt;<i>
</I>&gt;<i> Try using:
</I>&gt;<i>
</I>&gt;<i>    .syntax unified
</I>&gt;<i>
</I>&gt;<i> at the top of your assembly file, or write the instruction using
</I>&gt;<i> non-unified syntax as:
</I>&gt;<i>
</I>&gt;<i>    strneh r3,[r0]
</I>&gt;<i>
</I>

Hello Julian,

I'll try .syntax unified
By random luck after hours searching, I decided to try to rewrite asm 
and tried strneh instead of strhne and it worked. That's quite 
surprising that gnu assembler simply doesn't support opcode names listed 
in arm docs. At some point I also wasted some time with SAX and ASX, 
which I had to rename as addsubx and subaddx

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000052.html">[arm-gnu] [BUG]: Error: bad instruction `strhne r3,[r0]' WTF?
</A></li>
	<LI>Next message: <A HREF="000053.html">[arm-gnu] using codesourcery light with eclipse indigo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#55">[ date ]</a>
              <a href="thread.html#55">[ thread ]</a>
              <a href="subject.html#55">[ subject ]</a>
              <a href="author.html#55">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu">More information about the arm-gnu
mailing list</a><br>
</body></html>
