<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;I&nbsp;started&nbsp;implementing&nbsp;your&nbsp;suggestion,&nbsp;but&nbsp;realized&nbsp;I&nbsp;have&nbsp;to&nbsp;split&nbsp;off&nbsp;a&nbsp;piece&nbsp;of&nbsp;RAM&nbsp;for&nbsp;HWMAP,&nbsp;which&nbsp;will&nbsp;waste&nbsp;a&nbsp;considerable&nbsp;amount&nbsp;of&nbsp;RAM...unless&nbsp;I'm&nbsp;misunderstanding&nbsp;something.&nbsp;&nbsp;&lt;br&gt;What&nbsp;I&nbsp;need,&nbsp;ideally,&nbsp;&nbsp;is&nbsp;to&nbsp;reserve&nbsp;16&nbsp;bytes&nbsp;at&nbsp;an&nbsp;arbitrary&nbsp;place&nbsp;in&nbsp;the&nbsp;RAM&nbsp;space.&nbsp;&nbsp;Unfortunately,&nbsp;since&nbsp;it&nbsp;must&nbsp;be&nbsp;464&nbsp;bytes&nbsp;after&nbsp;a&nbsp;1024&nbsp;byte&nbsp;boundary,&nbsp;it&nbsp;ends&nbsp;up&nbsp;being&nbsp;&quot;in&nbsp;the&nbsp;middle&quot;&nbsp;somewhere.&nbsp;&nbsp;About&nbsp;12K&nbsp;of&nbsp;the&nbsp;96K&nbsp;is&nbsp;global&nbsp;or&nbsp;statically&nbsp;assigned,&nbsp;and&nbsp;the&nbsp;rest&nbsp;is&nbsp;allocated&nbsp;dynamically&nbsp;in&nbsp;fairly&nbsp;large&nbsp;chunks&nbsp;using&nbsp;a&nbsp;proprietary&nbsp;allocation&nbsp;system.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;I&nbsp;had&nbsp;no&nbsp;idea&nbsp;this&nbsp;would&nbsp;be&nbsp;so&nbsp;difficult,&nbsp;but&nbsp;apparently&nbsp;GCC&nbsp;doesn't&nbsp;make&nbsp;this&nbsp;easy,&nbsp;unlike&nbsp;other&nbsp;compilers.&nbsp;&nbsp;Since&nbsp;I'm&nbsp;using&nbsp;the&nbsp;lite&nbsp;(free)&nbsp;compiler,&nbsp;buying&nbsp;one&nbsp;really&nbsp;isn't&nbsp;an&nbsp;option&nbsp;for&nbsp;hobby&nbsp;use.<br>
&nbsp;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Alexander&nbsp;Zakharov&nbsp;&lt;azakharov@uniserve.com&gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;tom_usenet@optusnet.com.au;&nbsp;'JM'&nbsp;&lt;hondgm@yahoo.com&gt;&nbsp;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;arm-gnu@codesourcery.com&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Thursday,&nbsp;April&nbsp;5,&nbsp;2012&nbsp;3:24&nbsp;AM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;RE:&nbsp;[arm-gnu]&nbsp;Placing&nbsp;variable&nbsp;at&nbsp;absolute&nbsp;address&nbsp;in&nbsp;RAM&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;<br>
This&nbsp;is&nbsp;what&nbsp;I&nbsp;used&nbsp;in&nbsp;a&nbsp;past:&lt;br&gt;&lt;br&gt;In&nbsp;linker&nbsp;&nbsp;'helper'&nbsp;file&nbsp;hwmap.ld&lt;br&gt;&lt;br&gt;............&lt;br&gt;.dmaRegisters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0X70000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(NOLOAD):&nbsp;{&lt;br&gt;*(.dmaRegisters)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&gt;&nbsp;HWMAP&lt;br&gt;............&lt;br&gt;&lt;br&gt;In&nbsp;source&nbsp;file&nbsp;hwmap.c&lt;br&gt;&lt;br&gt;.......&lt;br&gt;DMA_REGISTERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dmaRegisters&lt;br&gt;__attribute__&nbsp;((used,section(&quot;.dmaRegisters&quot;)));&lt;br&gt;.......&lt;br&gt;&lt;br&gt;In&nbsp;header&nbsp;file&nbsp;dmaRegisters.h&lt;br&gt;&lt;br&gt;.......&lt;br&gt;typedef&nbsp;struct&lt;br&gt;{&lt;br&gt;&nbsp;&nbsp;/*&nbsp;Something&nbsp;*/&nbsp;&nbsp;&nbsp;&lt;br&gt;&nbsp;&lt;br&gt;}&nbsp;DMA_REGISTERS;&lt;br&gt;&lt;br&gt;&lt;br&gt;extern&nbsp;DMA_REGISTERS&nbsp;&nbsp;&nbsp;&nbsp;dmaRegisters;&lt;br&gt;.........&lt;br&gt;&lt;br&gt;And&nbsp;finally,&nbsp;in&nbsp;a&nbsp;main&nbsp;linker&nbsp;file&nbsp;my_board.ld&lt;br&gt;&lt;br&gt;......&lt;br&gt;MEMORY&lt;br&gt;{&lt;br&gt;&nbsp;&nbsp;RAM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rwx)&nbsp;&nbsp;:&nbsp;ORIGIN&nbsp;=&nbsp;0x00000000,&nbsp;LENGTH&nbsp;=&nbsp;16M&lt;br&gt;&nbsp;&nbsp;ROM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rwx)&nbsp;&nbsp;:&nbsp;ORIGIN&nbsp;=<br>
&nbsp;0xFFFFFFFF,&nbsp;LENGTH&nbsp;=&nbsp;0&lt;br&gt;&nbsp;&nbsp;ALIASMEM&nbsp;(rwx)&nbsp;&nbsp;:&nbsp;ORIGIN&nbsp;=&nbsp;0x10000000,&nbsp;LENGTH&nbsp;=&nbsp;16M&lt;br&gt;&nbsp;&nbsp;HWMAP&nbsp;&nbsp;&nbsp;&nbsp;(rw&nbsp;)&nbsp;&nbsp;:&nbsp;ORIGIN&nbsp;=&nbsp;0x20000000,&nbsp;LENGTH&nbsp;=&nbsp;3584M&lt;br&gt;}&lt;br&gt;......&lt;br&gt;/*&nbsp;Include&nbsp;hardware&nbsp;registers&nbsp;maps&nbsp;*/&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;INCLUDE&nbsp;hwmap.ld&lt;br&gt;.....&lt;br&gt;&lt;br&gt;Then&nbsp;you&nbsp;just&nbsp;use&nbsp;dmaRegisters&nbsp;in&nbsp;your&nbsp;code&nbsp;like&nbsp;&quot;&nbsp;dmaRegisters.field&nbsp;=&nbsp;X;&nbsp;&quot;&lt;br&gt;&lt;br&gt;Hope&nbsp;it&nbsp;helps.&nbsp;This&nbsp;way&nbsp;you&nbsp;can&nbsp;'stick'&nbsp;your&nbsp;variable&nbsp;in&nbsp;any&nbsp;place&nbsp;in&nbsp;a&lt;br&gt;memory&nbsp;-&nbsp;this&nbsp;is&nbsp;how&nbsp;I&nbsp;implemented&nbsp;my&nbsp;hardware&nbsp;registers&nbsp;access&nbsp;in&nbsp;a&nbsp;past,&lt;br&gt;but&nbsp;should&nbsp;work&nbsp;like&nbsp;a&nbsp;charm&nbsp;for&nbsp;your&nbsp;cause.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Alex&nbsp;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
