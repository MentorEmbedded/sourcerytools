<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;I&nbsp;just&nbsp;tried&nbsp;this&nbsp;again&nbsp;to&nbsp;make&nbsp;sure&nbsp;it&nbsp;doesn't&nbsp;work.&nbsp;&nbsp;It&nbsp;didn't&nbsp;place&nbsp;my_vars&nbsp;anywhere&nbsp;near&nbsp;where&nbsp;I&nbsp;told&nbsp;it&nbsp;to.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;By&nbsp;the&nbsp;way,&nbsp;I&nbsp;finally&nbsp;fixed&nbsp;my&nbsp;problem&nbsp;by&nbsp;splitting&nbsp;the&nbsp;SRAM&nbsp;into&nbsp;two&nbsp;unequal&nbsp;pieces,&nbsp;with&nbsp;the&nbsp;tiny&nbsp;DMA&nbsp;section&nbsp;in&nbsp;the&nbsp;middle.&nbsp;&nbsp;Then&nbsp;I&nbsp;manually&nbsp;assigned&nbsp;various&nbsp;variables&nbsp;to&nbsp;the&nbsp;small&nbsp;464&nbsp;byte&nbsp;section,&nbsp;and&nbsp;let&nbsp;the&nbsp;linker&nbsp;handle&nbsp;the&nbsp;95.5K&nbsp;section.&nbsp;&nbsp;Tedious&nbsp;but&nbsp;not&nbsp;that&nbsp;bad.&nbsp;&nbsp;And&nbsp;there's&nbsp;apparently&nbsp;no&nbsp;other&nbsp;option.&nbsp;&nbsp;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;face=&quot;Arial&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Moses<br>
&nbsp;McKnight&nbsp;&lt;moses@texband.net&gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;arm-gnu@codesourcery.com&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Thursday,&nbsp;April&nbsp;5,&nbsp;2012&nbsp;1:17&nbsp;PM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[arm-gnu]&nbsp;Placing&nbsp;variable&nbsp;at&nbsp;absolute&nbsp;address&nbsp;in&nbsp;RAM&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;<br>
Ok,&nbsp;looks&nbsp;like&nbsp;you're&nbsp;right&nbsp;there&nbsp;-&nbsp;bad&nbsp;example.&nbsp;&nbsp;But&nbsp;I&nbsp;think&nbsp;my&nbsp;basic&lt;br&gt;idea&nbsp;is&nbsp;correct.&nbsp;&nbsp;Here&nbsp;is&nbsp;yet&nbsp;another&nbsp;link&nbsp;-&nbsp;see&nbsp;the&nbsp;post&nbsp;by&nbsp;Paul&nbsp;Curtis&lt;br&gt;(he&nbsp;is&nbsp;a&nbsp;compiler&nbsp;writer)&nbsp;near&nbsp;the&nbsp;end.&lt;br&gt;&lt;br&gt;&lt;br&gt;excerpt:&lt;br&gt;&lt;br&gt;struct&nbsp;my_placed_vars&nbsp;*my_vars&nbsp;=&nbsp;(void&nbsp;*)0x40003000;&nbsp;//&nbsp;EASY!&lt;br&gt;&lt;br&gt;#define&nbsp;MY_VAR_1&nbsp;(my_vars-&gt;var_1)&lt;br&gt;#define&nbsp;MY_VAR_2&nbsp;(my_vars-&gt;var_2)&lt;br&gt;&lt;br&gt;COMPLETELY&nbsp;PORTABLE&nbsp;AMONGST&nbsp;ALL&nbsp;COMPILERS&nbsp;FOR&nbsp;THE&nbsp;GIVEN&nbsp;TARGET!&lt;br&gt;&lt;br&gt;&lt;br&gt;On&nbsp;04/05/2012&nbsp;12:07&nbsp;PM,&nbsp;Mark&nbsp;Deneen&nbsp;wrote:&lt;br&gt;&gt;&nbsp;In&nbsp;your&nbsp;example,&nbsp;nothing&nbsp;has&nbsp;been&nbsp;declared.&nbsp;&nbsp;Types&nbsp;have&nbsp;been&nbsp;defined,&lt;br&gt;&gt;&nbsp;and&nbsp;you&nbsp;have&nbsp;a&nbsp;preprocessor&nbsp;macro&nbsp;mapping&nbsp;a&nbsp;particular&nbsp;address&nbsp;to&nbsp;a&lt;br&gt;&gt;&nbsp;type,&nbsp;but&nbsp;nothing&nbsp;has&nbsp;been&nbsp;declared.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;I&nbsp;don't&nbsp;think&nbsp;that&nbsp;it's&nbsp;doing&nbsp;what&nbsp;you&nbsp;think&nbsp;it&nbsp;is&nbsp;doing.&nbsp;&nbsp;You're&lt;br&gt;&gt;&nbsp;fine&nbsp;in&nbsp;this&nbsp;situation&nbsp;simply&nbsp;because&nbsp;you&nbsp;are&nbsp;accessing&nbsp;peripheral&lt;br&gt;&gt;&nbsp;registers&nbsp;and&nbsp;not&nbsp;SRAM.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;-M&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;-----&nbsp;Original&nbsp;Message&nbsp;-----<br>
&nbsp;Actually,&nbsp;I&nbsp;think&nbsp;it&nbsp;does.&nbsp;&nbsp;That&nbsp;example&lt;br&gt;&gt;&nbsp;just&nbsp;reserved&nbsp;4&nbsp;bytes&nbsp;(sizeof(int)),&nbsp;but&nbsp;you&nbsp;can&nbsp;just&nbsp;as&nbsp;easily&nbsp;use&nbsp;a&lt;br&gt;&gt;&nbsp;struct&nbsp;or&nbsp;probably&nbsp;even&nbsp;an&nbsp;array.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Here's&nbsp;an&nbsp;example&nbsp;from&nbsp;the&nbsp;LPC17xx.h&nbsp;header&nbsp;from&nbsp;and&nbsp;NXP&nbsp;cortex-M3&lt;br&gt;&gt;&nbsp;chip.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;typedef&nbsp;struct&nbsp;{&nbsp;volatile&nbsp;uint32_t&nbsp;mask[512];&nbsp;}&lt;br&gt;&gt;&nbsp;LPC_CANAF_RAM_TypeDef;&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;#define&nbsp;LPC_APB0_BASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0x40000000UL)&nbsp;#define&lt;br&gt;&gt;&nbsp;LPC_CANAF_RAM_BASE&nbsp;&nbsp;&nbsp;&nbsp;(LPC_APB0_BASE&nbsp;+&nbsp;0x38000)&nbsp;#define&nbsp;LPC_CANAF_RAM&lt;br&gt;&gt;&nbsp;((LPC_CANAF_RAM_TypeDef&nbsp;*)&nbsp;LPC_CANAF_RAM_BASE)&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;See&nbsp;the&nbsp;core_cm3.h&nbsp;file&nbsp;from&nbsp;CMSIS&nbsp;for&nbsp;more&nbsp;examples.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;If&nbsp;I'm&nbsp;not&nbsp;mistaken&nbsp;when&nbsp;you&nbsp;declare&nbsp;a&nbsp;variable&nbsp;the&nbsp;compiler/linker&lt;br&gt;&gt;&nbsp;always&nbsp;reserves&nbsp;enough&nbsp;memory&nbsp;for&nbsp;that&nbsp;type&nbsp;-&nbsp;even&nbsp;when&nbsp;you&nbsp;specify&lt;br&gt;&gt;&nbsp;the&nbsp;starting&nbsp;address&nbsp;like&nbsp;this.&lt;br&gt;&gt;&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;_______________________________________________&nbsp;arm-gnu&nbsp;mailing&nbsp;list&lt;br&gt;&gt;&nbsp;&lt;a<br>
&nbsp;ymailto=&quot;mailto:arm-gnu@codesourcery.com&quot;&nbsp;href=&quot;mailto:arm-gnu@codesourcery.com&quot;&gt;arm-gnu@codesourcery.com&lt;/a&gt;&lt;br&gt;&gt;&nbsp;http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu&lt;br&gt;&gt;&lt;br&gt;_______________________________________________&lt;br&gt;arm-gnu&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;ymailto=&quot;mailto:arm-gnu@codesourcery.com&quot;&nbsp;href=&quot;mailto:arm-gnu@codesourcery.com&quot;&gt;arm-gnu@codesourcery.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu&quot;&nbsp;target=&quot;_blank&quot;&gt;http://sourcerytools.com/cgi-bin/mailman/listinfo/arm-gnu&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
