<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads] Re: [SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20%5BSPAM%5D%20-%20Re%3A%20%5Bc%2B%2B-pthreads%5D%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again%20-%20Email%20found%20in%20subject&In-Reply-To=%3C20050718212550.GA7608%40cs.fsu.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000439.html">
   <LINK REL="Next"  HREF="000451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads] Re: [SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject</H1>
    <B>Ted Baker</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20%5BSPAM%5D%20-%20Re%3A%20%5Bc%2B%2B-pthreads%5D%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again%20-%20Email%20found%20in%20subject&In-Reply-To=%3C20050718212550.GA7608%40cs.fsu.edu%3E"
       TITLE="[c++-pthreads] Re: [SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject">baker at cs.fsu.edu
       </A><BR>
    <I>Mon Jul 18 21:25:50 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000439.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
        <LI>Next message: <A HREF="000451.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#440">[ date ]</a>
              <a href="thread.html#440">[ thread ]</a>
              <a href="subject.html#440">[ subject ]</a>
              <a href="author.html#440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> My analogy was &quot;gotos&quot;, for which the safe pattern 
</I>&gt;<i> eventually made their way into standard control structures.
</I>&gt;<i> 
</I>&gt;<i> In Java, an attempt was made to do something similar for pointers,
</I>&gt;<i> like it or not.
</I>&gt;<i> 
</I>&gt;<i> Maybe it is time for a language to look at exceptions along the
</I>&gt;<i> same lines, i.e., to build in structures for exceptions that rule
</I>&gt;<i> out the most frequent forms of erroneous usage.
</I>
I forgot another analogy.  Several languages, including Concurrent
Pascal and Ada, have built in monitor-like structures that enforce
safe patterns for concurrent programming that can prevent the most
common errors one makes when using low-level synchronization
primitives like POSIX mutexes and condition variables, such as
forgetting to release a lock, trying to seize a lock that one
already holds, trying to sleep on a condition without holding
the lock, waking up without rechecking the logical condition 
associated with the sleep, etc.

Apologies for harping on the same chord.

My point is still that (raw) exceptions are not a simple feature
to use correctly, generally tend to get programmers in trouble,
and don't need any &quot;help&quot; that will encourage people to try to
use them for more unsafe things.

The idea of thread cancellation is very simple and very appealing,
so programmers to are told about it will seize on it as a panacea.
I've seen this among students in the courses where I teach
programming with threads (using C).

Such naive programmers will write a program using threads, and
then try to shut a thread or threads down by just cancelling them.
They do not fully understand the ramifications of the thread
cancellation model, use whatever libraries are at hand, and do not
design from the beginning with cancellation in mind.  As a result,
they run into trouble, such as lockups due to cancellation or
threads that are holding mutexes on which another thread is
depending for a pthread_cond_signal to wake up.

--Ted






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000439.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
	<LI>Next message: <A HREF="000451.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#440">[ date ]</a>
              <a href="thread.html#440">[ thread ]</a>
              <a href="subject.html#440">[ subject ]</a>
              <a href="author.html#440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
