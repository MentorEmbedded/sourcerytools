<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads] pthread_cancel and EH: let's try this again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C01ed01c58bbc%2499c23000%246701a8c0%40pdimov%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000435.html">
   <LINK REL="Next"  HREF="000437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads] pthread_cancel and EH: let's try this again</H1>
    <B>Peter Dimov</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C01ed01c58bbc%2499c23000%246701a8c0%40pdimov%3E"
       TITLE="[c++-pthreads] pthread_cancel and EH: let's try this again">pdimov at mmltd.net
       </A><BR>
    <I>Mon Jul 18 17:17:29 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000435.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
        <LI>Next message: <A HREF="000437.html">[c++-pthreads] pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#436">[ date ]</a>
              <a href="thread.html#436">[ thread ]</a>
              <a href="subject.html#436">[ subject ]</a>
              <a href="author.html#436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ted Baker wrote:
&gt;<i> On Mon, Jul 18, 2005 at 06:53:23PM +0300, Peter Dimov wrote:
</I>&gt;&gt;&gt;<i> Yes, because it is unsafe, and C++ wants to be safer than C.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not sure I follow. In what way is a cancellation exception less
</I>&gt;&gt;<i> safe than any other exception?
</I>&gt;<i>
</I>&gt;<i> In this context, I was thinking of the problem of not knowing when
</I>&gt;<i> and where such an exception might be thrown.  As others have
</I>&gt;<i> pointed out, when you are calling a library function written
</I>&gt;<i> in C (whether part of the standard C library or some other library)
</I>&gt;<i> you don't know whether it will call something that qualifies as
</I>&gt;<i> a thread cancellation point.  This is a problem with C, already,
</I>&gt;<i> and wrapping it in C++ does not make the problem go away.
</I>
In other words, the answer is a qualified &quot;none&quot;.

When you are calling a function written in C++ you don't know whether it 
will throw unless this is documented.

It is true that so far we've been able to assume that a function written in 
C doesn't throw when thread cancellation is not in use. But we'll still be 
able to assume that.

&gt;<i> I was also thinking of some of the baroque semantic proposals I've
</I>&gt;<i> seen on this e-mail thread, ...
</I>
Well, if a cancellation exception is given semantics that make it different 
from any other exception, it can be less safe, I agree. If it isn't, it 
won't.

&gt;<i> 2) Are exceptions safe, in general?
</I>
We've spent the last decade in learning how to use them safely. It doesn't 
make sense to discard this knowledge.

When 'new' was changed to throw this broke millions of lines of code, and 
C++ survived the transition. The introduction of cancellation points - even 
into the C part of the standard library - is almost a non-event compared to 
that.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000435.html">[SPAM] - Re: [c++-pthreads] pthread_cancel and EH: let's try this again - Email found in subject
</A></li>
	<LI>Next message: <A HREF="000437.html">[c++-pthreads] pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#436">[ date ]</a>
              <a href="thread.html#436">[ thread ]</a>
              <a href="subject.html#436">[ subject ]</a>
              <a href="author.html#436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
