<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads]  Re: pthread_cancel and EH: let's try this again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C42D794ED.50805%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000369.html">
   <LINK REL="Next"  HREF="000381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads]  Re: pthread_cancel and EH: let's try this again</H1>
    <B>Nathan Sidwell</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C42D794ED.50805%40codesourcery.com%3E"
       TITLE="[c++-pthreads]  Re: pthread_cancel and EH: let's try this again">nathan at codesourcery.com
       </A><BR>
    <I>Fri Jul 15 10:50:21 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000369.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
        <LI>Next message: <A HREF="000381.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#380">[ date ]</a>
              <a href="thread.html#380">[ thread ]</a>
              <a href="subject.html#380">[ subject ]</a>
              <a href="author.html#380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jason Merrill wrote:

&gt;<i> It's not that subtle, it just does stack unwinding, like a sequence of
</I>&gt;<i> returns.
</I>
two parts of scheme #2 is unclear to me.  If a cancellation is initiated inside 
a nothrow function, the cancellation is deferred until the nothrow function is 
exited. correct?

question 1.  What if the function is, say, throw (X)?  do we delay cancellation?

question 2.  What if the active function is not nothrow, but is called from a 
nothrow function (containing suitable try .. catch).  Do we delay cancellation? 
  The caller of the intermediate nothrow function might well been optimized base 
on the knowledge that no unwinding will occur out of the called function. 
Perhaps I'm just restating the original question here :)

What I find inconsistent is that if the cancellation is deferred when the active 
function is nothrow, why is it not delayed when any function in the call stack 
is nothrow?

nathan
-- 
Nathan Sidwell    ::   <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>   ::     CodeSourcery LLC
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">nathan at codesourcery.com</A>    ::     <A HREF="http://www.planetfall.pwp.blueyonder.co.uk">http://www.planetfall.pwp.blueyonder.co.uk</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000369.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
	<LI>Next message: <A HREF="000381.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#380">[ date ]</a>
              <a href="thread.html#380">[ thread ]</a>
              <a href="subject.html#380">[ subject ]</a>
              <a href="author.html#380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
