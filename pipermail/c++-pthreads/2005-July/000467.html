<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads]  Re: pthread_cancel and EH: let's try this again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C42DEB40A.90802%40bogo.xs4all.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000464.html">
   <LINK REL="Next"  HREF="000468.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads]  Re: pthread_cancel and EH: let's try this again</H1>
    <B>Wil Evers</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C42DEB40A.90802%40bogo.xs4all.nl%3E"
       TITLE="[c++-pthreads]  Re: pthread_cancel and EH: let's try this again">wil at bogo.xs4all.nl
       </A><BR>
    <I>Wed Jul 20 20:28:58 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000464.html">pthread_cancel and EH: let's try this again
</A></li>
        <LI>Next message: <A HREF="000468.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#467">[ date ]</a>
              <a href="thread.html#467">[ thread ]</a>
              <a href="subject.html#467">[ subject ]</a>
              <a href="author.html#467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alexander Terekhov wrote:

&gt;<i> Nathan Myers wrote:
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;&gt;<i>What we're talking about here is mechanisms to control what happens
</I>&gt;&gt;<i>when a thread is already in a cancelled state.  As Wil had proposed,
</I>&gt;&gt;<i>a thread in a C++ program starts out with the cancel state having no
</I>&gt;&gt;<i>effect on any operation.  If the thread turns on some form of response
</I>&gt;&gt;<i>(by constructing one of Wil's objects, however implemented), then at
</I>&gt;&gt;<i>any point within its scope where something is supposed to happen (e.g.
</I>&gt;&gt;<i>a cancellation point), something happens.  Precisely what happens
</I>&gt;&gt;<i>then would depend on what sort of Wil-object is in scope.
</I>&gt;<i> 
</I>&gt;<i> Okay. Suppose I put Wil's &quot;enabler&quot; in each and every &quot;thread-main&quot; and
</I>&gt;<i> that all calls to your &quot;thread-safe&quot; library from &quot;thread-mains&quot; are 
</I>&gt;<i> within cancel-enabled scopes. That would be criminal, right? 
</I>
No.  One of the aims of my suggestion is to remove any cancellation 
handling policy from the threads library, and put it in the hands of the 
user instead.

So if you feel that leaving cancellation enabled at all times is 
appropriate, you're free to do just that.  That's risky, but I wouldn't 
call it criminal :-).

- Wil

BTW - as you know, a POSIX thread always starts with cancellation 
enabled, so there is no need to put an enabler in your thread-main.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000464.html">pthread_cancel and EH: let's try this again
</A></li>
	<LI>Next message: <A HREF="000468.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#467">[ date ]</a>
              <a href="thread.html#467">[ thread ]</a>
              <a href="subject.html#467">[ subject ]</a>
              <a href="author.html#467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
