<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> pthread_cancel and EH: let's try this again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3Cu64veoae7.fsf%40boost-consulting.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000352.html">
   <LINK REL="Next"  HREF="000363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>pthread_cancel and EH: let's try this again</H1>
    <B>David Abrahams</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3Cu64veoae7.fsf%40boost-consulting.com%3E"
       TITLE="pthread_cancel and EH: let's try this again">dave at boost-consulting.com
       </A><BR>
    <I>Wed Jul 13 17:58:56 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000352.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
        <LI>Next message: <A HREF="000363.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#359">[ date ]</a>
              <a href="thread.html#359">[ thread ]</a>
              <a href="subject.html#359">[ subject ]</a>
              <a href="author.html#359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dave Butenhof &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">david.butenhof at hp.com</A>&gt; writes:

&gt;<i> There are many complicated compatibility issues in modelling something 
</I>&gt;<i> like POSIX cancellation in C++ without breaking some usage patterns of 
</I>&gt;<i> C++ exceptions. There's no way around that. In particular, arguments of 
</I>&gt;<i> &quot;it has to be this way because&quot; or &quot;it can't be this way because&quot; miss 
</I>&gt;<i> the point. Or rather, if you're going to insist that IS the point then 
</I>&gt;<i> it just can't be done and we should face that any C++ code using cancel 
</I>&gt;<i> is inherently broken. Otherwise, existing usage patterns are going to 
</I>&gt;<i> change, and a lot of code will be adversely impacted by the changes; 
</I>&gt;<i> either to traditional C++ exception usage patterns or to traditional 
</I>&gt;<i> POSIX cancellation usage patterns.
</I>
Agree.  However, I think it's a good idea to think about which usage
patterns would be disrupted, and by how much, and how harmful that
disruption turns out to be.

So far, it looks to me as though #1 does a lot less harm than #2.  In
particular, I'm not much disturbed if in the example Jason posted the
author of the outer catch(...) block has to add a 

  catch(cancellation&amp;) { return; }

That's a nicely localized sort of change.  

-- 
Dave Abrahams
Boost Consulting
www.boost-consulting.com


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000352.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
	<LI>Next message: <A HREF="000363.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#359">[ date ]</a>
              <a href="thread.html#359">[ thread ]</a>
              <a href="subject.html#359">[ subject ]</a>
              <a href="author.html#359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
