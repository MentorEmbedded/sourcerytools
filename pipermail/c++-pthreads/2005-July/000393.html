<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads]  Re: pthread_cancel and EH: let's try this again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C52CA6BC0D0E9EE4E93208DB39A3218FEA45905%40EXCHANGE.gp.cv.commvault.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000392.html">
   <LINK REL="Next"  HREF="000462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads]  Re: pthread_cancel and EH: let's try this again</H1>
    <B>George Shimanovich</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20pthread_cancel%20and%20EH%3A%20let%27s%20try%20this%20again&In-Reply-To=%3C52CA6BC0D0E9EE4E93208DB39A3218FEA45905%40EXCHANGE.gp.cv.commvault.com%3E"
       TITLE="[c++-pthreads]  Re: pthread_cancel and EH: let's try this again">gshiman at commvault.com
       </A><BR>
    <I>Fri Jul 15 21:50:06 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000392.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
        <LI>Next message: <A HREF="000462.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#393">[ date ]</a>
              <a href="thread.html#393">[ thread ]</a>
              <a href="subject.html#393">[ subject ]</a>
              <a href="author.html#393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark Mitchell
&gt;<i>George Shimanovich wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> According to my colleges and mine experience using pthread in 
</I>&gt;&gt;<i> GNU/Linux entire program crashes when thread is cancelled due to 
</I>&gt;&gt;<i> abort() or cancelled thread hangs in system space. That is 
</I>&gt;&gt;<i> collaborated by this quote from Jason:
</I>&gt;&gt;<i> 	&gt;And the current status quo in GCC: 
</I>&gt;&gt;<i> 	&gt;(3) #1, except that the destructor for the exception calls
</I>&gt;&gt;<i> abort())
</I>&gt;<i>
</I>&gt;<i>I believe that happens only if the catch handler does not rethrow the 
</I>&gt;<i>exception.
</I>Thanks for answering. 
Unfortunately no. I definitely tried rethrowing exception. 
And, after thread cancellation, depending on the Linux system used, 
the program either crashed or cancelled thread hung in system part of
the stack. 
Because of that Linux remains the only OS where we do not use pthreads.
Attached is my 1 year old post to this list with more details.

George Shimanovich
CommVault Systems, Inc.

-------------- next part --------------
An embedded message was scrubbed...
From: &quot;George Shimanovich&quot; &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">gshiman at commvault.com</A>&gt;
Subject: [c++-pthreads] Complete fix to cancellation/stack unwinding problem of deferred Posix threads
Date: Fri, 25 Jun 2004 17:49:12 -0400
Size: 3768
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/c++-pthreads/attachments/20050715/e25f6193/attachment.mht">http://sourcerytools.com/pipermail/c++-pthreads/attachments/20050715/e25f6193/attachment.mht</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000392.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
	<LI>Next message: <A HREF="000462.html">[c++-pthreads]  Re: pthread_cancel and EH: let's try this again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#393">[ date ]</a>
              <a href="thread.html#393">[ thread ]</a>
              <a href="subject.html#393">[ subject ]</a>
              <a href="author.html#393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
