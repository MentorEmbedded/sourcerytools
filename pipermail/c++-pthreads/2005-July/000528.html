<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> FW: RE: [c++-pthreads]  Re: I'm Lost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20FW%3A%20RE%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20I%27m%20Lost&In-Reply-To=%3C42E8BFC0.9080106%40hp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000527.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FW: RE: [c++-pthreads]  Re: I'm Lost</H1>
    <B>Dave Butenhof</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20FW%3A%20RE%3A%20%5Bc%2B%2B-pthreads%5D%20%20Re%3A%20I%27m%20Lost&In-Reply-To=%3C42E8BFC0.9080106%40hp.com%3E"
       TITLE="FW: RE: [c++-pthreads]  Re: I'm Lost">david.butenhof at hp.com
       </A><BR>
    <I>Thu Jul 28 11:21:36 UTC 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000527.html">[SPAM] - [c++-pthreads]  Re: [SPAM] - [c++-pthreads]  Re: [SPAM] - FW: RE: [c++-pthreads]  Re:  I'm Lost - Email found in  subject - Email found in subject - Email found in subject
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#528">[ date ]</a>
              <a href="thread.html#528">[ thread ]</a>
              <a href="subject.html#528">[ subject ]</a>
              <a href="author.html#528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&lt; Foward Quoted &gt;

&gt;&gt;<i>Quite simply, I believe that is far too great a burden for the casual C++ user.  They are already struggling under the burden of a complicated language without us expecting them to understand intricacies of thread safety and lifetimes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>The people actively working in the posix/C++ subset are much more familiar with these complex issues, and I believe the burden is on them to find a compromise that will not impact on the non-expert user who is NOT using this combination.  I do not pretend this is an easy task though ;&#172;)
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>Cancellation does not affect application code (or coders) that don't 
want to use it. Nothing can cancel a thread without having the thread's 
handle through deliberate action of the thread's creator, or through 
pthread_self when executing within the thread. No modular &quot;facility&quot; can 
legitimately or reasonably do this to any thread to which it has not 
been granted &quot;ownership&quot; -- either by having created it within the 
facility or by having ownership handed to it through an explicit 
protocol (which is rare). Certainly some fool can chose, just for the 
heck of it, to cancel the thread in which it runs... but so what? It 
could just as easily generate a SIGSEGV and take out the whole process.

That one writes an application using threads, regardless of language, 
doesn't require you to use, understand, or even be aware of cancellation.

However when one writes a robust general-purpose facility (library) that 
will be used in an environment supporting cancellation, that library 
ought to be written to support cancellation (whether or not it actually 
uses cancellation on its own behalf). Such libraries are not generally 
tasks taken on by &quot;casual users&quot;; and even so while hardly ideal it's 
perfectly adequate to simply say &quot;this facility isn't cancel-safe; tough 
luck&quot;.

&quot;Industrial strength&quot; libraries in the environment, for example the 
&quot;language runtime&quot; itself, whether libc or STL, ought to be cancel-safe 
certainly. Even at that, however, because the task can be monumental, 
POSIX provided &quot;cheats&quot; -- the list of &quot;optional&quot; cancellation points 
allow a libc developer to omit all but the most critical. A C++ standard 
for STL *could* provide similar &quot;cheats&quot; to avoid requiring full 
implementation of cancel-safety. And again, if the user of the library 
(whether the main application or another library) doesn't choose to use 
cancellation the point is moot.

And while Ted Baker has suggested that &quot;loaded guns&quot; shouldn't be given 
to &quot;babies&quot;, one could respond cynically that it's far too late in UNIX, 
POSIX, C, or C++ history to worry about handing out loaded guns. 
(Cancellation is nothing compared to the explosive payload of an 
asynchronous signal, or even thread synchronization considerations.) 
With the existing well-stocked and easily accessible arsenal lying 
about, the addition of one more handgun can hardly be considered even 
relevant much less critical. And more importantly, there are many 
programmers who really DO know how to use those weapons of mass coding 
destruction, and need them. That's NOT a death ray over there in the 
corner, it's an industrial excavation tool; misuse is solely the 
responsibility of the user, not the manufacturer.

Finally, the question is NOT whether we choose to make these weapons 
available, nor even whether they'll be used. They already exist, are 
widely (almost universally) deployed; and are used and depended upon by 
many real applications. None of that is going to go away no matter what 
the C++ committee does. The question HERE is only whether there will be 
a STANDARD and PORTABLE specification to aid these developers and 
applications in moving between the various systems. Ignoring the issue 
won't make it go away -- merely leave those applications and developers 
with cumbersome non-portable code, and force someone to resurrect this 
same argument all over again in another year or two. (As indeed has 
already happened, through several cycles.)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: david.butenhof.vcf
Type: text/x-vcard
Size: 476 bytes
Desc: not available
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/c++-pthreads/attachments/20050728/4ab3c3c9/attachment.vcf">http://sourcerytools.com/pipermail/c++-pthreads/attachments/20050728/4ab3c3c9/attachment.vcf</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000527.html">[SPAM] - [c++-pthreads]  Re: [SPAM] - [c++-pthreads]  Re: [SPAM] - FW: RE: [c++-pthreads]  Re:  I'm Lost - Email found in  subject - Email found in subject - Email found in subject
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#528">[ date ]</a>
              <a href="thread.html#528">[ thread ]</a>
              <a href="subject.html#528">[ subject ]</a>
              <a href="author.html#528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
