<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads] Re: thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C20040108212203.GC372%40diablo.name%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000173.html">
   <LINK REL="Next"  HREF="000183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads] Re: thread-safety definition</H1>
    <B>Ted Baker</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C20040108212203.GC372%40diablo.name%3E"
       TITLE="[c++-pthreads] Re: thread-safety definition">baker at cs.fsu.edu
       </A><BR>
    <I>Thu Jan  8 21:22:03 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000173.html">thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000183.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#175">[ date ]</a>
              <a href="thread.html#175">[ thread ]</a>
              <a href="subject.html#175">[ subject ]</a>
              <a href="author.html#175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK. I now see from your example that intervened that you seem to
intend that functions that are asyn-cancel safe/unsafe have some
syntactic tag (like &quot;const&quot;) so that the compiler can check them.
I was assuming that you would rely on the compiler to infer which
regions of code might be subject to asynch cancellation from the
embedded async_cancel{} and then work back the call trees to
infer which other functions might be unsafe.  It did not occur
to me that you would be willing to require users to go so far
in marking up their code.

--Ted

On Thu, Jan 08, 2004 at 07:11:55PM +0100, Alexander Terekhov wrote:
&gt;<i> 
</I>&gt;<i> Ted Baker wrote:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; I thought you meant *compile* resolution of the overloading, so as
</I>&gt;<i> &gt; to generate different call contexts of the same function name.
</I>&gt;<i> &gt; Since your async_cancel{} code can have nested calls to arbitrary
</I>&gt;<i> &gt; (separately compiled) code, you can't do that without
</I>&gt;<i>                        ^
</I>&gt;<i>                        |
</I>&gt;<i> async-cancel-safe -----+ (nested sync_cancel {} and no_cancel {}
</I>&gt;<i> aside for a moment).
</I>&gt;<i> 
</I>&gt;<i> &gt; interprocedural control flow analysis (across separately compiled
</I>&gt;<i> &gt; modules), which I don't believe gcc has any plans to do.  If you
</I>&gt;<i> &gt; are talking about dynamic (runtime) dispatching, then you are ...
</I>&gt;<i> 
</I>&gt;<i> I'm NOT talking about dynamic (runtime) dispatching. Think of
</I>&gt;<i> const correctness.
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000173.html">thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000183.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#175">[ date ]</a>
              <a href="thread.html#175">[ thread ]</a>
              <a href="subject.html#175">[ subject ]</a>
              <a href="author.html#175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
