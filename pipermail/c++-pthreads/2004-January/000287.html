<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cuad4np868.fsf%40boost-consulting.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000286.html">
   <LINK REL="Next"  HREF="000289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>thread-safety definition</H1>
    <B>David Abrahams</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cuad4np868.fsf%40boost-consulting.com%3E"
       TITLE="thread-safety definition">dave at boost-consulting.com
       </A><BR>
    <I>Sat Jan 17 03:26:23 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000286.html">[c++-pthreads] Re: thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000289.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#287">[ date ]</a>
              <a href="thread.html#287">[ thread ]</a>
              <a href="subject.html#287">[ subject ]</a>
              <a href="author.html#287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gabriel Dos Reis &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">gdr at integrable-solutions.net</A>&gt; writes:

&gt;<i> David Abrahams &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">dave at boost-consulting.com</A>&gt; writes:
</I>&gt;<i>
</I>&gt;<i> | Dave Butenhof &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">David.Butenhof at hp.com</A>&gt; writes:
</I>&gt;<i> | 
</I>&gt;<i> | &gt;&gt;The problems with catch(...) eating all exceptions are maybe not as
</I>&gt;<i> | &gt;&gt;bad as you think.  As a matter of fact, there are vanishingly few
</I>&gt;<i> | &gt;&gt;exceptions that demand special recovery actions that wouldn't work for
</I>&gt;<i> | &gt;&gt;all other exceptions.  Systems designed that way tend towards
</I>&gt;<i> | &gt;&gt;fragility.
</I>&gt;<i> | &gt;&gt;  
</I>&gt;<i> | &gt;&gt;
</I>&gt;<i> | &gt; I see an immense difference between a pragmatic statement that &quot;in
</I>&gt;<i> | &gt; practice there seem to be few exceptions&quot; and something on which
</I>&gt;<i> | &gt; cross-platform, mixed-language, modular environment programmers can
</I>&gt;<i> | &gt; depend as a law. C++ does not say that &quot;all exceptions can be
</I>&gt;<i> | &gt; finalized and recovered fully by performing these steps&quot;. To presume
</I>&gt;<i> | &gt; they can is fragile.
</I>&gt;<i> | 
</I>&gt;<i> | It also doesn't say &quot;no destructors will throw exceptions&quot;, but we
</I>&gt;<i> | generally rely on them not to, because it makes programs hard to
</I>&gt;<i> | write.  There are a whole host of things we leave up to good
</I>&gt;<i> | programming practice, most of which don't have to do with EH.
</I>&gt;<i>
</I>&gt;<i> Agreed, but we can't specify things like that.  If we assume some
</I>&gt;<i> working hypothesis to hold, then we have to make that assumption clear
</I>&gt;<i> in the specification.  I think that is the point Dave Butenhof was
</I>&gt;<i> making. 
</I>
I didn't think so, at all.  I hope Dave will clarify on his own,
though, especially if I'm wrong.

AFAICT the discussion is about whether it makes sense to support
programs which do catch(...) without rethrowing, and if so, how.
Right now we're discussing a morality issue: &quot;is it inherently evil to
catch(...)  without rethrowing?&quot;

My point is that one could just as well (and perhaps more justifiably)
claim that it's evil to throw any exception that can't be dealt with
via a catch(...) block that doesn't rethrow, where that block was
designed to handle, say, bad_alloc.**

(**) this isn't really about the exception objects, but about the
conditions of program state they represent.

-- 
Dave Abrahams
Boost Consulting
www.boost-consulting.com


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000286.html">[c++-pthreads] Re: thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000289.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#287">[ date ]</a>
              <a href="thread.html#287">[ thread ]</a>
              <a href="subject.html#287">[ subject ]</a>
              <a href="author.html#287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
