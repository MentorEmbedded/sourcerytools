<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cu7k022xil.fsf%40boost-consulting.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000163.html">
   <LINK REL="Next"  HREF="000181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>thread-safety definition</H1>
    <B>David Abrahams</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cu7k022xil.fsf%40boost-consulting.com%3E"
       TITLE="thread-safety definition">dave at boost-consulting.com
       </A><BR>
    <I>Thu Jan  8 16:52:34 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000163.html">[c++-pthreads] Re: thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000181.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#169">[ date ]</a>
              <a href="thread.html#169">[ thread ]</a>
              <a href="subject.html#169">[ subject ]</a>
              <a href="author.html#169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dave Butenhof &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">David.Butenhof at hp.com</A>&gt; writes:

&gt;<i> David Abrahams wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>Dave Butenhof &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">David.Butenhof at hp.com</A>&gt; writes:
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>David Abrahams wrote:
</I>&gt;&gt;&gt;<i>    
</I>&gt;&gt;<i>Please don't shout, especially to emphasize something I disagree with
</I>&gt;&gt;<i>so fundamentally. ;-)
</I>&gt;&gt;<i>
</I>&gt;<i> Ah. I see the problem. I believe that you neglected to file in
</I>&gt;<i> triplicate the official &quot;List of all matters with which I disagree so
</I>&gt;<i> please don't shout when discussing them&quot; form. Didn't you? ;-)
</I>
I filed.  It was *you* who neglected to check with the department of
archival non-shouting topic storage, wasn't it?

&gt;&gt;<i>If you make cancellations behave sufficiently like an ordinary C++
</I>&gt;&gt;<i>exception (either of Nathan's or Jason's models would do that I think)
</I>&gt;&gt;<i>then it's neither &quot;IMPOSSIBLE&quot; nor even difficult.  A great deal of
</I>&gt;&gt;<i>thread-safe exception-safe C++ library code would behave perfectly
</I>&gt;&gt;<i>well under those conditions.
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;<i> Well, it should be no surprise that this discussion has fragmented
</I>&gt;<i> into too many different little pathways for anyone to keep track of
</I>&gt;<i> them.
</I>&gt;<i>
</I>&gt;<i> If cancel is implemented completely as a &quot;full stature&quot; C++ exception,
</I>&gt;<i> and none of the &quot;exception safe&quot; code does anything silly like
</I>&gt;<i> &quot;catch(...)&quot; without a re-throw, then, yes, it's likely to be
</I>&gt;<i> reasonably cancel-safe. 
</I>
Even if only *some* of it does that, Nathan and Jason's models are
both likely to result in an eventual cancellation.

&gt;<i> (Though some code might need to be aware that an uncaught cancel
</I>&gt;<i> will terminate the thread rather than the process!)
</I>
Remember, we're talking about library code.  Usually it's only used
&quot;on the inside&quot; of threads so it doesn't care whether when it's
terminated, it's the process or only a thread.

&gt;<i> But I was really responding to the ideas about turning cancel into a
</I>&gt;<i> return status
</I>
...only for 'C' functions which ordinarily have a return status and don't
throw...  did you miss that?

-- 
Dave Abrahams
Boost Consulting
www.boost-consulting.com


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000163.html">[c++-pthreads] Re: thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000181.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#169">[ date ]</a>
              <a href="thread.html#169">[ thread ]</a>
              <a href="subject.html#169">[ subject ]</a>
              <a href="author.html#169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
