<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cuwu7rqv2f.fsf%40boost-consulting.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000248.html">
   <LINK REL="Next"  HREF="000286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>thread-safety definition</H1>
    <B>David Abrahams</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20thread-safety%20definition&In-Reply-To=%3Cuwu7rqv2f.fsf%40boost-consulting.com%3E"
       TITLE="thread-safety definition">dave at boost-consulting.com
       </A><BR>
    <I>Sat Jan 17 00:26:32 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000248.html">[c++-pthreads] Re: thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000286.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dave Butenhof &lt;<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">David.Butenhof at hp.com</A>&gt; writes:

&gt;&gt;<i>The problems with catch(...) eating all exceptions are maybe not as
</I>&gt;&gt;<i>bad as you think.  As a matter of fact, there are vanishingly few
</I>&gt;&gt;<i>exceptions that demand special recovery actions that wouldn't work for
</I>&gt;&gt;<i>all other exceptions.  Systems designed that way tend towards
</I>&gt;&gt;<i>fragility.
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;<i> I see an immense difference between a pragmatic statement that &quot;in
</I>&gt;<i> practice there seem to be few exceptions&quot; and something on which
</I>&gt;<i> cross-platform, mixed-language, modular environment programmers can
</I>&gt;<i> depend as a law. C++ does not say that &quot;all exceptions can be
</I>&gt;<i> finalized and recovered fully by performing these steps&quot;. To presume
</I>&gt;<i> they can is fragile.
</I>
It also doesn't say &quot;no destructors will throw exceptions&quot;, but we
generally rely on them not to, because it makes programs hard to
write.  There are a whole host of things we leave up to good
programming practice, most of which don't have to do with EH.

The only way handling an exception with catch(...) can be harmful
(other than to debugging; but that's a different issue) is if the
throwing code *requires* that the catching code take some special
condition-specific cleanup actions in order to ensure program
correctness.  I don't think I've seen such an arrangement under any
error-handling system, though it wouldn't surprise me if an example
existed somewhere. IMO it's much more reasonable to say &quot;don't do
that&quot; with exceptions than to tell people not to use catch(...).  It's
easy enough to force that special cleanup action in the exception
object's destructor a la JasonMerrillCancellation in the rare case
where something of the sort might be needed.

But this is all OT for the threads discussion, innit?
-- 
Dave Abrahams
Boost Consulting
www.boost-consulting.com


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000248.html">[c++-pthreads] Re: thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000286.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#279">[ date ]</a>
              <a href="thread.html#279">[ thread ]</a>
              <a href="subject.html#279">[ subject ]</a>
              <a href="author.html#279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
