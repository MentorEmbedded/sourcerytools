<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads] Re: thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C20040112191839.GC13854%40diablo.name%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000234.html">
   <LINK REL="Next"  HREF="000244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads] Re: thread-safety definition</H1>
    <B>Ted Baker</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C20040112191839.GC13854%40diablo.name%3E"
       TITLE="[c++-pthreads] Re: thread-safety definition">baker at cs.fsu.edu
       </A><BR>
    <I>Mon Jan 12 19:18:39 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000234.html">[c++-pthreads] Re: thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000244.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#232">[ date ]</a>
              <a href="thread.html#232">[ thread ]</a>
              <a href="subject.html#232">[ subject ]</a>
              <a href="author.html#232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> ... It sounds as though a lot of people are seriously 
</I>&gt;<i> considering the idea of allowing exceptions to escape from destructors.
</I>&gt;<i> .... it is _absolutely vital_ 
</I>&gt;<i> that destructors never be allowed to throw under any circumstances.
</I>
Right!  This is what we decided with Ada.  That is why
cancellation (task abort) is disabled during exception propagation
and finalization routines of controlled object (execution of
destructors).

This means we do not need to have any way to catch
cancellation/abort, that is, cancellation/abort is not allowed to
happen in the places where we otherwise would need to catch it.

&gt;<i> a destructor calls a function that may throw some unknown exception (a 
</I>&gt;<i> very common case, especially in template classes whose destructors will 
</I>&gt;<i> often call member functions of some arbitrary user-supplied type), the 
</I>&gt;<i> call _must_ be wrapped in a catch-and-discard-all block. At most you 
</I>&gt;<i> can log the error somewhere.
</I>&gt;<i> 
</I>&gt;<i> Any attempt to standardise a solution that doesn't take &quot;Destructors 
</I>&gt;<i> Must Not Throw&quot; as axiomatic is simply going to be a non-starter as far 
</I>&gt;<i> as C++ programmers are concerned. I'd really like to see this list 
</I>&gt;<i> explicitly address this issue rather than continuing to casually talk 
</I>&gt;<i> about uncatchable exceptions and similar horrors.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Ross Smith ......... <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">r-smith at ihug.co.nz</A> ......... Auckland, New Zealand
</I>&gt;<i> 
</I>&gt;<i>     &quot;This world is like a burnt steak: small, tough, and the chips
</I>&gt;<i>     are always stacked against you.&quot; -- Mike
</I>
--Ted

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000234.html">[c++-pthreads] Re: thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000244.html">[c++-pthreads] Re: thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#232">[ date ]</a>
              <a href="thread.html#232">[ thread ]</a>
              <a href="subject.html#232">[ subject ]</a>
              <a href="author.html#232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
