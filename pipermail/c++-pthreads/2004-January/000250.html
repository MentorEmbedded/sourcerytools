<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [c++-pthreads] Re: thread-safety definition
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C4003DF7C.8050206%40hp.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000267.html">
   <LINK REL="Next"  HREF="000186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[c++-pthreads] Re: thread-safety definition</H1>
    <B>Dave Butenhof</B> 
    <A HREF="mailto:c%2B%2B-pthreads%40codesourcery.com?Subject=Re%3A%20%5Bc%2B%2B-pthreads%5D%20Re%3A%20thread-safety%20definition&In-Reply-To=%3C4003DF7C.8050206%40hp.com%3E"
       TITLE="[c++-pthreads] Re: thread-safety definition">David.Butenhof at hp.com
       </A><BR>
    <I>Tue Jan 13 12:07:24 UTC 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000267.html">[c++-pthreads] Re: thread-safety definition
</A></li>
        <LI>Next message: <A HREF="000186.html">thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ted Baker wrote:

&gt;&gt;<i>... the problem isn't with the model, but rather with the effect of that 
</I>&gt;&gt;<i>model on existing code that all-too-casually and agressively eats 
</I>&gt;&gt;<i>exceptions it doesn't understand. I think there are vanishingly few 
</I>&gt;&gt;<i>circumstances where a blind catch(...) without an unconditional re-throw 
</I>&gt;&gt;<i>should be considered &quot;legitimate&quot;. If you don't completely understand 
</I>&gt;&gt;<i>what an exception means, you cannot claim to have completely recovered, 
</I>&gt;&gt;<i>and therefore cannot reasonably finalize propagation. (And when you 
</I>&gt;&gt;<i>catch anonymously, you can't possibly understand what they mean since 
</I>&gt;&gt;<i>you can't even identify them.) On the other hand, regardless of whether 
</I>&gt;&gt;<i>the semantics are meaningful or reasonable, the syntax is legal and 
</I>&gt;&gt;<i>apparently (unfortunately) in common use, so I can't dispute that you 
</I>&gt;&gt;<i>need to consider that.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>This problem could be eliminated by specifying that cancellation
</I>&gt;<i>is a special case, that cannot be caught by catch(...), i.e., that
</I>&gt;<i>it can only be caught by a handler that names it explicitly, or that
</I>&gt;<i>it cannot be caught at all.
</I>&gt;<i>  
</I>&gt;<i>
</I>Yes; that's been considered in the past discussions. Along with many 
other alternatives. (The same had been proposed for DCE/C exceptions 
reporting SIGSEGV and other &quot;hardware&quot; failures.) Generally, most people 
end up thinking that's a little too syntactically asymmetric; there are 
uses of catch(...) that really do need to isolate a subsystem by 
catching everything, and breaking that model seems extreme. But it's 
also true that might be the lesser of two evils, since it should be 
uncommon. And so the argument sways back and forth, thus far without 
authoritative resolution. I've been debating some of these exact issues 
with various people since threading became common enough that C++ people 
wanted to use it, armed with their newly defined exception model that 
actually worked on some of the common implementations of C++. (Yeah, 
that long ago.)

The problem, of course, is that everyone and nobody is &quot;right&quot; -- and 
it's hard to converge on one middle ground without someone suddenly 
realizing, &quot;but then THAT wouldn't work&quot;. And then again, since the C++ 
standard committee was never even peripherally involved before, everyone 
knew that it was little more than idle speculation.

-- 
/--------------------[ <A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">David.Butenhof at hp.com</A> ]--------------------\
|<i> Hewlett-Packard Company       Tru64 UNIX &amp; VMS Thread Architect |
</I>|<i>     My book: <A HREF="http://www.awl.com/cseng/titles/0-201-63392-2/">http://www.awl.com/cseng/titles/0-201-63392-2/</A>     |
</I>\----[ <A HREF="http://homepage.mac.com/dbutenhof/Threads/Threads.html">http://homepage.mac.com/dbutenhof/Threads/Threads.html</A> ]---/


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000267.html">[c++-pthreads] Re: thread-safety definition
</A></li>
	<LI>Next message: <A HREF="000186.html">thread-safety definition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/c++-pthreads">More information about the c++-pthreads
mailing list</a><br>
</body></html>
