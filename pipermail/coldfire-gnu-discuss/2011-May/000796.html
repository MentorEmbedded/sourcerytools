<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> GDB freeze when steping into a loop with P&amp;E BDM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20GDB%20freeze%20when%20steping%20into%20a%20loop%20with%20P%26E%20BDM&In-Reply-To=%3C9C97D7A81BFEA849807B13E9160B5DEF0EAA63BF%40CERNXCHG21.cern.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000797.html">
   <LINK REL="Next"  HREF="000798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>GDB freeze when steping into a loop with P&amp;E BDM</H1>
    <B>Stephane Franck Rey</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20GDB%20freeze%20when%20steping%20into%20a%20loop%20with%20P%26E%20BDM&In-Reply-To=%3C9C97D7A81BFEA849807B13E9160B5DEF0EAA63BF%40CERNXCHG21.cern.ch%3E"
       TITLE="GDB freeze when steping into a loop with P&amp;E BDM">stephane.franck.rey at cern.ch
       </A><BR>
    <I>Fri May 20 16:12:46 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000797.html">problem with P&amp;E BDM when stepping a loop
</A></li>
        <LI>Next message: <A HREF="000798.html">[coldfire-gnu-discuss] GDB freeze when steping into a loop with P&amp;E BDM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#796">[ date ]</a>
              <a href="thread.html#796">[ thread ]</a>
              <a href="subject.html#796">[ subject ]</a>
              <a href="author.html#796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I'm trying to set a toolchain using Eclipse + GCC + Hiwave for flashing the CPU + GDB for debugging.

The current hardware is a MCF51AC128C connected to a 4.9152 MHz crystal and I'm using P&amp;E USB-ML-12E interface (USB Multilink)

In my test code I've the following line

for (i=1; i&lt;40000; i++){asm (&quot;nop&quot;);};

When setting a BreakPoint on that line, GDB stops. I can resume and stop again on that line any time. Now when stopped on that line, if I Step Into or Step over this line, GDB freeze in 'Stepping' and nothing happens anymore. If I suspend the program crashed (comm. Failure), and I've to kill the gdb task to start again the communication with my BDM.


GDB SETTINGS
***********

GDB Debugger : m68k-elf-gdb

Initialize commands  :
target remote | m68k-elf-sprite pe: m51ac128Cevb-4

'Run' Commands :
set $pc=_start
br main
continue

the file m51ac128Cevb-4.xml  is a modified version of the m51ac128Cevb.xml, by changing the system clock frequency to 4915 KHz. But whatever is this parameter the GDB behavior is always the same.

Note that everything works with Codewarrior 6.3 and codewarrior 10.1 (Eclipse based), I can debug the same project and do what I want with BP in these toolchains without the same behavior observed with GDB.
So any idea on what could be wrong in my configuration ?

Cheers
Stephane


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/coldfire-gnu-discuss/attachments/20110520/1e1df5f4/attachment.html">http://sourcerytools.com/pipermail/coldfire-gnu-discuss/attachments/20110520/1e1df5f4/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000797.html">problem with P&amp;E BDM when stepping a loop
</A></li>
	<LI>Next message: <A HREF="000798.html">[coldfire-gnu-discuss] GDB freeze when steping into a loop with P&amp;E BDM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#796">[ date ]</a>
              <a href="thread.html#796">[ thread ]</a>
              <a href="subject.html#796">[ subject ]</a>
              <a href="author.html#796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
