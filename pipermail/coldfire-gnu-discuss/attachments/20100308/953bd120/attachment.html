<tt>
Hello,&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;the&nbsp;CodeSourcery&nbsp;toolchain&nbsp;for&nbsp;a&nbsp;ColdFire&nbsp;5272&nbsp;board,&nbsp;and&nbsp;I&nbsp;am&nbsp;interested&nbsp;in&nbsp;getting&nbsp;gdbserver&nbsp;working&nbsp;with&nbsp;pthread&nbsp;built&nbsp;apps.&lt;br&gt;&lt;br&gt;At&nbsp;risk&nbsp;of&nbsp;providing&nbsp;a&nbsp;too&nbsp;lengthy&nbsp;explanation&nbsp;to&nbsp;a&nbsp;problem&nbsp;I&nbsp;am&nbsp;seeing,&nbsp;I&#39;ll&nbsp;be&nbsp;deliberately&nbsp;very&nbsp;brief&nbsp;and&nbsp;if&nbsp;discussion&nbsp;occurs&nbsp;I&nbsp;am&nbsp;happy&nbsp;to&nbsp;provide&nbsp;more&nbsp;details.&lt;br&gt;<br>
&lt;br&gt;This&nbsp;board&nbsp;used&nbsp;to&nbsp;run&nbsp;the&nbsp;following&lt;br&gt;-&nbsp;uClinux&nbsp;build&nbsp;based&nbsp;on&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://uclinux.org&quot;&gt;uclinux.org&lt;/a&gt;&nbsp;provided&nbsp;2007&nbsp;distribution&nbsp;(kernel&nbsp;2.6.22)&lt;br&gt;-&nbsp;Essentially&nbsp;provided&nbsp;Freescale&nbsp;M5272C3&nbsp;configuration&nbsp;+&nbsp;customizations.&lt;br&gt;<br>
-&nbsp;CodeSourcery&nbsp;4.2-153&lt;br&gt;-&nbsp;App&nbsp;using&nbsp;pthreads&nbsp;and&nbsp;debugging&nbsp;using&nbsp;gdb/gdbserver&nbsp;from&nbsp;CodeSourcery&nbsp;worked&nbsp;fine&nbsp;(or&nbsp;at&nbsp;least&nbsp;with&nbsp;minor&nbsp;problems)&lt;br&gt; &nbsp;Target:&nbsp;$&nbsp;gdbserver&nbsp;:5000&nbsp;./theapp&lt;br&gt; &nbsp;Host:&nbsp;$&nbsp;gdb&nbsp;theapp.gdb&lt;br&gt;       &nbsp;$&nbsp;...target&nbsp;remote&nbsp;etc....&lt;br&gt;<br>
&lt;br&gt;Now&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;get&nbsp;the&nbsp;latest&nbsp;&lt;a&nbsp;href=&quot;http://uclinux.org&quot;&gt;uclinux.org&lt;/a&gt;&nbsp;distro&nbsp;from&nbsp;2009&nbsp;running&nbsp;(kernel&nbsp;2.6.[29-31]).&nbsp;The&nbsp;main&nbsp;reason&nbsp;is&nbsp;to&nbsp;look&nbsp;into&nbsp;improvements&nbsp;(kernel,&nbsp;busybox&nbsp;etc)&nbsp;in&nbsp;general&nbsp;(stability)&nbsp;and&nbsp;JFFS2&nbsp;enhancements&nbsp;in&nbsp;general.&lt;br&gt;<br>
-&nbsp;uClinux&nbsp;2009&nbsp;distro&lt;br&gt;-&nbsp;CodeSourcery&nbsp;4.4-53&lt;br&gt;&lt;br&gt;My&nbsp;port&nbsp;seems&nbsp;to&nbsp;work&nbsp;well&nbsp;in&nbsp;all&nbsp;aspects&nbsp;except&nbsp;for&nbsp;debugging&nbsp;multi-thread&nbsp;user&nbsp;apps.&nbsp;&lt;br&gt;I&nbsp;have&nbsp;tried&nbsp;many&nbsp;permutations&nbsp;of&nbsp;target&nbsp;build&nbsp;flags&nbsp;(-mcpu,&nbsp;-m&nbsp;etc),&nbsp;and&nbsp;according&nbsp;to&nbsp;CS&nbsp;website&nbsp;it&nbsp;seems&nbsp;recommended&nbsp;to&nbsp;-m5208&nbsp;runtime&nbsp;with&nbsp;M5272&nbsp;ColdFire.&nbsp;Therefore,&nbsp;I&nbsp;have&nbsp;lately&nbsp;tried&nbsp;&#39;-mcpu=5272&#39;&nbsp;for&nbsp;.c&nbsp;sources&nbsp;and&nbsp;&#39;-m5208&#39;&nbsp;during&nbsp;link.&nbsp;&lt;br&gt;<br>
But&nbsp;I&nbsp;cannot&nbsp;get&nbsp;it&nbsp;to&nbsp;work.&nbsp;Typically&nbsp;I&nbsp;see&nbsp;any&nbsp;of&nbsp;the&nbsp;following&nbsp;problems&lt;br&gt;-&nbsp;gdbserver&nbsp;saying&nbsp;upon&nbsp;&#39;target&nbsp;remote...&#39;&nbsp;comand&nbsp;from&nbsp;GDB&lt;br&gt; &nbsp;&#39;gdbserver:&nbsp;error&nbsp;initializing&nbsp;thread_db&nbsp;library:&nbsp;version&nbsp;mismatch&nbsp;between&nbsp;libthread_db&nbsp;and&nbsp;libpthread&#39;&lt;br&gt;<br>
 &nbsp;And&nbsp;debugging&nbsp;goes&nbsp;belly&nbsp;up&nbsp;when&nbsp;stepping&nbsp;over&nbsp;pthread_create&nbsp;calls&lt;br&gt;-&nbsp;gdbserver&nbsp;&#39;unattaches&#39;&nbsp;from&nbsp;the&nbsp;app&nbsp;upon&nbsp;&#39;target&nbsp;remote...&#39;&nbsp;comand&nbsp;from&nbsp;GDB&nbsp;and&nbsp;let&nbsp;the&nbsp;app&nbsp;continue&nbsp;unhindered.&nbsp;&lt;br&gt; &nbsp;GDB&nbsp;on&nbsp;host&nbsp;notices&nbsp;socket&nbsp;closed.&lt;br&gt;<br>
-&nbsp;Any&nbsp;other&nbsp;kind&nbsp;of&nbsp;complaint&nbsp;from&nbsp;gdbserver....&lt;br&gt;&lt;br&gt;And&nbsp;the&nbsp;bizarre&nbsp;thing&nbsp;is&nbsp;that&nbsp;using&nbsp;that&nbsp;I&nbsp;see&nbsp;the&nbsp;same&nbsp;kinds&nbsp;of&nbsp;problems&nbsp;when&nbsp;using&lt;br&gt;-&nbsp;CodeSourcery&nbsp;4.4,&nbsp;4.3&nbsp;or&nbsp;4.2&lt;br&gt;-&nbsp;New&nbsp;kernel&lt;br&gt;That&#39;s&nbsp;strange,&nbsp;I&nbsp;think.&nbsp;Do&nbsp;I&nbsp;need&nbsp;to&nbsp;enable&nbsp;something&nbsp;on&nbsp;the&nbsp;kernel&nbsp;side???&lt;br&gt;<br>
The&nbsp;only&nbsp;combination&nbsp;that&nbsp;I&nbsp;got&nbsp;to&nbsp;work&nbsp;somewhat&nbsp;satisfactory&nbsp;is&nbsp;the&nbsp;uclinux&nbsp;2007+CS4.2&lt;br&gt;&lt;br&gt;I&nbsp;even&nbsp;tried&nbsp;to&nbsp;build&nbsp;my&nbsp;own&nbsp;gdb/gdbserver&nbsp;from&nbsp;source,&nbsp;version&nbsp;7.0.1,&nbsp;but&nbsp;then&nbsp;I&nbsp;saw&nbsp;even&nbsp;more&nbsp;bizzare&nbsp;problems&lt;br&gt;&lt;br&gt;I&nbsp;would&nbsp;appreciate&nbsp;any&nbsp;piece&nbsp;of&nbsp;advice...&nbsp;Thanks&nbsp;in&nbsp;advance&lt;br&gt;<br>
&lt;br&gt;Harry&lt;br&gt;&lt;br&gt;<br>

</tt>
