<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20uClinux%20%26%20ColdFire%20pthread%20debugging%20using%0A%20%09CodeSourcery%204.4-53&In-Reply-To=%3C4B990494.5060606%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000688.html">
   <LINK REL="Next"  HREF="000690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53</H1>
    <B>Maxim Kuvyrkov</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20uClinux%20%26%20ColdFire%20pthread%20debugging%20using%0A%20%09CodeSourcery%204.4-53&In-Reply-To=%3C4B990494.5060606%40codesourcery.com%3E"
       TITLE="[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53">maxim at codesourcery.com
       </A><BR>
    <I>Thu Mar 11 14:56:20 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000688.html">[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53
</A></li>
        <LI>Next message: <A HREF="000690.html">[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/10/10 7:18 PM, Harry Gunnarsson wrote:
&gt;<i> Thanks for the reply
</I>&gt;<i>
</I>&gt;<i> Earlier, with CS 4.2, I used the -m5307 flag for compiling and linking
</I>&gt;<i>
</I>&gt;<i> As mentioned I did some more research on the options and now I typically
</I>&gt;<i> compile like this(The -D flags I don't really use, I brought them over
</I>&gt;<i> from the userspace makefiles for uClinux distro)
</I>&gt;<i>
</I>&gt;<i> m68k-uclinux-gcc -mcpu=5272  -g3    -DCONFIG_COLDFIRE -DEMBED -Dlinux
</I>&gt;<i> -D__linux__ -Dunix -D__uClinux__  -Isrc/pthread/join -DDEBUG  -c
</I>&gt;<i> src/pthread/join/join.c -o objs/jthread_m68k_Ono/join.o
</I>&gt;<i> m68k-uclinux-gcc -mcpu=5272 -DCONFIG_COLDFIRE -Wl,--fatal-warnings
</I>&gt;<i> -Wl,-elf2flt -o objs/jthread_m68k_Ono/jthread_m68k_Ono.bflt
</I>&gt;<i> objs/jthread_m68k_Ono/join.o -lpthread
</I>&gt;<i>
</I>&gt;<i> Running with -v on linking, I see that the following path is used
</I>&gt;<i> -L...installpath.../freescale-coldfire-4.4/bin/../m68k-uclinux/libc/m5206e/usr/lib
</I>
This is the correct binary.

&gt;<i>
</I>&gt;<i> Therefore I pick up gdbserver from this path
</I>&gt;<i> freescale-coldfire-4.4/bin/../m68k-uclinux/libc/m5206e/usr/lib/bin/gdbserver
</I>&gt;<i> and put it on the target
</I>&gt;<i>
</I>&gt;<i> Then I run as usual
</I>&gt;<i> gdbserver :5000 ./jth...bflt
</I>
Are you sure you are invoking the very gdbserver you put on the target? 
  May be the system gdbserver comes in PATH before the one you put on 
the target (I did this mistake a couple of times).

-- 
Maxim Kuvyrkov
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">maxim at codesourcery.com</A>
(650) 331-3385 x724

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000688.html">[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53
</A></li>
	<LI>Next message: <A HREF="000690.html">[coldfire-gnu-discuss] uClinux &amp; ColdFire pthread debugging using 	CodeSourcery 4.4-53
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#689">[ date ]</a>
              <a href="thread.html#689">[ thread ]</a>
              <a href="subject.html#689">[ subject ]</a>
              <a href="author.html#689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
