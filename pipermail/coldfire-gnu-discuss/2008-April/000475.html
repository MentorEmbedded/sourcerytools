<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [coldfire-gnu-discuss] CS3 Startup Process - Specifying A Different Vector Table
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20CS3%20Startup%20Process%20-%20Specifying%20A%20Different%0A%20Vector%20Table&In-Reply-To=%3C480937CB.8090200%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000474.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[coldfire-gnu-discuss] CS3 Startup Process - Specifying A Different Vector Table</H1>
    <B>Mark Mitchell</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20CS3%20Startup%20Process%20-%20Specifying%20A%20Different%0A%20Vector%20Table&In-Reply-To=%3C480937CB.8090200%40codesourcery.com%3E"
       TITLE="[coldfire-gnu-discuss] CS3 Startup Process - Specifying A Different Vector Table">mark at codesourcery.com
       </A><BR>
    <I>Sat Apr 19 00:07:39 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000474.html">CS3 Startup Process - Specifying A Different Vector Table
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#475">[ date ]</a>
              <a href="thread.html#475">[ thread ]</a>
              <a href="subject.html#475">[ subject ]</a>
              <a href="author.html#475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Daniel McLean wrote:

&gt;<i> However when I use the same vector file in a managed make project (eg. the
</I>&gt;<i> factorial example from the Getting Started Guide).  I have no problems.  The
</I>&gt;<i> difference I assume is because managed make uses gcc to build the elf file
</I>&gt;<i> from a collection of object files, and my problem is arising because I want
</I>&gt;<i> to use ld to link the files together, and some files are coming out of
</I>&gt;<i> archives?
</I>
Yes, using ld to link directly is rather tricky.  We always recommend 
that users use gcc to link, instead of ld, because gcc knows what 
options to pass for libraries and such.  You can still pass options to 
the linker with &quot;-Wl&quot;; for example:

   gcc -Wl,-map,map.txt file.o -o program.exe

passes along the &quot;-map&quot; option to the linker.

Is there a reason that you need to use &quot;ld&quot;?

&gt;<i> What am I doing wrong, and why is ld even looking for the vector table when
</I>&gt;<i> I've already got it defined?
</I>
It's possible that something is requiring some symbol defined in 
coldfire-vector.o (from libcs3coldfire.a) and therefore the linker is 
pulling that in, even though you've already got a definition.  You could 
probably see if that's the case by looking at the mapfile.  (See options 
above.)

Thanks,

-- 
Mark Mitchell
CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">mark at codesourcery.com</A>
(650) 331-3385 x713

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000474.html">CS3 Startup Process - Specifying A Different Vector Table
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#475">[ date ]</a>
              <a href="thread.html#475">[ thread ]</a>
              <a href="subject.html#475">[ subject ]</a>
              <a href="author.html#475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
