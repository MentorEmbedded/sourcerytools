<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [coldfire-gnu-discuss] Illegal Operand in libc-2.3.6.so
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20Illegal%20Operand%20in%20libc-2.3.6.so&In-Reply-To=%3C4639F1A5.5030205%40codesourcery.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000297.html">
   <LINK REL="Next"  HREF="000299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[coldfire-gnu-discuss] Illegal Operand in libc-2.3.6.so</H1>
    <B>Nathan Sidwell</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20Illegal%20Operand%20in%20libc-2.3.6.so&In-Reply-To=%3C4639F1A5.5030205%40codesourcery.com%3E"
       TITLE="[coldfire-gnu-discuss] Illegal Operand in libc-2.3.6.so">nathan at codesourcery.com
       </A><BR>
    <I>Thu May  3 14:28:53 UTC 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000297.html">Illegal Operand in libc-2.3.6.so
</A></li>
        <LI>Next message: <A HREF="000299.html">Problem with GDB   - M52233DEMO - newbie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#298">[ date ]</a>
              <a href="thread.html#298">[ thread ]</a>
              <a href="subject.html#298">[ subject ]</a>
              <a href="author.html#298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mouawad, Tony wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We are currently experiencing Illegal Operand errors intermittently when
</I>&gt;<i> a call is made to printf() or vfprintf().  In either case, the Illegal
</I>&gt;<i> Operand occurs at the following line:
</I>&gt;<i> 
</I>&gt;<i> 0x404391f4 &lt;_IO_new_file_xsputn+110&gt;: 034   /* Illegal Operand */   
</I>&gt;<i> 0x404391f6 &lt;_IO_new_file_xsputn+112&gt;: moveq  #127,%d1
</I>&gt;<i> 0x404391f8 &lt;_IO_new_file_xsputn+114&gt;: cmpl   %d0,%d1
</I>&gt;<i> 0x404391fa &lt;_IO_new_file_xsputn+116&gt;: bcsw   0x404392c8
</I>&gt;<i> &lt;_IO_new_file_xsputn+322&gt;
</I>&gt;<i> 0x404391fe &lt;_IO_new_file_xsputn+120&gt;: clrb   %d1
</I>&gt;<i> 0x40439200 &lt;_IO_new_file_xsputn+122&gt;: movel  %d2,%d4
</I>&gt;<i> 0x40439202 &lt;_IO_new_file_xsputn+124&gt;: subl   %d1,%d4
</I>&gt;<i> 0x40439204 &lt;_IO_new_file_xsputn+126&gt;: bnew   0x404392d6
</I>&gt;<i> &lt;_IO_new_file_xsputn+336&gt;
</I>&gt;<i> 0x40439208 &lt;_IO_new_file_xsputn+130&gt;: tstl   %d2
</I>&gt;<i> 0x4043920a &lt;_IO_new_file_xsputn+132&gt;: beqs   0x404391ca
</I>&gt;<i> &lt;_IO_new_file_xsputn+68&gt;
</I>&gt;<i> 0x4043920c &lt;_IO_new_file_xsputn+134&gt;: movel  %d2,%<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">sp at -</A>
</I>&gt;<i> 0x4043920e &lt;_IO_new_file_xsputn+136&gt;: pea    %a4@(00000000,%d4:l)
</I>
If I understand what you're showing here, it's that somehow you're trying to 
execute an instruction at 0x404391f4, which as the disassembler is showing, is 
invalid.  do you know how you arrived there (a jump from somewhere else entirely?)

Has the text image become corrupted somehow?  What is the disassembly of that 
region before your program starts?

The text image should be read only, so if it is becoming corrupted, that would 
imply a kernel fault.

nathan

-- 
Nathan Sidwell    ::   <A HREF="http://www.codesourcery.com">http://www.codesourcery.com</A>   ::         CodeSourcery
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">nathan at codesourcery.com</A>    ::     <A HREF="http://www.planetfall.pwp.blueyonder.co.uk">http://www.planetfall.pwp.blueyonder.co.uk</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000297.html">Illegal Operand in libc-2.3.6.so
</A></li>
	<LI>Next message: <A HREF="000299.html">Problem with GDB   - M52233DEMO - newbie
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#298">[ date ]</a>
              <a href="thread.html#298">[ thread ]</a>
              <a href="subject.html#298">[ subject ]</a>
              <a href="author.html#298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
