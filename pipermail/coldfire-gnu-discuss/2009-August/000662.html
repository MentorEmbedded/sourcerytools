<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> m5329 compiling and linking questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20m5329%20compiling%20and%20linking%20questions&In-Reply-To=%3C74DEA4DCF5979F4CB7661A427E85E983F542FFF3%40ATHENA.koncar-institut.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000661.html">
   <LINK REL="Next"  HREF="000663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>m5329 compiling and linking questions</H1>
    <B>Filip Klari&#263;</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20m5329%20compiling%20and%20linking%20questions&In-Reply-To=%3C74DEA4DCF5979F4CB7661A427E85E983F542FFF3%40ATHENA.koncar-institut.local%3E"
       TITLE="m5329 compiling and linking questions">fklaric at koncar-institut.hr
       </A><BR>
    <I>Wed Aug 19 11:16:13 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000661.html">write to flash 52235EVB with light edition
</A></li>
        <LI>Next message: <A HREF="000663.html">[coldfire-gnu-discuss] m5329 compiling and linking questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#662">[ date ]</a>
              <a href="thread.html#662">[ thread ]</a>
              <a href="subject.html#662">[ subject ]</a>
              <a href="author.html#662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have COBRA5329 board and I am a bit new to embedded programming
so few questions

When I compile my source with

m68k-uclinux-gcc  -mcpu=5329  -Wl,-elf2flt  -o exec_file file
I get working executable

When i do it with
m68k-uclinux-gcc -o obj_file -c file
&amp;
m68k-uclinux-ld -L(to m5329 libc.a) -elf2flt -o exec_file obj_file

It gives 'Illegal instruction' error on target, acctualy it doesn't work with any libc library i select or with -msep-data or -mid-shared-library options
What is the catch? What happens when I use -mcpu option and auto-link file to compiler differently then when i do it manually?

ALSO

I get 'Unable to mmap process text, errno 12' a lot of times and it shouldn't be free memory problem
because my buddyinfo gives
&quot;Node0, zone Normal 3 1 1 1 1 1 1 0 0 1 1 0&quot;

It happens with any application that i compile with -msep-data option, even for those with few kBs in size
Is something wrong with my linker scripts (tried default and some changes it didn't work)?
Could it be that fault is in msep-data libraries?


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://sourcerytools.com/pipermail/coldfire-gnu-discuss/attachments/20090819/03d1cc3a/attachment.html">http://sourcerytools.com/pipermail/coldfire-gnu-discuss/attachments/20090819/03d1cc3a/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000661.html">write to flash 52235EVB with light edition
</A></li>
	<LI>Next message: <A HREF="000663.html">[coldfire-gnu-discuss] m5329 compiling and linking questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#662">[ date ]</a>
              <a href="thread.html#662">[ thread ]</a>
              <a href="subject.html#662">[ subject ]</a>
              <a href="author.html#662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
