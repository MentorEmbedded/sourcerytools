<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [coldfire-gnu-discuss] Debugging from flash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20Debugging%20from%20flash&In-Reply-To=%3C20080905213323.GX6268%40caradoc.them.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000552.html">
   <LINK REL="Next"  HREF="000555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[coldfire-gnu-discuss] Debugging from flash</H1>
    <B>Daniel Jacobowitz</B> 
    <A HREF="mailto:coldfire-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bcoldfire-gnu-discuss%5D%20Debugging%20from%20flash&In-Reply-To=%3C20080905213323.GX6268%40caradoc.them.org%3E"
       TITLE="[coldfire-gnu-discuss] Debugging from flash">dan at codesourcery.com
       </A><BR>
    <I>Fri Sep  5 21:33:26 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000552.html">Debugging from flash
</A></li>
        <LI>Next message: <A HREF="000555.html">[coldfire-gnu-discuss] Debugging from flash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#553">[ date ]</a>
              <a href="thread.html#553">[ thread ]</a>
              <a href="subject.html#553">[ subject ]</a>
              <a href="author.html#553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Sep 05, 2008 at 04:20:08PM -0400, Corrin Meyer wrote:
&gt;<i> I am using the P&amp;E Micro flash utility (CPROGCFZ) to flash the ColdFire
</I>&gt;<i> on the board I am working on.  I would like to be able to debug the
</I>&gt;<i> running program using GDB.  The problem is that the error I am getting
</I>&gt;<i> is right at boot and since the USB device can't be claimed by both the
</I>&gt;<i> P&amp;E Micro utility and the m68k-elf-sprite at the same time I have to
</I>&gt;<i> first flash it and then connect GDB to it but by that time it has
</I>&gt;<i> already run into the error.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> I need to be able to tell the program to restart.  Normally I would just
</I>&gt;<i> do a 'load' command within GDB but that will only work when running from
</I>&gt;<i> RAM.  Is there anyway to restart a program that is already running in
</I>&gt;<i> flash?  I can't do a reset as then breakpoint set by GDB is cleared, it
</I>&gt;<i> needs to be a software reset issued by GDB.
</I>
When you start the sprite, unless you tell it not to, it resets the
board.  So your program should be back at the reset vector when you
connect from GDB.  Is that not happening?

[&quot;load&quot; works fine and programs flash if you have a non-Lite SG++, by
the way :-)]

-- 
Daniel Jacobowitz
CodeSourcery

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000552.html">Debugging from flash
</A></li>
	<LI>Next message: <A HREF="000555.html">[coldfire-gnu-discuss] Debugging from flash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#553">[ date ]</a>
              <a href="thread.html#553">[ thread ]</a>
              <a href="subject.html#553">[ subject ]</a>
              <a href="author.html#553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/coldfire-gnu-discuss">More information about the coldfire-gnu-discuss
mailing list</a><br>
</body></html>
