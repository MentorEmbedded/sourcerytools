<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mips-gnu-discuss] IEEE math support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:mips-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bmips-gnu-discuss%5D%20IEEE%20math%20support&In-Reply-To=%3CPine.LNX.4.64.1109281642460.4509%40digraph.polyomino.org.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000000.html">
   <LINK REL="Next"  HREF="000002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mips-gnu-discuss] IEEE math support</H1>
    <B>Joseph S. Myers</B> 
    <A HREF="mailto:mips-gnu-discuss%40codesourcery.com?Subject=Re%3A%20%5Bmips-gnu-discuss%5D%20IEEE%20math%20support&In-Reply-To=%3CPine.LNX.4.64.1109281642460.4509%40digraph.polyomino.org.uk%3E"
       TITLE="[mips-gnu-discuss] IEEE math support">joseph at codesourcery.com
       </A><BR>
    <I>Wed Sep 28 16:51:28 UTC 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000000.html">[mips-gnu-discuss] IEEE math support
</A></li>
        <LI>Next message: <A HREF="000002.html">[mips-gnu-discuss] IEEE math support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1">[ date ]</a>
              <a href="thread.html#1">[ thread ]</a>
              <a href="subject.html#1">[ subject ]</a>
              <a href="author.html#1">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 28 Sep 2011, Martin Herrman wrote:

&gt;<i> I want to compile the rrdtool software
</I>&gt;<i> (<A HREF="http://oss.oetiker.ch/rrdtool/">http://oss.oetiker.ch/rrdtool/</A>) which requires that the compiler
</I>&gt;<i> supports IEEE math. In the documentation I found that when the target
</I>
&quot;supports IEEE math&quot; can have many possible meanings; it's difficult to 
give a meaningful answer without a detailed explanation of the 
requirements of the particular code, but in general the support levels on 
i386 and MIPS are similar.

&gt;<i> is an i386 system, the -mieee-fp argument supports it. For MIPS target
</I>&gt;<i> architecture, such an option is not documented.
</I>&gt;<i> 
</I>&gt;<i> Is that correct, or do I misunderstand the documentation?
</I>
The -mieee-fp option does very little on i386.  Within the compiler it's 
enabled by default, so the only effect is to link with -lieee at link 
time, and in turn what that does is disable setting errno for various 
mathematical library functions (but probably not consistently) while 
leaving them setting the exceptions they would do anyway.  Code using 
-mieee-fp on i386 is probably using it based on some vague idea that it 
sounds good, rather than because of any need for its actual, limited, 
effects.

&gt;<i> Is there any solution available (without a total rewrite of the
</I>&gt;<i> rrdtool source code)?
</I>
You can always link with -lieee if the effects of that are genuinely 
required.  If your MIPS processor has hardware floating point support then 
you will have exceptions and rounding modes working (subject to all the 
same compiler limitations as apply on all targets, not just MIPS), 
although some exceptional cases may rely on kernel emulation.

-- 
Joseph S. Myers
<A HREF="http://sourcerytools.com/cgi-bin/mailman/listinfo/mips-gnu-discuss">joseph at codesourcery.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000000.html">[mips-gnu-discuss] IEEE math support
</A></li>
	<LI>Next message: <A HREF="000002.html">[mips-gnu-discuss] IEEE math support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1">[ date ]</a>
              <a href="thread.html#1">[ thread ]</a>
              <a href="subject.html#1">[ subject ]</a>
              <a href="author.html#1">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://sourcerytools.com/cgi-bin/mailman/listinfo/mips-gnu-discuss">More information about the mips-gnu-discuss
mailing list</a><br>
</body></html>
