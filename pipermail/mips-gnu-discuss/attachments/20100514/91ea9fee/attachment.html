<tt>
All,&lt;br&gt;&lt;br&gt;although&nbsp;not&nbsp;new&nbsp;to&nbsp;linux&nbsp;or&nbsp;compiling&nbsp;software&nbsp;(e.g.&nbsp;kernel,&nbsp;seldom&nbsp;used&nbsp;apps,&nbsp;running&nbsp;Gentoo),&nbsp;I&#39;m&nbsp;new&nbsp;to&nbsp;cross-compiling&nbsp;and&nbsp;need&nbsp;some&nbsp;help&nbsp;:-)&lt;br&gt;&lt;br&gt;What&nbsp;is&nbsp;it&nbsp;that&nbsp;I&nbsp;want&nbsp;to&nbsp;accomplish?&nbsp;Create&nbsp;a&nbsp;new&nbsp;custom&nbsp;firmware&nbsp;for&nbsp;my&nbsp;mediaplayer&nbsp;(EM7075).&lt;br&gt;<br>
&lt;br&gt;What&nbsp;did&nbsp;I&nbsp;do&nbsp;so&nbsp;far?&lt;br&gt;&lt;br&gt;1.&nbsp;install&nbsp;mips-4.3.51-mips-linux-gnu.bin,&nbsp;typical&nbsp;install,&nbsp;location:&nbsp;/root/CodeSourcery&lt;br&gt;2.&nbsp;Modify&nbsp;.bash_profile&nbsp;(I&nbsp;do&nbsp;realise&nbsp;that&nbsp;this&nbsp;impacts&nbsp;all&nbsp;my&nbsp;compilations&nbsp;on&nbsp;Gentoo&nbsp;:-))&lt;br&gt;&lt;br&gt;<br>
martindesktop&nbsp;~&nbsp;#&nbsp;cat&nbsp;/root/.bash_profile&lt;br&gt;&lt;br&gt;#&nbsp;New&nbsp;environment&nbsp;setting&nbsp;added&nbsp;by&nbsp;Sourcery&nbsp;G++&nbsp;Lite&nbsp;for&nbsp;MIPS&nbsp;GNU/Linux&nbsp;on&nbsp;Fri&nbsp;May&nbsp;14&nbsp;10:16:00&nbsp;CEST&nbsp;2010&nbsp;1.&lt;br&gt;#&nbsp;The&nbsp;unmodified&nbsp;version&nbsp;of&nbsp;this&nbsp;file&nbsp;is&nbsp;saved&nbsp;in&nbsp;/root/.bash_profile254443263.&lt;br&gt;<br>
#&nbsp;Do&nbsp;NOT&nbsp;modify&nbsp;these&nbsp;lines;&nbsp;they&nbsp;are&nbsp;used&nbsp;to&nbsp;uninstall.&lt;br&gt;PATH=&quot;/root/CodeSourcery/Sourcery_G++_Lite/bin:${PATH}&quot;&lt;br&gt;export&nbsp;PATH&lt;br&gt;#&nbsp;End&nbsp;comments&nbsp;by&nbsp;InstallAnywhere&nbsp;on&nbsp;Fri&nbsp;May&nbsp;14&nbsp;10:16:00&nbsp;CEST&nbsp;2010&nbsp;1.&lt;br&gt;&lt;br&gt;<br>
CFLAGS=&quot;-EL&quot;&lt;br&gt;export&nbsp;CFLAGS&lt;br&gt;&lt;br&gt;CXXFLAGS=&quot;-EL&quot;&lt;br&gt;export&nbsp;CXXFLAGS&lt;br&gt;&lt;br&gt;#&nbsp;-s&nbsp;removed,&nbsp;no&nbsp;stripping&nbsp;anymore..&nbsp;(because&nbsp;I&nbsp;hoped&nbsp;that&nbsp;striping&nbsp;caused&nbsp;the&nbsp;error)&lt;br&gt;LDFLAGS=&quot;-Xlinker&nbsp;-rpath&nbsp;/lib&nbsp;-Xlinker&nbsp;-rpath-link&nbsp;/root/CodeSourcery/Sourcery_G++_Lite/lib/gcc/mips-linux-gnu/4.3.2/el&quot;&lt;br&gt;<br>
export&nbsp;LDFLAGS&lt;br&gt;&lt;br&gt;STRIP=&quot;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-strip&quot;&lt;br&gt;export&nbsp;STRIP&lt;br&gt;&lt;br&gt;CC=&quot;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-gcc&quot;&lt;br&gt;export&nbsp;CC&lt;br&gt;&lt;br&gt;CXX=&quot;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-g++&quot;&lt;br&gt;<br>
export&nbsp;CXX&lt;br&gt;&lt;br&gt;#&nbsp;Removed:&nbsp;&#39;rc&#39;&nbsp;argument&nbsp;because&nbsp;of&nbsp;zlib&nbsp;fails,&nbsp;it&nbsp;adds&nbsp;rc&nbsp;already&lt;br&gt;AR=&quot;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-ar&quot;&lt;br&gt;export&nbsp;AR&lt;br&gt;martindesktop&nbsp;~&nbsp;#&lt;br&gt;&lt;br&gt;3.&nbsp;download,&nbsp;gunzip&nbsp;and&nbsp;untar&nbsp;zlib-1.2.5.tar.gz&lt;br&gt;<br>
4.&nbsp;<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure&nbsp;--prefix=/root/EM7075/mips;&nbsp;make;&nbsp;make&nbsp;install&lt;br&gt;5.&nbsp;download,&nbsp;gunzip&nbsp;and&nbsp;untar&nbsp;openssl-1.0.0.tar.gz&lt;br&gt;6.&nbsp;<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./Configure&nbsp;dist&nbsp;--prefix=/root/EM7075/mips&nbsp;zlib&nbsp;--with-zlib-include=/root/EM7075/mips/include&nbsp;--with-zlib-lib=/root/EM7075/mips/lib&lt;br&gt;7.&nbsp;when&nbsp;executing&nbsp;&#39;make&#39;,&nbsp;the&nbsp;following&nbsp;error&nbsp;pops&nbsp;up:&lt;br&gt;&lt;br&gt;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-gcc&nbsp;-DMONOLITH&nbsp;-I..&nbsp;-I../include &nbsp;-DZLIB&nbsp;-O  &nbsp;-c&nbsp;-o&nbsp;ts.o&nbsp;ts.c                                                         &nbsp;&lt;br&gt;<br>
/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-gcc&nbsp;-DMONOLITH&nbsp;-I..&nbsp;-I../include &nbsp;-DZLIB&nbsp;-O  &nbsp;-c&nbsp;-o&nbsp;openssl.o&nbsp;openssl.c                                               &nbsp;&lt;br&gt;rm&nbsp;-f&nbsp;openssl                                                                                                                                                                 &nbsp;&lt;br&gt;<br>
shlib_target=;&nbsp;if&nbsp;[&nbsp;-n&nbsp;&quot;&quot;&nbsp;];&nbsp;then&nbsp;\                                                                                                                                           &nbsp;&lt;br&gt;               &nbsp;shlib_target=&quot;&quot;;&nbsp;\                                                                                                                                            &nbsp;&lt;br&gt;<br>
       &nbsp;fi;&nbsp;\                                                                                                                                                                 &nbsp;&lt;br&gt;       &nbsp;LIBRARIES=&quot;-L..&nbsp;-lssl &nbsp;-L..&nbsp;-lcrypto&quot;&nbsp;;&nbsp;\                                                                                                                             &nbsp;&lt;br&gt;<br>
       &nbsp;make&nbsp;-f&nbsp;../Makefile.shared&nbsp;-e&nbsp;\                                                                                                                                       &nbsp;&lt;br&gt;               &nbsp;APPNAME=openssl&nbsp;OBJECTS=&quot;openssl.o&nbsp;verify.o&nbsp;asn1pars.o&nbsp;req.o&nbsp;dgst.o&nbsp;dh.o&nbsp;dhparam.o&nbsp;enc.o&nbsp;passwd.o&nbsp;gendh.o&nbsp;errstr.o&nbsp;ca.o&nbsp;pkcs7.o&nbsp;crl2p7.o&nbsp;crl.o&nbsp;rsa.o&nbsp;rsautl.o&nbsp;dsa.o&nbsp;dsaparam.o&nbsp;ec.o&nbsp;ecparam.o&nbsp;x509.o&nbsp;genrsa.o&nbsp;gendsa.o&nbsp;genpkey.o&nbsp;s_server.o&nbsp;s_client.o&nbsp;speed.o&nbsp;s_time.o&nbsp;apps.o&nbsp;s_cb.o&nbsp;s_socket.o&nbsp;app_rand.o&nbsp;version.o&nbsp;sess_id.o&nbsp;ciphers.o&nbsp;nseq.o&nbsp;pkcs12.o&nbsp;pkcs8.o&nbsp;pkey.o&nbsp;pkeyparam.o&nbsp;pkeyutl.o&nbsp;spkac.o&nbsp;smime.o&nbsp;cms.o&nbsp;rand.o&nbsp;engine.o&nbsp;ocsp.o&nbsp;prime.o&nbsp;ts.o&quot;&nbsp;\                                                                 &nbsp;&lt;br&gt;<br>
               &nbsp;LIBDEPS=&quot;&nbsp;$LIBRARIES&nbsp;-L/root/EM7075/mips/lib&nbsp;-lz&quot;&nbsp;\                                                                                                           &nbsp;&lt;br&gt;               &nbsp;link_app.${shlib_target}                                                                                                                                      &nbsp;&lt;br&gt;<br>
make[2]:&nbsp;Entering&nbsp;directory&nbsp;`/root/EM7075/openssl-1.0.0/apps&#39;                                                                                                                 &nbsp;&lt;br&gt;(&nbsp;:;&nbsp;LIBDEPS=&quot;${LIBDEPS:--L..&nbsp;-lssl &nbsp;-L..&nbsp;-lcrypto&nbsp;-L/root/EM7075/mips/lib&nbsp;-lz}&quot;;&nbsp;LDCMD=&quot;${LDCMD:-/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-gcc}&quot;;&nbsp;LDFLAGS=&quot;${LDFLAGS:--DZLIB&nbsp;-O}&quot;;&nbsp;LIBPATH=`for&nbsp;x&nbsp;in&nbsp;$LIBDEPS;&nbsp;do&nbsp;echo&nbsp;$x;&nbsp;done&nbsp;|&nbsp;sed&nbsp;-e&nbsp;&#39;s/^&nbsp;*-L//;t&#39;&nbsp;-e&nbsp;d&nbsp;|&nbsp;uniq`;&nbsp;LIBPATH=`echo&nbsp;$LIBPATH&nbsp;|&nbsp;sed&nbsp;-e&nbsp;&#39;s/&nbsp;/:/g&#39;`;&nbsp;LD_LIBRARY_PATH=$LIBPATH:$LD_LIBRARY_PATH&nbsp;${LDCMD}&nbsp;${LDFLAGS}&nbsp;-o&nbsp;${APPNAME:=openssl}&nbsp;openssl.o&nbsp;verify.o&nbsp;asn1pars.o&nbsp;req.o&nbsp;dgst.o&nbsp;dh.o&nbsp;dhparam.o&nbsp;enc.o&nbsp;passwd.o&nbsp;gendh.o&nbsp;errstr.o&nbsp;ca.o&nbsp;pkcs7.o&nbsp;crl2p7.o&nbsp;crl.o&nbsp;rsa.o&nbsp;rsautl.o&nbsp;dsa.o&nbsp;dsaparam.o&nbsp;ec.o&nbsp;ecparam.o&nbsp;x509.o&nbsp;genrsa.o&nbsp;gendsa.o&nbsp;genpkey.o&nbsp;s_server.o&nbsp;s_client.o&nbsp;speed.o&nbsp;s_time.o&nbsp;apps.o&nbsp;s_cb.o&nbsp;s_socket.o&nbsp;app_rand.o&nbsp;version.o&nbsp;sess_id.o&nbsp;ciphers.o&nbsp;nseq.o&nbsp;pkcs12.o&nbsp;pkcs8.o&nbsp;pkey.o&nbsp;pkeyparam.o&nbsp;pkeyutl.o&nbsp;spkac.o&nbsp;smime.o&nbsp;cms.o&nbsp;rand.o&nbsp;engine.o&nbsp;ocsp.o&nbsp;prime.o&nbsp;ts.o&nbsp;${LIBDEPS}&nbsp;)                                         &nbsp;&lt;br&gt;<br>
/root/EM7075/mips/lib/libz.so:&nbsp;could&nbsp;not&nbsp;read&nbsp;symbols:&nbsp;File&nbsp;in&nbsp;wrong&nbsp;format                                                                                                   &nbsp;&lt;br&gt;collect2:&nbsp;ld&nbsp;returned&nbsp;1&nbsp;exit&nbsp;status                                                                                                                                           &nbsp;&lt;br&gt;<br>
make[2]:&nbsp;***&nbsp;[link_app.]&nbsp;Error&nbsp;1                                                                                                                                              &nbsp;&lt;br&gt;make[2]:&nbsp;Leaving&nbsp;directory&nbsp;`/root/EM7075/openssl-1.0.0/apps&#39;                                                                                                                  &nbsp;&lt;br&gt;<br>
make[1]:&nbsp;***&nbsp;[openssl]&nbsp;Error&nbsp;2                                                                                                                                                &nbsp;&lt;br&gt;make[1]:&nbsp;Leaving&nbsp;directory&nbsp;`/root/EM7075/openssl-1.0.0/apps&#39;                                                                                                                  &nbsp;&lt;br&gt;<br>
make:&nbsp;***&nbsp;[build_apps]&nbsp;Error&nbsp;1&nbsp;&lt;br&gt;&lt;br&gt;8.&nbsp;libz.so&nbsp;is&nbsp;a&nbsp;symlink&nbsp;to&nbsp;libz.so.1.2.5&lt;br&gt;martindesktop&nbsp;openssl-1.0.0&nbsp;#&nbsp;file&nbsp;/root/EM7075/mips/lib/libz.so&lt;br&gt;/root/EM7075/mips/lib/libz.so:&nbsp;symbolic&nbsp;link&nbsp;to&nbsp;`libz.so.1.2.5&#39;&lt;br&gt;<br>
martindesktop&nbsp;openssl-1.0.0&nbsp;#&nbsp;file&nbsp;/root/EM7075/mips/lib/libz.so.1.2.5&lt;br&gt;/root/EM7075/mips/lib/libz.so.1.2.5:&nbsp;ELF&nbsp;32-bit&nbsp;LSB&nbsp;shared&nbsp;object,&nbsp;MIPS,&nbsp;MIPS32&nbsp;rel2&nbsp;version&nbsp;1&nbsp;(SYSV),&nbsp;dynamically&nbsp;linked,&nbsp;with&nbsp;unknown&nbsp;capability&nbsp;0xf41&nbsp;=&nbsp;0x756e6700,&nbsp;not&nbsp;stripped&lt;br&gt;<br>
&lt;br&gt;9.&nbsp;nm&nbsp;shows&nbsp;the&nbsp;symbols:&lt;br&gt;martindesktop&nbsp;openssl-1.0.0&nbsp;#&nbsp;nm&nbsp;/root/EM7075/mips/lib/libz.so.1.2.5                                                                                                      &nbsp;&lt;br&gt;00000000&nbsp;A&nbsp;ZLIB_1.2.0                                                                                                                                                     &nbsp;&lt;br&gt;<br>
(..)&lt;br&gt;&lt;br&gt;martindesktop&nbsp;openssl-1.0.0&nbsp;#&nbsp;/root/CodeSourcery/Sourcery_G++_Lite/bin/mips-linux-gnu-nm&nbsp;/root/EM7075/mips/lib/libz.so.1.2.5&lt;br&gt;00000000&nbsp;A&nbsp;ZLIB_1.2.0&nbsp;&lt;br&gt;(..)&lt;br&gt;&lt;br&gt;10.&nbsp;I&nbsp;have&nbsp;replaced&nbsp;the&nbsp;symlink&nbsp;with&nbsp;the&nbsp;original&nbsp;libz.so.1.2.5,&nbsp;makes&nbsp;no&nbsp;difference&nbsp;(as&nbsp;expected).&lt;br&gt;<br>
&lt;br&gt;11.&nbsp;looked&nbsp;into&nbsp;the&nbsp;known&nbsp;problems&nbsp;file&nbsp;inside&nbsp;the&nbsp;tar.gz,&nbsp;but&nbsp;no&nbsp;luck.&lt;br&gt;&lt;br&gt;12.&nbsp;I&nbsp;expect&nbsp;that&nbsp;this&nbsp;could&nbsp;be&nbsp;a&nbsp;32/64-bit&nbsp;issue,&nbsp;or&nbsp;an&nbsp;incompatibility&nbsp;issue&nbsp;(openssl&nbsp;1.0.0&nbsp;depends&nbsp;on&nbsp;zlib&nbsp;&lt;&nbsp;1.2.5?),&nbsp;but&nbsp;I&#39;m&nbsp;clueless..&lt;br&gt;<br>
&lt;br&gt;I&nbsp;hope&nbsp;someone&nbsp;can&nbsp;help&nbsp;me&nbsp;solving&nbsp;this&nbsp;issue,&nbsp;much&nbsp;thanks&nbsp;in&nbsp;advance!&lt;br&gt;&lt;br&gt;Martin&lt;br&gt;&lt;meta&nbsp;http-equiv=&quot;CONTENT-TYPE&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;name=&quot;GENERATOR&quot;&nbsp;content=&quot;OpenOffice.org&nbsp;3.2&nbsp;&nbsp;(Unix)&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@page&nbsp;{&nbsp;margin:&nbsp;0.79in&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;{&nbsp;margin-bottom:&nbsp;0.08in&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&lt;br&gt;&lt;br&gt;&lt;/style&gt;&lt;meta&nbsp;http-equiv=&quot;CONTENT-TYPE&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;name=&quot;GENERATOR&quot;&nbsp;content=&quot;OpenOffice.org&nbsp;3.2&nbsp;&nbsp;(Unix)&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@page&nbsp;{&nbsp;margin:&nbsp;0.79in&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;{&nbsp;margin-bottom:&nbsp;0.08in&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br>
<br>

</tt>
